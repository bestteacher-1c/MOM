//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// В модуле описаны контекстные запросы данных из оперативных документов в формате (протоколе), необходимом
// для проведения по регламентированному учету (по регистру бухгалтерии Хозрасчетный).
//
// Экспорт в служебных процедурах и функциях указан для включения повторного использования.
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Возвращает параметры учетной политики, значимые для заполнения сумм НУ, ПР, ВР в проводках.
//
// Параметры:
// 	Организация - СправочникСсылка.Организации - Организация, для которой получаются параметры учетной политики
// 	Период - Дата - Период действия учетной политики.
// 
// Возвращаемое значение:
// 	 Результат -  Структура - значения параметров учетной политики:
// 		* ПлательщикНалогаНаПрибыль - Булево - Признак, что организация является плательщиком налога на прибыль
// 		* ПоддержкаПБУ18 - Булево - Признак, что организация применяет ПБУ 18/02.
//
Функция ДанныеУчетнойПолитики(Организация, Период) Экспорт
	
	Результат = Новый Структура;
	Результат.Вставить("ПлательщикНалогаНаПрибыль");
	Результат.Вставить("ПоддержкаПБУ18");
	
	Если УчетнаяПолитика.Существует(Организация, Период) Тогда
		Результат.ПлательщикНалогаНаПрибыль = УчетнаяПолитика.ПлательщикНалогаНаПрибыль(Организация, Период);
		Результат.ПоддержкаПБУ18 = УчетнаяПолитика.ПоддержкаПБУ18(Организация, Период);
	Иначе
		// Если нет учетной политики, то считаем, что все включено, 
		// для того, чтобы избежать потери данных, подготовленным прикладным кодом.
		// Это может быть полезно, например, при вводе начальных остатков.
		// В этом случае документ сам заботится о правильности интерпретации учетной политики.
		Результат.ПлательщикНалогаНаПрибыль = Истина;
		Результат.ПоддержкаПБУ18            = Истина;
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

// Возвращает субсчета 90 и 91.
// 
// Возвращаемое значение
// 	 СписокСчетов - СписокЗначений - Субсчета 90 и 91.
//
Функция Счета90и91() Экспорт
	
	СчетаФинансовогоРезультата = Новый Массив;
	СчетаФинансовогоРезультата.Добавить(ПланыСчетов.Хозрасчетный.ПрочиеДоходыИРасходы);
	СчетаФинансовогоРезультата.Добавить(ПланыСчетов.Хозрасчетный.Продажи_РасходыНаПродажу);
	СчетаФинансовогоРезультата.Добавить(ПланыСчетов.Хозрасчетный.Продажи_УправленческиеРасходы);
	СчетаФинансовогоРезультата = БухгалтерскийУчет.СформироватьМассивСубсчетов(СчетаФинансовогоРезультата);
	
	СписокСчетов = Новый СписокЗначений();
	СписокСчетов.ЗагрузитьЗначения(СчетаФинансовогоРезультата);
	
	Возврат СписокСчетов;
	
КонецФункции

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#Область ЗапросыОтражения

Функция ЗапросДанных(ДокументИмя, ЭтоОбъектРасчетов = Истина) Экспорт
	
	ТаблицаДокумента = "Документ." + ДокументИмя;
	
	ТекстыСозданияВременныхТаблиц = Новый Массив;
	Если ДокументИмя = "РасчетСебестоимостиТоваров" Или ДокументИмя = "РегистраторРасчетов" Тогда
		ТекстыСозданияВременныхТаблиц.Добавить(ТекстПустыеВТ("ВтСтроки,ВтСтоимости,Партии"));
	Иначе
		ТекстыСозданияВременныхТаблиц.Добавить(ТекстСебестоимость());
		ТекстыСозданияВременныхТаблиц.Добавить(ТекстПартии());
	КонецЕсли;
	
	Если ЭтоРасчетныйДокумент(ДокументИмя) Тогда
		ТекстыСозданияВременныхТаблиц.Добавить(ТекстРасчетовПоНовойАрхитектуре());
		ТекстыСозданияВременныхТаблиц.Добавить(ТекстВТРасчетов());
	Иначе
		ТекстыСозданияВременныхТаблиц.Добавить(ТекстПустыеВТ("РасчетыСКлиентамиНоваяАрхитектура,РасчетыСПоставщикамиНоваяАрхитектура,ВТРасчетыСКлиентами,ВТРасчетыСПоставщиками"));
	КонецЕсли;
		
	ТекстыСозданияВременныхТаблиц.Добавить(ТекстВТВводСобственныхСредств());
	ТекстыСозданияВременныхТаблиц.Добавить(ТекстУчетнаяПолитика());
	ТекстыСозданияВременныхТаблиц.Добавить(ТекстКурсыВалют());
	ТекстыСозданияВременныхТаблиц.Добавить(ТекстВТОтраженияДокумента(ДокументИмя));
	
	ТекстыСозданияЗапросаДанных = Новый Массив;
	ТекстыСозданияЗапросаДанных.Добавить(ТекстИнициализации());
	Если ДокументИмя <> "РасчетСебестоимостиТоваров" И ДокументИмя <> "РегистраторРасчетов" Тогда
		Если ЭтоОбъектРасчетов Тогда
			ТекстыСозданияЗапросаДанных.Добавить(ТекстЗачетАвансов(ТаблицаДокумента));
		КонецЕсли;
		ТекстыСозданияЗапросаДанных.Добавить(ТекстРаспределениеРасходов(ТаблицаДокумента));
		ТекстыСозданияЗапросаДанных.Добавить(ТекстСписаниеРасходовУОрганизацииИсточника(ТаблицаДокумента));
		ТекстыСозданияЗапросаДанных.Добавить(ТекстРегистрацияРасходовУОрганизацииПолучателя(ТаблицаДокумента));
		ТекстыСозданияЗапросаДанных.Добавить(ТекстНДСПоДаннымФинпартий());
		ТекстыСозданияЗапросаДанных.Добавить(ТекстНДСПоНДСПредъявленный());
	КонецЕсли;
	ТекстОтраженияДокумента = ТекстОтраженияДокумента(ДокументИмя);
	Если ТекстОтраженияДокумента <> "" Тогда
		ТекстыСозданияЗапросаДанных.Добавить(ТекстОтраженияДокумента);
	КонецЕсли;
	
	ТекстСозданияВременныхТаблиц = СтрСоединить(ТекстыСозданияВременныхТаблиц);
	ТекстСозданияЗапросаДанных = СтрСоединить(ТекстыСозданияЗапросаДанных, ОбщегоНазначенияУТ.РазделительЗапросовВОбъединении());
	ТекстыОбщегоЗапросаОтражения = Новый Массив(2);
	ТекстыОбщегоЗапросаОтражения[0] = ТекстСозданияВременныхТаблиц;
	ТекстыОбщегоЗапросаОтражения[1] = ТекстСозданияЗапросаДанных;
	ТекстОбщегоЗапросаОтражения = СтрСоединить(ТекстыОбщегоЗапросаОтражения);
	
	Возврат Новый Запрос(ТекстОбщегоЗапросаОтражения);
	
КонецФункции

Функция ЗапросДанныхПараметры(ДокументИмя, ЭтоОбъектРасчетов) Экспорт
	
	Возврат РеглУчетВыборкиСерверПовтИсп.ЗапросДанных(ДокументИмя, ЭтоОбъектРасчетов).НайтиПараметры();
	
КонецФункции

Функция ЗапросСчетовПоУмолчанию() Экспорт
	
	ТекстИнициализации = "
	|ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	Настройка.АналитикаУчета КАК АналитикаУчета,
	|	Настройка.ВидСчетаРеглУчета КАК ВидСчетаРеглУчета,
	|	Настройка.СчетУчета КАК СчетУчета,
	|	План.ВидСубконто1 КАК ВидСубконто1,
	|	План.ВидСубконто2 КАК ВидСубконто2,
	|	План.ВидСубконто3 КАК ВидСубконто3,
	|	(ВЫБОР КОГДА Настройка.ИспользоватьСубконто И Настройка.ВидСубконто В (План.ВидСубконто1, План.ВидСубконто2, План.ВидСубконто3)
	|		ТОГДА Настройка.ИспользоватьСубконто ИНАЧЕ ЛОЖЬ КОНЕЦ) КАК ИспользоватьСубконто,
	|	(ВЫБОР КОГДА Настройка.ИспользоватьСубконто И Настройка.ВидСубконто В (План.ВидСубконто1, План.ВидСубконто2, План.ВидСубконто3)
	|		ТОГДА Настройка.ВидСубконто ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ) КАК ВидСубконто,
	|	(ВЫБОР КОГДА Настройка.ИспользоватьСубконто И Настройка.ВидСубконто В (План.ВидСубконто1, План.ВидСубконто2, План.ВидСубконто3)
	|		ТОГДА Настройка.Субконто ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ) КАК Субконто
	|ПОМЕСТИТЬ СчетаПоУмолчанию
	|ИЗ 
	|	НастройкаСчетов КАК Настройка
	|	ЛЕВОЕ СОЕДИНЕНИЕ ПланХозрасчетный КАК План
	|		ПО План.Ссылка = Настройка.СчетУчета
	|ИНДЕКСИРОВАТЬ ПО
	|	ВидСчетаРеглУчета,
	|	АналитикаУчета
	|";
	
	ТекстНастройкаСчетов = "("
		+ ТекстСчетаОтраженияРасчетовСПартнерамиПоУмолчанию()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияНоменклатурыПоУмолчанию()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияНоменклатурыПереданнойПоУмолчанию()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияДоходовПоУмолчанию()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияРасходовПоУмолчанию()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияТМЦВЭксплуатацииПоУмолчанию()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияПодарочныхСертификатовПоУмолчанию()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияДенежныхСредствПоУмолчанию()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияВнеоборотныхАктивов()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстСчетаОтраженияРезервовПоУмолчанию()
		+ ")";
	
	Возврат Новый Запрос(СтрЗаменить(ТекстИнициализации, "НастройкаСчетов", ТекстНастройкаСчетов));
	
КонецФункции

Функция ЗапросСопоставлений() Экспорт
	
	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	Данные.Ссылка                       КАК Ссылка,
		|	Данные.Период                       КАК Период,
		|	НАЧАЛОПЕРИОДА(Данные.Период, ДЕНЬ)  КАК ДатаОтражения,
		|	Данные.ИдентификаторСтроки          КАК ИдентификаторСтроки,
		|
		|	Данные.Организация                  КАК Организация,
		|
		|	Данные.Сумма                        КАК Сумма,
		|	ВЫБОР 
		|		КОГДА &ВестиУУ
		|				И (&ДатаНачалаВеденияУУ = ДАТАВРЕМЯ(1,1,1) 
		|					ИЛИ &ДатаНачалаВеденияУУ <= Данные.Период
		|					ИЛИ ТИПЗНАЧЕНИЯ(Данные.Ссылка) = ТИП(Документ.ВводОстатков)
		|					ИЛИ ТИПЗНАЧЕНИЯ(Данные.Ссылка) = ТИП(Документ.ВводОстатковВнеоборотныхАктивов2_4)) 
		|			ТОГДА Данные.СуммаУУ
		|		ИНАЧЕ 0
		|	КОНЕЦ КАК СуммаУУ,
		|	
		|	Данные.ВидСчетаДт                   КАК ВидСчетаДт,
		|	Данные.АналитикаУчетаДт             КАК АналитикаУчетаДт,
		|	Данные.МестоУчетаДт                 КАК МестоУчетаДт,
		|
		|	Данные.ВалютаДт                     КАК ВалютаДт,
		|	Данные.ПодразделениеДт              КАК ПодразделениеДт,
		|	ВЫБОР КОГДА Данные.ВидСчетаДт = ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПередачаНаКомиссию)
		|		ТОГДА ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|		ИНАЧЕ Данные.НаправлениеДеятельностиДт КОНЕЦ КАК НаправлениеДеятельностиДт,
		|	
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ПрочиеДт.СчетУчета, &ПустаяСсылка) <> &ПустаяСсылка
		|			ТОГДА ПрочиеДт.СчетУчета
		|		КОГДА ЕСТЬNULL(СчетаДт.СчетУчета, &ПустаяСсылка) <> &ПустаяСсылка
		|			ТОГДА СчетаДт.СчетУчета
		|		КОГДА ЕСТЬNULL(СчетаДтПоУмолчанию.СчетУчета, &ПустаяСсылка) <> &ПустаяСсылка
		|			ТОГДА СчетаДтПоУмолчанию.СчетУчета
		|		ИНАЧЕ ВЫРАЗИТЬ(Данные.СчетДт КАК ПланСчетов.Хозрасчетный)
		|	КОНЕЦ                              КАК СчетДт,
		|
		|	ВЫБОР 
		|		КОГДА ПрочиеДт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеДт.ВидСубконто1
		|		КОГДА НЕ ВидыДт1.Ссылка ЕСТЬ NULL
		|			ТОГДА ВидыДт1.Ссылка
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                            КАК ВидСубконтоДт1,
		|	ВЫБОР 
		|		КОГДА ПрочиеДт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеДт.Субконто1 
		|		ИНАЧЕ Данные.СубконтоДт1 
		|	КОНЕЦ                             КАК СубконтоДт1,
		|
		|	ВЫБОР 
		|		КОГДА ПрочиеДт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеДт.ВидСубконто2
		|		КОГДА НЕ ВидыДт2.Ссылка ЕСТЬ NULL
		|			ТОГДА ВидыДт2.Ссылка
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                            КАК ВидСубконтоДт2,
		|	ВЫБОР 
		|		КОГДА ПрочиеДт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеДт.Субконто2 
		|		ИНАЧЕ Данные.СубконтоДт2 
		|	КОНЕЦ                             КАК СубконтоДт2,
		|
		|	ВЫБОР 
		|		КОГДА ПрочиеДт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеДт.ВидСубконто3
		|		КОГДА НЕ ВидыДт3.Ссылка ЕСТЬ NULL
		|			ТОГДА ВидыДт3.Ссылка
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                            КАК ВидСубконтоДт3,
		|	ВЫБОР 
		|		КОГДА ПрочиеДт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеДт.Субконто3 
		|		ИНАЧЕ Данные.СубконтоДт3 
		|	КОНЕЦ                             КАК СубконтоДт3,
		|	
		|	ВЫБОР 
		|		КОГДА СчетаДт.ИспользоватьСубконто 
		|			ТОГДА СчетаДт.ВидСубконто 
		|		КОГДА ЕСТЬNULL(СчетаДт.СчетУчета, &ПустаяСсылка) = &ПустаяСсылка И СчетаДтПоУмолчанию.ИспользоватьСубконто
		|			ТОГДА СчетаДтПоУмолчанию.ВидСубконто 
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                            КАК ВидСубконтоДт,
		|	ВЫБОР 
		|		КОГДА СчетаДт.ИспользоватьСубконто 
		|			ТОГДА СчетаДт.Субконто 
		|		КОГДА ЕСТЬNULL(СчетаДт.СчетУчета, &ПустаяСсылка) = &ПустаяСсылка И СчетаДтПоУмолчанию.ИспользоватьСубконто 
		|			ТОГДА СчетаДтПоУмолчанию.Субконто 
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                            КАК СубконтоДт,
		|
		|	Данные.ВалютнаяСуммаДт           КАК ВалютнаяСуммаДт,
		|	Данные.КоличествоДт              КАК КоличествоДт,
		|	Данные.СуммаНУДт                 КАК СуммаНУДт,
		|	Данные.СуммаПРДт                 КАК СуммаПРДт,
		|	Данные.СуммаВРДт                 КАК СуммаВРДт,
		|
		|	Данные.ВидСчетаКт                КАК ВидСчетаКт,
		|	Данные.АналитикаУчетаКт          КАК АналитикаУчетаКт,
		|	Данные.МестоУчетаКт              КАК МестоУчетаКт,
		|
		|	Данные.ВалютаКт                  КАК ВалютаКт,
		|	Данные.ПодразделениеКт           КАК ПодразделениеКт,
		|	ВЫБОР КОГДА Данные.ВидСчетаКт = ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПередачаНаКомиссию)
		|		ТОГДА ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|		ИНАЧЕ Данные.НаправлениеДеятельностиКт КОНЕЦ КАК НаправлениеДеятельностиКт,
		|	
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ПрочиеКт.СчетУчета, &ПустаяСсылка) <> &ПустаяСсылка
		|			ТОГДА ПрочиеКт.СчетУчета
		|		КОГДА ЕСТЬNULL(СчетаКт.СчетУчета, &ПустаяСсылка) <> &ПустаяСсылка
		|			ТОГДА СчетаКт.СчетУчета
		|		КОГДА ЕСТЬNULL(СчетаКтПоУмолчанию.СчетУчета, &ПустаяСсылка) <> &ПустаяСсылка
		|			ТОГДА СчетаКтПоУмолчанию.СчетУчета
		|		ИНАЧЕ ВЫРАЗИТЬ(Данные.СчетКт КАК ПланСчетов.Хозрасчетный)
		|	КОНЕЦ                            КАК СчетКт,
		|	
		|	ВЫБОР 
		|		КОГДА ПрочиеКт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеКт.ВидСубконто1
		|		КОГДА НЕ ВидыКт1.Ссылка ЕСТЬ NULL
		|			ТОГДА ВидыКт1.Ссылка
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                            КАК ВидСубконтоКт1,
		|	ВЫБОР 
		|		КОГДА ПрочиеКт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеКт.Субконто1 
		|		ИНАЧЕ Данные.СубконтоКт1 
		|	КОНЕЦ                            КАК СубконтоКт1,
		|
		|	ВЫБОР 
		|		КОГДА ПрочиеКт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеКт.ВидСубконто2
		|		КОГДА НЕ ВидыКт2.Ссылка ЕСТЬ NULL
		|			ТОГДА ВидыКт2.Ссылка
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                            КАК ВидСубконтоКт2,
		|	ВЫБОР 
		|		КОГДА ПрочиеКт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеКт.Субконто2 
		|		ИНАЧЕ Данные.СубконтоКт2 
		|	КОНЕЦ                            КАК СубконтоКт2,
		|
		|	ВЫБОР 
		|		КОГДА ПрочиеКт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеКт.ВидСубконто3
		|		КОГДА НЕ ВидыКт3.Ссылка ЕСТЬ NULL
		|			ТОГДА ВидыКт3.Ссылка
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                            КАК ВидСубконтоКт3,
		|	ВЫБОР 
		|		КОГДА ПрочиеКт.ИспользоватьСубконто 
		|			ТОГДА ПрочиеКт.Субконто3 
		|		ИНАЧЕ Данные.СубконтоКт3 
		|	КОНЕЦ                            КАК СубконтоКт3,
		|
		|	ВЫБОР 
		|		КОГДА СчетаКт.ИспользоватьСубконто 
		|			ТОГДА СчетаКт.ВидСубконто 
		|		КОГДА ЕСТЬNULL(СчетаКт.СчетУчета, &ПустаяСсылка) = &ПустаяСсылка И СчетаКтПоУмолчанию.ИспользоватьСубконто 
		|			ТОГДА СчетаКтПоУмолчанию.ВидСубконто 
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                           КАК ВидСубконтоКт,
		|	ВЫБОР 
		|		КОГДА СчетаКт.ИспользоватьСубконто 
		|			ТОГДА СчетаКт.Субконто 
		|		КОГДА ЕСТЬNULL(СчетаКт.СчетУчета, &ПустаяСсылка) = &ПустаяСсылка И СчетаКтПоУмолчанию.ИспользоватьСубконто 
		|			ТОГДА СчетаКтПоУмолчанию.Субконто 
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО 
		|	КОНЕЦ                           КАК СубконтоКт,
		|
		|	Данные.ВалютнаяСуммаКт          КАК ВалютнаяСуммаКт,
		|	Данные.КоличествоКт             КАК КоличествоКт,
		|	Данные.СуммаНУКт                КАК СуммаНУКт,
		|	Данные.СуммаПРКт                КАК СуммаПРКт,
		|	Данные.СуммаВРКт                КАК СуммаВРКт,
		|	
		|	Данные.Содержание               КАК Содержание
		|
		|ПОМЕСТИТЬ Хозрасчетный
		|
		|ИЗ 
		|	Данные КАК Данные
		|	
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РазрезыКОтражению КАК РазрезыКОтражению
		|	ПО
		|		Данные.Ссылка = РазрезыКОтражению.Ссылка
		|		И Данные.Организация =  РазрезыКОтражению.Организация
		|		И НАЧАЛОПЕРИОДА(Данные.Период, ДЕНЬ) = РазрезыКОтражению.ДатаОтражения
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		Счета КАК СчетаДт
		|	ПО 
		|		Данные.Организация = СчетаДт.Организация 
		|		И Данные.ВидСчетаДт = СчетаДт.ВидСчетаРеглУчета
		|		И Данные.АналитикаУчетаДт = СчетаДт.АналитикаУчета 
		|		И Данные.МестоУчетаДт = СчетаДт.МестоУчета
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		СчетаПоУмолчанию КАК СчетаДтПоУмолчанию
		|	ПО 
		|		Данные.ВидСчетаДт = СчетаДтПоУмолчанию.ВидСчетаРеглУчета
		|		И Данные.АналитикаУчетаДт = СчетаДтПоУмолчанию.АналитикаУчета
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ПланХозрасчетный КАК СчетаДтДанных
		|	ПО 
		|		Данные.СчетДт = СчетаДтДанных.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыДт1
		|	ПО 
		|		ВидыДт1.Ссылка = ЕСТЬNULL(СчетаДт.ВидСубконто1, ЕСТЬNULL(СчетаДтПоУмолчанию.ВидСубконто1, ЕСТЬNULL(СчетаДтДанных.ВидСубконто1, НЕОПРЕДЕЛЕНО)))
		|		И ВидыДт1.ТипЗначения = ТИПЗНАЧЕНИЯ(Данные.СубконтоДт1)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыДт2
		|	ПО 
		|		ВидыДт2.Ссылка = ЕСТЬNULL(СчетаДт.ВидСубконто2, ЕСТЬNULL(СчетаДтПоУмолчанию.ВидСубконто2, ЕСТЬNULL(СчетаДтДанных.ВидСубконто2, НЕОПРЕДЕЛЕНО)))
		|		И ВидыДт2.ТипЗначения = ТИПЗНАЧЕНИЯ(Данные.СубконтоДт2)
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыДт3
		|	ПО 
		|		ВидыДт3.Ссылка = ЕСТЬNULL(СчетаДт.ВидСубконто3, ЕСТЬNULL(СчетаДтПоУмолчанию.ВидСубконто3, ЕСТЬNULL(СчетаДтДанных.ВидСубконто3, НЕОПРЕДЕЛЕНО)))
		|		И ВидыДт3.ТипЗначения = ТИПЗНАЧЕНИЯ(Данные.СубконтоДт3)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ПрочиеСчета КАК ПрочиеДт
		|	ПО 
		|		Данные.Ссылка = ПрочиеДт.Документ 
		|		И Данные.Организация = ПрочиеДт.Организация 
		|		И Данные.ВидСчетаДт = ПрочиеДт.ВидСчетаРеглУчета
		|		И Данные.ИдентификаторСтроки = ПрочиеДт.ИдентификаторСтроки
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		Счета КАК СчетаКт
		|	ПО 
		|		Данные.Организация = СчетаКт.Организация 
		|		И Данные.ВидСчетаКт = СчетаКт.ВидСчетаРеглУчета
		|		И Данные.АналитикаУчетаКт = СчетаКт.АналитикаУчета 
		|		И Данные.МестоУчетаКт = СчетаКт.МестоУчета
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		СчетаПоУмолчанию КАК СчетаКтПоУмолчанию
		|	ПО 
		|		Данные.ВидСчетаКт = СчетаКтПоУмолчанию.ВидСчетаРеглУчета
		|		И Данные.АналитикаУчетаКт = СчетаКтПоУмолчанию.АналитикаУчета
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ПланХозрасчетный КАК СчетаКтДанных
		|	ПО 
		|		Данные.СчетКт = СчетаКтДанных.Ссылка
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыКт1
		|	ПО 
		|		ВидыКт1.Ссылка = ЕСТЬNULL(СчетаКт.ВидСубконто1, ЕСТЬNULL(СчетаКтПоУмолчанию.ВидСубконто1, ЕСТЬNULL(СчетаКтДанных.ВидСубконто1, НЕОПРЕДЕЛЕНО)))
		|		И ВидыКт1.ТипЗначения = ТИПЗНАЧЕНИЯ(Данные.СубконтоКт1)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыКт2
		|	ПО 
		|		ВидыКт2.Ссылка = ЕСТЬNULL(СчетаКт.ВидСубконто2, ЕСТЬNULL(СчетаКтПоУмолчанию.ВидСубконто2, ЕСТЬNULL(СчетаКтДанных.ВидСубконто2, НЕОПРЕДЕЛЕНО)))
		|		И ВидыКт2.ТипЗначения = ТИПЗНАЧЕНИЯ(Данные.СубконтоКт2)
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыКт3
		|	ПО 
		|		ВидыКт3.Ссылка = ЕСТЬNULL(СчетаКт.ВидСубконто3, ЕСТЬNULL(СчетаКтПоУмолчанию.ВидСубконто3, ЕСТЬNULL(СчетаКтДанных.ВидСубконто3, НЕОПРЕДЕЛЕНО)))
		|		И ВидыКт3.ТипЗначения = ТИПЗНАЧЕНИЯ(Данные.СубконтоКт3)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ПрочиеСчета КАК ПрочиеКт
		|	ПО 
		|		Данные.Ссылка = ПрочиеКт.Документ 
		|		И Данные.Организация = ПрочиеКт.Организация 
		|		И Данные.ВидСчетаКт = ПрочиеКт.ВидСчетаРеглУчета
		|		И Данные.ИдентификаторСтроки = ПрочиеКт.ИдентификаторСтроки
		|	
		|");
	
	Запрос.УстановитьПараметр("ПустаяСсылка",        ПланыСчетов.Хозрасчетный.ПустаяСсылка());
	Запрос.УстановитьПараметр("ВестиУУ",             Константы.ВестиУУНаПланеСчетовХозрасчетный.Получить());
	Запрос.УстановитьПараметр("ДатаНачалаВеденияУУ", Константы.ДатаНачалаУУНаПланеСчетовХозрасчетный.Получить());
	
	Возврат Запрос;
	
КонецФункции

Функция ЗапросПроверки() Экспорт
	Возврат Новый Запрос("
		|ВЫБРАТЬ
		|	
		|	ХЗ.Ссылка                       КАК Ссылка,
		|	ХЗ.ИдентификаторСтроки          КАК ИдентификаторСтроки,
		|	ХЗ.Организация                  КАК Организация,
		|	ХЗ.ДатаОтражения                КАК ДатаОтражения,
		|	
		|	ХЗ.ВидСчетаДт                   КАК ВидСчетаДт,
		|	ХЗ.АналитикаУчетаДт             КАК АналитикаУчетаДт,
		|	ХЗ.МестоУчетаДт                 КАК МестоУчетаДт,
		|	ХЗ.СчетДт                       КАК СчетДт,
		|	(ВЫБОР
		|		КОГДА ПланДт.ЗапретитьИспользоватьВПроводках ТОГДА ""СЧЕТ_ЗАПРЕЩЕН""
		|		КОГДА ПланДт.Забалансовый И НЕ ПланКт.Забалансовый ТОГДА ""СЧЕТ_ЗАБАЛАНСОВЫЙ""
		|		КОГДА (НЕ ПланКт.Забалансовый ИЛИ (ПланКт.Ссылка ЕСТЬ NULL И ХЗ.ВидСчетаКт <> ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ТМЦВЭксплуатацииЗаБалансом)))
		|				И ПланДт.Ссылка ЕСТЬ NULL
		|			ТОГДА ""СЧЕТ_ПУСТОЙ""
		|		ИНАЧЕ """" КОНЕЦ)          КАК КодОшибкиДт,
		|
		|	ХЗ.ВидСчетаКт                  КАК ВидСчетаКт,
		|	ХЗ.АналитикаУчетаКт            КАК АналитикаУчетаКт,
		|	ХЗ.МестоУчетаКт                КАК МестоУчетаКт,
		|	ХЗ.СчетКт                      КАК СчетКт,
		|	(ВЫБОР
		|		КОГДА ПланКт.ЗапретитьИспользоватьВПроводках ТОГДА ""СЧЕТ_ЗАПРЕЩЕН""
		|		КОГДА ПланКт.Забалансовый И НЕ ПланДт.Забалансовый ТОГДА ""СЧЕТ_ЗАБАЛАНСОВЫЙ""
		|		КОГДА (НЕ ПланДт.Забалансовый ИЛИ (ПланДт.Ссылка ЕСТЬ NULL И ХЗ.ВидСчетаДт <> ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ТМЦВЭксплуатацииЗаБалансом)))
		|				И ПланКт.Ссылка ЕСТЬ NULL
		|			ТОГДА ""СЧЕТ_ПУСТОЙ""
		|		ИНАЧЕ """" КОНЕЦ)          КАК КодОшибкиКт
		|	
		|ПОМЕСТИТЬ ОшибкиПроверки
		|ИЗ
		|	Хозрасчетный КАК ХЗ
		|	ЛЕВОЕ СОЕДИНЕНИЕ ПланХозрасчетный КАК ПланДт
		|		ПО ПланДт.Ссылка = ХЗ.СчетДт
		|	ЛЕВОЕ СОЕДИНЕНИЕ ПланХозрасчетный КАК ПланКт
		|		ПО ПланКт.Ссылка = ХЗ.СчетКт
		|ГДЕ ЛОЖЬ
		|	//// для балансового (не забалансового) счета должна быть задана корреспонденция
		|	ИЛИ НЕ ПланДт.Забалансовый И ПланКт.Ссылка ЕСТЬ NULL
		|	ИЛИ НЕ ПланКт.Забалансовый И ПланДт.Ссылка ЕСТЬ NULL
		|	//// Для забалансового счета корреспонденция может быть только с забалансовым
		|	ИЛИ ПланДт.Забалансовый И НЕ ПланКт.Забалансовый
		|	ИЛИ ПланКт.Забалансовый И НЕ ПланДт.Забалансовый
		|	//// оба счета не заданы
		|	ИЛИ ПланДт.Ссылка ЕСТЬ NULL И ПланКт.Ссылка ЕСТЬ NULL
		|	//// счет дебета или счет кредита запрещен к использованию
		|	ИЛИ ПланДт.ЗапретитьИспользоватьВПроводках
		|	ИЛИ ПланКт.ЗапретитьИспользоватьВПроводках
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	ХЗ.Ссылка,
		|	ХЗ.Организация
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ОП.Ссылка              КАК Ссылка,
		|	ОП.ИдентификаторСтроки КАК ИдентификаторСтроки,
		|	ОП.Организация         КАК Организация,
		|	ОП.ДатаОтражения       КАК ДатаОтражения,
		|	ОП.ВидСчета            КАК ВидСчета, 
		|	ОП.АналитикаУчета      КАК АналитикаУчета, 
		|	ОП.МестоУчета          КАК МестоУчета, 
		|	ОП.Счет                КАК Счет,
		|	ВЫБОР
		|		КОГДА ГФУ.Ссылка ЕСТЬ NULL
		|		ТОГДА """"
		|		КОГДА ГФУ.РасчетыСКомиссионерами И НЕ ГФУ.РасчетыСКлиентами И НЕ ГФУ.РасчетыСКомитентами
		|		ТОГДА ""РасчетыСКомиссионерами""
		|		КОГДА ГФУ.РасчетыСКомитентами И НЕ ГФУ.РасчетыСПоставщиками И НЕ ГФУ.РасчетыСКомиссионерами
		|		ТОГДА ""РасчетыСКомитентами""
		|		ИНАЧЕ """"
		|	КОНЕЦ КАК ДопИнформацияПоРасчетамСПартнерами, 
		|	ОП.КодОшибки           КАК КодОшибки
		|ИЗ (
		|	ВЫБРАТЬ
		|		ОП.Ссылка КАК Ссылка,
		|		ОП.ИдентификаторСтроки КАК ИдентификаторСтроки,
		|		ОП.Организация КАК Организация,
		|		ОП.ДатаОтражения КАК ДатаОтражения,
		|		ОП.ВидСчетаДт КАК ВидСчета,
		|		ОП.АналитикаУчетаДт КАК АналитикаУчета,
		|		ОП.МестоУчетаДт КАК МестоУчета,
		|		ОП.СчетДт КАК Счет,
		|		ОП.КодОшибкиДт КАК КодОшибки
		|	ИЗ
		|		ОшибкиПроверки КАК ОП
		|	ГДЕ
		|		ОП.КодОшибкиДт <> """"
		|	ОБЪЕДИНИТЬ ВСЕ
		|	ВЫБРАТЬ
		|		ОП.Ссылка КАК Ссылка,
		|		ОП.ИдентификаторСтроки,
		|		ОП.Организация КАК Организация,
		|		ОП.ДатаОтражения КАК ДатаОтражения,
		|		ОП.ВидСчетаКт КАК ВидСчета,
		|		ОП.АналитикаУчетаКт КАК АналитикаУчета,
		|		ОП.МестоУчетаКт КАК МестоУчета,
		|		ОП.СчетКт КАК Счет,
		|		ОП.КодОшибкиКт КАК КодОшибки
		|	ИЗ
		|		ОшибкиПроверки КАК ОП
		|	ГДЕ
		|		ОП.КодОшибкиКт <> """"
		|) КАК ОП
		|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ГруппыФинансовогоУчетаРасчетов КАК ГФУ
		|	ПО ОП.АналитикаУчета = ГФУ.Ссылка
		|
		|УПОРЯДОЧИТЬ ПО
		|	Ссылка, Организация, ДатаОтражения
		|
		|ИТОГИ ПО
		|	Ссылка, Организация, ДатаОтражения
		|");
КонецФункции

Функция ЗапросХозрасчетный() Экспорт
	
	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	ХЗ.Ссылка КАК Ссылка,
		|	ХЗ.Период КАК Период,
		|	ХЗ.Организация КАК Организация,
		|
		|	СУММА(ХЗ.Сумма)   КАК Сумма,
		|	СУММА(ХЗ.СуммаУУ) КАК СуммаУУ,
		|	СУММА(ВЫБОР 
		|			КОГДА ПланДт.Валютный И ХЗ.ВалютаДт = &ВалютаФинОтчетности
		|				ТОГДА ХЗ.ВалютнаяСуммаДт
		|			КОГДА ПланКт.Валютный И ХЗ.ВалютаКт = &ВалютаФинОтчетности
		|				ТОГДА ХЗ.ВалютнаяСуммаКт
		|			КОГДА &ИсточникСуммыДляПересчетаВВалютуФО = ЗНАЧЕНИЕ(Перечисление.ИсточникиСуммыДляПересчетаВВалютуФинОтчетности.БУ)
		|				ТОГДА ХЗ.Сумма / КурсыВалютыФинОтчетности.Курс
		|			КОГДА &ИсточникСуммыДляПересчетаВВалютуФО = ЗНАЧЕНИЕ(Перечисление.ИсточникиСуммыДляПересчетаВВалютуФинОтчетности.УУ)
		|				ТОГДА ХЗ.СуммаУУ * КурсыВалютыУпрУчета.Курс / КурсыВалютыФинОтчетности.Курс
		|			КОНЕЦ) КАК СуммаФО,
		|		
		|	(ВЫБОР КОГДА ПланДт.Валютный ТОГДА ХЗ.ВалютаДт ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КОНЕЦ) КАК ВалютаДт,
		|	(ВЫБОР КОГДА ПланДт.УчетПоПодразделениям ТОГДА ХЗ.ПодразделениеДт
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КОНЕЦ) КАК ПодразделениеДт,
		|	(ВЫБОР КОГДА ПланДт.УчетПоНаправлениямДеятельности ТОГДА ХЗ.НаправлениеДеятельностиДт
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КОНЕЦ) КАК НаправлениеДеятельностиДт,
		|	ХЗ.СчетДт КАК СчетДт,
		|
		|	(ВЫБОР 
		|		КОГДА ХЗ.ВидСубконтоДт1 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоДт1
		|		КОГДА (ВидыДт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт) ТОГДА ХЗ.ВидСубконтоДт
		|		ИНАЧЕ ЕСТЬNULL(ВидыДт1.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ) КАК ВидСубконтоДт1,
		|	(ВЫБОР 
		|		КОГДА ХЗ.ВидСубконтоДт1 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоДт1
		|		КОГДА (ВидыДт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт) ТОГДА ХЗ.СубконтоДт
		|		КОГДА (ВидыДт1.Ссылка ЕСТЬ NULL) ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоДт1 КОНЕЦ) КАК СубконтоДт1,
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоДт2 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоДт2
		|		КОГДА (ВидыДт1.Ссылка <> ХЗ.ВидСубконтоДт) И (ВидыДт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|			ТОГДА ХЗ.ВидСубконтоДт
		|		ИНАЧЕ ЕСТЬNULL(ВидыДт2.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ) КАК ВидСубконтоДт2,
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоДт2 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоДт2
		|		КОГДА (ВидыДт1.Ссылка <> ХЗ.ВидСубконтоДт) И (ВидыДт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|			ТОГДА ХЗ.СубконтоДт
		|		КОГДА (ВидыДт2.Ссылка ЕСТЬ NULL)
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоДт2 КОНЕЦ) КАК СубконтоДт2,
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоДт3 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоДт3
		|		КОГДА (НЕ ХЗ.ВидСубконтоДт В (ВидыДт1.Ссылка, ВидыДт2.Ссылка)) И (ВидыДт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|			ТОГДА ХЗ.ВидСубконтоДт
		|		ИНАЧЕ ЕСТЬNULL(ВидыДт3.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ) КАК ВидСубконтоДт3,
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоДт3 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоДт3
		|		КОГДА (НЕ ХЗ.ВидСубконтоДт В (ВидыДт1.Ссылка, ВидыДт2.Ссылка)) И (ВидыДт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|			ТОГДА ХЗ.СубконтоДт
		|		КОГДА (ВидыДт3.Ссылка ЕСТЬ NULL)
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоДт3 КОНЕЦ) КАК СубконтоДт3,
		|
		|	СУММА(ВЫБОР КОГДА ПланДт.Валютный ТОГДА ХЗ.ВалютнаяСуммаДт ИНАЧЕ 0.0 КОНЕЦ) КАК ВалютнаяСуммаДт,
		|	СУММА(ВЫБОР КОГДА ПланДт.Количественный ТОГДА ХЗ.КоличествоДт ИНАЧЕ 0.0 КОНЕЦ) КАК КоличествоДт,
		|	СУММА(ВЫБОР КОГДА ПланДт.НалоговыйУчет ТОГДА ХЗ.СуммаНУДт ИНАЧЕ 0.0 КОНЕЦ) КАК СуммаНУДт,
		|	СУММА(ВЫБОР КОГДА ПланДт.НалоговыйУчет ТОГДА ХЗ.СуммаПРДт ИНАЧЕ 0.0 КОНЕЦ) КАК СуммаПРДт,
		|	СУММА(ВЫБОР КОГДА ПланДт.НалоговыйУчет ТОГДА ХЗ.СуммаВРДт ИНАЧЕ 0.0 КОНЕЦ) КАК СуммаВРДт,
		|
		|	(ВЫБОР КОГДА ПланКт.Валютный ТОГДА ХЗ.ВалютаКт ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КОНЕЦ) КАК ВалютаКт,
		|	(ВЫБОР КОГДА ПланКт.УчетПоПодразделениям ТОГДА ХЗ.ПодразделениеКт
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КОНЕЦ) КАК ПодразделениеКт,
		|	(ВЫБОР КОГДА ПланКт.УчетПоНаправлениямДеятельности ТОГДА ХЗ.НаправлениеДеятельностиКт
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КОНЕЦ) КАК НаправлениеДеятельностиКт,
		|	ХЗ.СчетКт КАК СчетКт,
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт1 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоКт1
		|		КОГДА (ВидыКт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт) ТОГДА ХЗ.ВидСубконтоКт
		|		ИНАЧЕ ЕСТЬNULL(ВидыКт1.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ) КАК ВидСубконтоКт1,
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт1 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоКт1
		|		КОГДА (ВидыКт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт) ТОГДА ХЗ.СубконтоКт
		|		КОГДА (ВидыКт1.Ссылка ЕСТЬ NULL) ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоКт1 КОНЕЦ) КАК СубконтоКт1,
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт2 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоКт2
		|		КОГДА (ВидыКт1.Ссылка <> ХЗ.ВидСубконтоКт) И (ВидыКт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|			ТОГДА ХЗ.ВидСубконтоКт
		|		ИНАЧЕ ЕСТЬNULL(ВидыКт2.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ) КАК ВидСубконтоКт2,
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт2 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоКт2
		|		КОГДА (ВидыКт1.Ссылка <> ХЗ.ВидСубконтоКт) И (ВидыКт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|			ТОГДА ХЗ.СубконтоКт
		|		КОГДА (ВидыКт2.Ссылка ЕСТЬ NULL)
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоКт2 КОНЕЦ) КАК СубконтоКт2,
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт3 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоКт3
		|		КОГДА (НЕ ХЗ.ВидСубконтоКт В (ВидыКт1.Ссылка, ВидыКт2.Ссылка)) И (ВидыКт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|			ТОГДА ХЗ.ВидСубконтоКт
		|		ИНАЧЕ ЕСТЬNULL(ВидыКт3.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ) КАК ВидСубконтоКт3,
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт3 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоКт3
		|		КОГДА (НЕ ХЗ.ВидСубконтоКт В (ВидыКт1.Ссылка, ВидыКт2.Ссылка)) И (ВидыКт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|			ТОГДА ХЗ.СубконтоКт
		|		КОГДА (ВидыКт3.Ссылка ЕСТЬ NULL)
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоКт3 КОНЕЦ) КАК СубконтоКт3,
		|
		|	СУММА(ВЫБОР КОГДА ПланКт.Валютный ТОГДА ХЗ.ВалютнаяСуммаКт ИНАЧЕ 0.0 КОНЕЦ) КАК ВалютнаяСуммаКт,
		|	СУММА(ВЫБОР КОГДА ПланКт.Количественный ТОГДА ХЗ.КоличествоКт ИНАЧЕ 0.0 КОНЕЦ) КАК КоличествоКт,
		|	СУММА(ВЫБОР КОГДА ПланКт.НалоговыйУчет ТОГДА ХЗ.СуммаНУКт ИНАЧЕ 0.0 КОНЕЦ) КАК СуммаНУКт,
		|	СУММА(ВЫБОР КОГДА ПланКт.НалоговыйУчет ТОГДА ХЗ.СуммаПРКт ИНАЧЕ 0.0 КОНЕЦ) КАК СуммаПРКт,
		|	СУММА(ВЫБОР КОГДА ПланКт.НалоговыйУчет ТОГДА ХЗ.СуммаВРКт ИНАЧЕ 0.0 КОНЕЦ) КАК СуммаВРКт,
		|	
		|	ХЗ.Содержание КАК Содержание
		|
		|ИЗ
		|	Хозрасчетный КАК ХЗ
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ОшибкиПроверки КАК ОшибкиПроверки 
		|	ПО
		|		ХЗ.Ссылка = ОшибкиПроверки.Ссылка
		|		И ХЗ.Организация = ОшибкиПроверки.Организация
		|		И ХЗ.ДатаОтражения = ОшибкиПроверки.ДатаОтражения
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ПланХозрасчетный КАК ПланДт
		|	ПО 
		|		ХЗ.СчетДт = ПланДт.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыДт1
		|	ПО 
		|		ВидыДт1.Ссылка В (
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт1 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто1 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт2 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто2 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт3 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто3 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ)
		|		И ВидыДт1.ТипЗначения = ТИПЗНАЧЕНИЯ(ХЗ.СубконтоДт1)
		|		
		|		
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыДт2
		|	ПО 
		|		ВидыДт2.Ссылка В (
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт1 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто1 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт2 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто2 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт3 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто3 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ)
		|		И ВидыДт2.ТипЗначения = ТИПЗНАЧЕНИЯ(ХЗ.СубконтоДт2)
		|		И ВидыДт2.Ссылка <> ЕСТЬNULL(ВидыДт1.Ссылка, НЕОПРЕДЕЛЕНО)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыДт3
		|	ПО 
		|		ВидыДт3.Ссылка В (
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт1 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто1 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт2 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто2 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоДт3 = НЕОПРЕДЕЛЕНО ТОГДА ПланДт.ВидСубконто3 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ)
		|		И ВидыДт3.ТипЗначения = ТИПЗНАЧЕНИЯ(ХЗ.СубконтоДт3)
		|		И ВидыДт3.Ссылка <> ЕСТЬNULL(ВидыДт1.Ссылка, НЕОПРЕДЕЛЕНО)
		|		И ВидыДт3.Ссылка <> ЕСТЬNULL(ВидыДт2.Ссылка, НЕОПРЕДЕЛЕНО)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ПланХозрасчетный КАК ПланКт
		|	ПО 
		|		ХЗ.СчетКт = ПланКт.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыКт1
		|	ПО 
		|		ВидыКт1.Ссылка В (
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт1 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто1 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт2 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто2 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт3 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто3 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ)
		|		И ВидыКт1.ТипЗначения = ТИПЗНАЧЕНИЯ(ХЗ.СубконтоКт1)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ВидыСубконто КАК ВидыКт2
		|	ПО 
		|		ВидыКт2.Ссылка В (
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт1 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто1 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт2 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто2 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт3 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто3 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ)
		|		И ВидыКт2.ТипЗначения = ТИПЗНАЧЕНИЯ(ХЗ.СубконтоКт2)
		|		И ВидыКт2.Ссылка <> ЕСТЬNULL(ВидыКт1.Ссылка, НЕОПРЕДЕЛЕНО)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		ВидыСубконто КАК ВидыКт3
		|	ПО 
		|		ВидыКт3.Ссылка В (
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт1 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто1 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт2 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто2 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
		|				ВЫБОР КОГДА ХЗ.ВидСубконтоКт3 = НЕОПРЕДЕЛЕНО ТОГДА ПланКт.ВидСубконто3 ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ)
		|		И ВидыКт3.ТипЗначения = ТИПЗНАЧЕНИЯ(ХЗ.СубконтоКт3)
		|		И ВидыКт3.Ссылка <> ЕСТЬNULL(ВидыКт1.Ссылка, НЕОПРЕДЕЛЕНО)
		|		И ВидыКт3.Ссылка <> ЕСТЬNULL(ВидыКт2.Ссылка, НЕОПРЕДЕЛЕНО)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		УчетнаяПолитикаОрганизаций КАК УчетнаяПолитикаОрганизаций
		|	ПО
		|		ХЗ.Ссылка = УчетнаяПолитикаОрганизаций.Ссылка
		|		И ХЗ.Организация = УчетнаяПолитикаОрганизаций.Организация
		|		И ХЗ.ДатаОтражения = УчетнаяПолитикаОрганизаций.ДатаОтражения
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		Справочник.УчетныеПолитикиОрганизаций КАК УчетныеПолитики
		|	ПО
		|		УчетнаяПолитикаОрганизаций.УчетнаяПолитика = УчетныеПолитики.Ссылка
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		КурсыВалют КАК КурсыВалютыФинОтчетности
		|	ПО
		|		КурсыВалютыФинОтчетности.Валюта = &ВалютаФинОтчетности
		|		И ХЗ.ДатаОтражения = КурсыВалютыФинОтчетности.Дата
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		КурсыВалют КАК КурсыВалютыУпрУчета
		|	ПО
		|		КурсыВалютыУпрУчета.Валюта = &ВалютаУпрУчета
		|		И ХЗ.ДатаОтражения = КурсыВалютыУпрУчета.Дата
		|
		|ГДЕ
		|	ОшибкиПроверки.Ссылка ЕСТЬ NULL
		|	И (ХЗ.Сумма <> 0
		|		ИЛИ ХЗ.СуммаУУ <> 0
		|		ИЛИ (ВЫБОР КОГДА ПланДт.Валютный ТОГДА ХЗ.ВалютнаяСуммаДт <> 0 ИНАЧЕ ЛОЖЬ КОНЕЦ)
		|		ИЛИ (ВЫБОР КОГДА ПланДт.Количественный ТОГДА ХЗ.КоличествоДт <> 0 ИНАЧЕ ЛОЖЬ КОНЕЦ)
		|		ИЛИ (ВЫБОР 
		|				КОГДА ЕСТЬNULL(УчетныеПолитики.СистемаНалогообложения, ЗНАЧЕНИЕ(Перечисление.СистемыНалогообложения.Общая)) = ЗНАЧЕНИЕ(Перечисление.СистемыНалогообложения.Общая) 
		|					  И ПланДт.НалоговыйУчет
		|					ТОГДА ХЗ.СуммаНУДт <> 0 ИЛИ ХЗ.СуммаПРДт <> 0 ИЛИ ХЗ.СуммаВРДт <> 0
		|				ИНАЧЕ ЛОЖЬ 
		|			КОНЕЦ)  
		|		ИЛИ (ВЫБОР КОГДА ПланКт.Валютный ТОГДА ХЗ.ВалютнаяСуммаКт <> 0 ИНАЧЕ ЛОЖЬ КОНЕЦ)
		|		ИЛИ (ВЫБОР КОГДА ПланКт.Количественный ТОГДА ХЗ.КоличествоКт <> 0 ИНАЧЕ ЛОЖЬ КОНЕЦ)
		|		ИЛИ (ВЫБОР 
		|				КОГДА ЕСТЬNULL(УчетныеПолитики.СистемаНалогообложения, ЗНАЧЕНИЕ(Перечисление.СистемыНалогообложения.Общая)) = ЗНАЧЕНИЕ(Перечисление.СистемыНалогообложения.Общая) 
		|					  И ПланКт.НалоговыйУчет
		|					ТОГДА ХЗ.СуммаНУКт <> 0 ИЛИ ХЗ.СуммаПРКт <> 0 ИЛИ ХЗ.СуммаВРКт <> 0
		|				ИНАЧЕ ЛОЖЬ 
		|			КОНЕЦ))
		|	И (ХЗ.СчетДт <> ХЗ.СчетКт
		|		ИЛИ (ВЫБОР
		|				КОГДА ХЗ.ВидСубконтоДт1 <> НЕОПРЕДЕЛЕНО 
		|					ТОГДА ХЗ.СубконтоДт1
		|				КОГДА (ВидыДт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт) 
		|					ТОГДА ЕСТЬNULL(ХЗ.СубконтоДт, НЕОПРЕДЕЛЕНО)
		|				КОГДА (ВидыДт1.Ссылка ЕСТЬ NULL) 
		|					ТОГДА НЕОПРЕДЕЛЕНО
		|				ИНАЧЕ ХЗ.СубконтоДт1 КОНЕЦ) <>
		|			(ВЫБОР
		|				КОГДА ХЗ.ВидСубконтоКт1 <> НЕОПРЕДЕЛЕНО 
		|					ТОГДА ХЗ.СубконтоКт1
		|				КОГДА (ВидыКт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт) 
		|					ТОГДА ЕСТЬNULL(ХЗ.СубконтоКт, НЕОПРЕДЕЛЕНО)
		|				КОГДА (ВидыКт1.Ссылка ЕСТЬ NULL) 
		|					ТОГДА НЕОПРЕДЕЛЕНО
		|				ИНАЧЕ ХЗ.СубконтоКт1 КОНЕЦ)
		|		ИЛИ (ВЫБОР
		|				КОГДА ХЗ.ВидСубконтоДт2 <> НЕОПРЕДЕЛЕНО 
		|					ТОГДА ХЗ.СубконтоДт2
		|				КОГДА (ВидыДт1.Ссылка <> ХЗ.ВидСубконтоДт) И (ВидыДт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|					ТОГДА ЕСТЬNULL(ХЗ.СубконтоДт, НЕОПРЕДЕЛЕНО)
		|				КОГДА (ВидыДт2.Ссылка ЕСТЬ NULL)
		|					ТОГДА НЕОПРЕДЕЛЕНО
		|				ИНАЧЕ ХЗ.СубконтоДт2 КОНЕЦ) <>
		|			(ВЫБОР
		|				КОГДА ХЗ.ВидСубконтоКт2 <> НЕОПРЕДЕЛЕНО 
		|					ТОГДА ХЗ.СубконтоКт2
		|				КОГДА (ВидыКт1.Ссылка <> ХЗ.ВидСубконтоКт) И (ВидыКт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|					ТОГДА ЕСТЬNULL(ХЗ.СубконтоКт, НЕОПРЕДЕЛЕНО)
		|				КОГДА 
		|					(ВидыКт2.Ссылка ЕСТЬ NULL)
		|				ТОГДА НЕОПРЕДЕЛЕНО
		|			ИНАЧЕ ХЗ.СубконтоКт2 КОНЕЦ)
		|		ИЛИ (ВЫБОР
		|				КОГДА ХЗ.ВидСубконтоДт3 <> НЕОПРЕДЕЛЕНО 
		|					ТОГДА ХЗ.СубконтоДт3
		|				КОГДА (НЕ ХЗ.ВидСубконтоДт В (ВидыДт1.Ссылка, ВидыДт2.Ссылка)) И (ВидыДт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|					ТОГДА ЕСТЬNULL(ХЗ.СубконтоДт, НЕОПРЕДЕЛЕНО)
		|				КОГДА (ВидыДт3.Ссылка ЕСТЬ NULL)
		|					ТОГДА НЕОПРЕДЕЛЕНО
		|				ИНАЧЕ ХЗ.СубконтоДт3 КОНЕЦ) <>
		|			(ВЫБОР
		|				КОГДА ХЗ.ВидСубконтоКт3 <> НЕОПРЕДЕЛЕНО 
		|					ТОГДА ХЗ.СубконтоКт3
		|				КОГДА (НЕ ХЗ.ВидСубконтоКт В (ВидыКт1.Ссылка, ВидыКт2.Ссылка)) И (ВидыКт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|					ТОГДА ЕСТЬNULL(ХЗ.СубконтоКт, НЕОПРЕДЕЛЕНО)
		|				КОГДА (ВидыКт3.Ссылка ЕСТЬ NULL)
		|					ТОГДА НЕОПРЕДЕЛЕНО
		|				ИНАЧЕ ХЗ.СубконтоКт3 КОНЕЦ)
		|		ИЛИ (ВЫБОР 
		|				КОГДА ПланДт.Валютный ТОГДА ЕСТЬNULL(ХЗ.ВалютаДт, ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)) 
		|				ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) 
		|			КОНЕЦ) <>
		|			(ВЫБОР 
		|				КОГДА ПланКт.Валютный ТОГДА ЕСТЬNULL(ХЗ.ВалютаКт, ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)) 
		|				ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) 
		|			КОНЕЦ)
		|		ИЛИ (ВЫБОР 
		|				КОГДА ПланДт.УчетПоПодразделениям ТОГДА ЕСТЬNULL(ХЗ.ПодразделениеДт, ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка))
		|				ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)
		|			КОНЕЦ) <> 
		|			(ВЫБОР 
		|				КОГДА ПланКт.УчетПоПодразделениям ТОГДА ЕСТЬNULL(ХЗ.ПодразделениеКт, ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка))
		|				ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)
		|			КОНЕЦ)
		|		ИЛИ ((ПланДт.Количественный ИЛИ ПланКт.Количественный) И ЕСТЬNULL(ХЗ.КоличествоДт, 0) <> ЕСТЬNULL(ХЗ.КоличествоКт, 0))
		|		ИЛИ (ЕСТЬNULL(ХЗ.НаправлениеДеятельностиКт, ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)) <> ЕСТЬNULL(ХЗ.НаправлениеДеятельностиДт, ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка))))
		|
		|СГРУППИРОВАТЬ ПО
		|	ХЗ.Ссылка,
		|	ХЗ.Период,
		|	ХЗ.Организация,
		|
		|	(ВЫБОР КОГДА ПланДт.Валютный ТОГДА ХЗ.ВалютаДт ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КОНЕЦ),
		|	(ВЫБОР КОГДА ПланДт.УчетПоПодразделениям ТОГДА ХЗ.ПодразделениеДт
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КОНЕЦ),
		|	(ВЫБОР КОГДА ПланДт.УчетПоНаправлениямДеятельности ТОГДА ХЗ.НаправлениеДеятельностиДт
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КОНЕЦ),
		|	ХЗ.СчетДт,
		|
		|	(ВЫБОР 
		|		КОГДА ХЗ.ВидСубконтоДт1 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоДт1
		|		КОГДА (ВидыДт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт) ТОГДА ХЗ.ВидСубконтоДт
		|		ИНАЧЕ ЕСТЬNULL(ВидыДт1.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ),
		|	(ВЫБОР 
		|		КОГДА ХЗ.ВидСубконтоДт1 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоДт1
		|		КОГДА (ВидыДт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт) ТОГДА ХЗ.СубконтоДт
		|		КОГДА (ВидыДт1.Ссылка ЕСТЬ NULL) ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоДт1 КОНЕЦ),
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоДт2 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоДт2
		|		КОГДА (ВидыДт1.Ссылка <> ХЗ.ВидСубконтоДт) И (ВидыДт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|			ТОГДА ХЗ.ВидСубконтоДт
		|		ИНАЧЕ ЕСТЬNULL(ВидыДт2.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ),
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоДт2 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоДт2
		|		КОГДА (ВидыДт1.Ссылка <> ХЗ.ВидСубконтоДт) И (ВидыДт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|			ТОГДА ХЗ.СубконтоДт
		|		КОГДА (ВидыДт2.Ссылка ЕСТЬ NULL)
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоДт2 КОНЕЦ),
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоДт3 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоДт3
		|		КОГДА (НЕ ХЗ.ВидСубконтоДт В (ВидыДт1.Ссылка, ВидыДт2.Ссылка)) И (ВидыДт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|			ТОГДА ХЗ.ВидСубконтоДт
		|		ИНАЧЕ ЕСТЬNULL(ВидыДт3.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ),
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоДт3 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоДт3
		|		КОГДА (НЕ ХЗ.ВидСубконтоДт В (ВидыДт1.Ссылка, ВидыДт2.Ссылка)) И (ВидыДт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоДт)
		|			ТОГДА ХЗ.СубконтоДт
		|		КОГДА (ВидыДт3.Ссылка ЕСТЬ NULL)
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоДт3 КОНЕЦ),
		|
		|	(ВЫБОР КОГДА ПланКт.Валютный ТОГДА ХЗ.ВалютаКт ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КОНЕЦ),
		|	(ВЫБОР КОГДА ПланКт.УчетПоПодразделениям ТОГДА ХЗ.ПодразделениеКт
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КОНЕЦ),
		|	(ВЫБОР КОГДА ПланКт.УчетПоНаправлениямДеятельности ТОГДА ХЗ.НаправлениеДеятельностиКт
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КОНЕЦ),
		|	ХЗ.СчетКт,
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт1 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоКт1
		|		КОГДА (ВидыКт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт) ТОГДА ХЗ.ВидСубконтоКт
		|		ИНАЧЕ ЕСТЬNULL(ВидыКт1.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ),
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт1 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоКт1
		|		КОГДА (ВидыКт1.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт) ТОГДА ХЗ.СубконтоКт
		|		КОГДА (ВидыКт1.Ссылка ЕСТЬ NULL) ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоКт1 КОНЕЦ),
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт2 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоКт2
		|		КОГДА (ВидыКт1.Ссылка <> ХЗ.ВидСубконтоКт) И (ВидыКт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|			ТОГДА ХЗ.ВидСубконтоКт
		|		ИНАЧЕ ЕСТЬNULL(ВидыКт2.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ),
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт2 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоКт2
		|		КОГДА (ВидыКт1.Ссылка <> ХЗ.ВидСубконтоКт) И (ВидыКт2.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|			ТОГДА ХЗ.СубконтоКт
		|		КОГДА (ВидыКт2.Ссылка ЕСТЬ NULL)
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоКт2 КОНЕЦ),
		|
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт3 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.ВидСубконтоКт3
		|		КОГДА (НЕ ХЗ.ВидСубконтоКт В (ВидыКт1.Ссылка, ВидыКт2.Ссылка)) И (ВидыКт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|			ТОГДА ХЗ.ВидСубконтоКт
		|		ИНАЧЕ ЕСТЬNULL(ВидыКт3.Ссылка, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КОНЕЦ),
		|	(ВЫБОР
		|		КОГДА ХЗ.ВидСубконтоКт3 <> НЕОПРЕДЕЛЕНО ТОГДА ХЗ.СубконтоКт3
		|		КОГДА (НЕ ХЗ.ВидСубконтоКт В (ВидыКт1.Ссылка, ВидыКт2.Ссылка)) И (ВидыКт3.Ссылка ЕСТЬ NULL) И (НЕОПРЕДЕЛЕНО <> ХЗ.ВидСубконтоКт)
		|			ТОГДА ХЗ.СубконтоКт
		|		КОГДА (ВидыКт3.Ссылка ЕСТЬ NULL)
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ ХЗ.СубконтоКт3 КОНЕЦ),
		|	
		|	ХЗ.Содержание
		|
		|ИМЕЮЩИЕ
		|	СУММА(ХЗ.Сумма) <> 0.0
		|	ИЛИ СУММА(ХЗ.СуммаУУ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланДт.Валютный ТОГДА ХЗ.ВалютнаяСуммаДт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланДт.Количественный ТОГДА ХЗ.КоличествоДт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланДт.НалоговыйУчет ТОГДА ХЗ.СуммаНУДт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланДт.НалоговыйУчет ТОГДА ХЗ.СуммаПРДт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланДт.НалоговыйУчет ТОГДА ХЗ.СуммаВРДт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланКт.Валютный ТОГДА ХЗ.ВалютнаяСуммаКт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланКт.Количественный ТОГДА ХЗ.КоличествоКт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланКт.НалоговыйУчет ТОГДА ХЗ.СуммаНУКт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланКт.НалоговыйУчет ТОГДА ХЗ.СуммаПРКт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|	ИЛИ СУММА(ВЫБОР КОГДА ПланКт.НалоговыйУчет ТОГДА ХЗ.СуммаВРКт ИНАЧЕ 0.0 КОНЕЦ) <> 0.0
		|
		|УПОРЯДОЧИТЬ ПО
		|	Ссылка
		|	
		|ИТОГИ ПО
		|	Ссылка
		|");
	
	Запрос.УстановитьПараметр("ИсточникСуммыДляПересчетаВВалютуФО", Константы.ИсточникСуммыДляПересчетаВВалютуФинОтчетности.Получить());
	Запрос.УстановитьПараметр("ВалютаФинОтчетности",     Константы.ВалютаФинОтчетности.Получить());
	Запрос.УстановитьПараметр("ВалютаУпрУчета",          Константы.ВалютаУправленческогоУчета.Получить());
	
	Возврат Запрос;
	
КонецФункции

Функция ЗапросХозрасчетныйДополнение() Экспорт
	
	Возврат Новый Запрос(
		"ВЫБРАТЬ
		|	Хозрасчетный.Регистратор                  КАК Ссылка,
		|	НАЧАЛОПЕРИОДА(Хозрасчетный.Период, ДЕНЬ)  КАК ДатаОтражения,
		|	Хозрасчетный.Период                       КАК Период,
		|	Хозрасчетный.СчетДт                       КАК СчетДт,
		|	Хозрасчетный.СубконтоДт1                  КАК СубконтоДт1,
		|	Хозрасчетный.ВидСубконтоДт1               КАК ВидСубконтоДт1,
		|	Хозрасчетный.СубконтоДт2                  КАК СубконтоДт2,
		|	Хозрасчетный.ВидСубконтоДт2               КАК ВидСубконтоДт2,
		|	Хозрасчетный.СубконтоДт3                  КАК СубконтоДт3,
		|	Хозрасчетный.ВидСубконтоДт3               КАК ВидСубконтоДт3,
		|	Хозрасчетный.СчетКт                       КАК СчетКт,
		|	Хозрасчетный.СубконтоКт1                  КАК СубконтоКт1,
		|	Хозрасчетный.ВидСубконтоКт1               КАК ВидСубконтоКт1,
		|	Хозрасчетный.СубконтоКт2                  КАК СубконтоКт2,
		|	Хозрасчетный.ВидСубконтоКт2               КАК ВидСубконтоКт2,
		|	Хозрасчетный.СубконтоКт3                  КАК СубконтоКт3,
		|	Хозрасчетный.ВидСубконтоКт3               КАК ВидСубконтоКт3,
		|	Хозрасчетный.Организация                  КАК Организация,
		|	Хозрасчетный.ВалютаДт                     КАК ВалютаДт,
		|	Хозрасчетный.ВалютаКт                     КАК ВалютаКт,
		|	Хозрасчетный.ПодразделениеДт              КАК ПодразделениеДт,
		|	Хозрасчетный.НаправлениеДеятельностиДт    КАК НаправлениеДеятельностиДт,
		|	Хозрасчетный.ПодразделениеКт              КАК ПодразделениеКт,
		|	Хозрасчетный.НаправлениеДеятельностиКт    КАК НаправлениеДеятельностиКт,
		|	Хозрасчетный.Сумма                        КАК Сумма,
		|	Хозрасчетный.СуммаУУ                      КАК СуммаУУ,
		|	Хозрасчетный.СуммаФО                      КАК СуммаФО,
		|	Хозрасчетный.ВалютнаяСуммаДт              КАК ВалютнаяСуммаДт,
		|	Хозрасчетный.ВалютнаяСуммаКт              КАК ВалютнаяСуммаКт,
		|	Хозрасчетный.КоличествоДт                 КАК КоличествоДт,
		|	Хозрасчетный.КоличествоКт                 КАК КоличествоКт,
		|	Хозрасчетный.СуммаНУДт                    КАК СуммаНУДт,
		|	Хозрасчетный.СуммаНУКт                    КАК СуммаНУКт,
		|	Хозрасчетный.СуммаПРДт                    КАК СуммаПРДт,
		|	Хозрасчетный.СуммаПРКт                    КАК СуммаПРКт,
		|	Хозрасчетный.СуммаВРДт                    КАК СуммаВРДт,
		|	Хозрасчетный.СуммаВРКт                    КАК СуммаВРКт,
		|	Хозрасчетный.Содержание                   КАК Содержание,
		|	Хозрасчетный.НеКорректироватьСтоимостьАвтоматически КАК НеКорректироватьСтоимостьАвтоматически
		|ПОМЕСТИТЬ ТекущееСостояние
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.ДвиженияССубконто(
		|			,
		|			,
		|			Регистратор В
		|				(ВЫБРАТЬ
		|					Таблица.Ссылка КАК Ссылка
		|				ИЗ
		|					ДокументыКОтражению КАК Таблица)
		|			И НЕ ТИПЗНАЧЕНИЯ(Регистратор) В (&ДокументыОтражаемыеПоследовательно),
		|			,
		|			) КАК Хозрасчетный
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	Ссылка
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	Хозрасчетный.Ссылка                       КАК Ссылка,
		|	Хозрасчетный.Период                       КАК Период,
		|	Хозрасчетный.СчетДт                       КАК СчетДт,
		|	Хозрасчетный.СубконтоДт1                  КАК СубконтоДт1,
		|	Хозрасчетный.ВидСубконтоДт1               КАК ВидСубконтоДт1,
		|	Хозрасчетный.СубконтоДт2                  КАК СубконтоДт2,
		|	Хозрасчетный.ВидСубконтоДт2               КАК ВидСубконтоДт2,
		|	Хозрасчетный.СубконтоДт3                  КАК СубконтоДт3,
		|	Хозрасчетный.ВидСубконтоДт3               КАК ВидСубконтоДт3,
		|	Хозрасчетный.СчетКт                       КАК СчетКт,
		|	Хозрасчетный.СубконтоКт1                  КАК СубконтоКт1,
		|	Хозрасчетный.ВидСубконтоКт1               КАК ВидСубконтоКт1,
		|	Хозрасчетный.СубконтоКт2                  КАК СубконтоКт2,
		|	Хозрасчетный.ВидСубконтоКт2               КАК ВидСубконтоКт2,
		|	Хозрасчетный.СубконтоКт3                  КАК СубконтоКт3,
		|	Хозрасчетный.ВидСубконтоКт3               КАК ВидСубконтоКт3,
		|	Хозрасчетный.Организация                  КАК Организация,
		|	Хозрасчетный.ВалютаДт                     КАК ВалютаДт,
		|	Хозрасчетный.ВалютаКт                     КАК ВалютаКт,
		|	Хозрасчетный.ПодразделениеДт              КАК ПодразделениеДт,
		|	Хозрасчетный.НаправлениеДеятельностиДт    КАК НаправлениеДеятельностиДт,
		|	Хозрасчетный.ПодразделениеКт              КАК ПодразделениеКт,
		|	Хозрасчетный.НаправлениеДеятельностиКт    КАК НаправлениеДеятельностиКт,
		|	Хозрасчетный.Сумма                        КАК Сумма,
		|	Хозрасчетный.СуммаУУ                      КАК СуммаУУ,
		|	Хозрасчетный.СуммаФО                      КАК СуммаФО,
		|	Хозрасчетный.ВалютнаяСуммаДт              КАК ВалютнаяСуммаДт,
		|	Хозрасчетный.ВалютнаяСуммаКт              КАК ВалютнаяСуммаКт,
		|	Хозрасчетный.КоличествоДт                 КАК КоличествоДт,
		|	Хозрасчетный.КоличествоКт                 КАК КоличествоКт,
		|	Хозрасчетный.СуммаНУДт                    КАК СуммаНУДт,
		|	Хозрасчетный.СуммаНУКт                    КАК СуммаНУКт,
		|	Хозрасчетный.СуммаПРДт                    КАК СуммаПРДт,
		|	Хозрасчетный.СуммаПРКт                    КАК СуммаПРКт,
		|	Хозрасчетный.СуммаВРДт                    КАК СуммаВРДт,
		|	Хозрасчетный.СуммаВРКт                    КАК СуммаВРКт,
		|	Хозрасчетный.Содержание                   КАК Содержание,
		|	Хозрасчетный.НеКорректироватьСтоимостьАвтоматически КАК НеКорректироватьСтоимостьАвтоматически
		|ИЗ
		|	ТекущееСостояние КАК Хозрасчетный
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РазрезыКОтражению КАК РазрезыКОтражению
		|	ПО 
		|		Хозрасчетный.Ссылка = РазрезыКОтражению.Ссылка
		|		И Хозрасчетный.ДатаОтражения = РазрезыКОтражению.ДатаОтражения
		|		И Хозрасчетный.Организация = РазрезыКОтражению.Организация
		|	
		|ГДЕ
		|	РазрезыКОтражению.Ссылка ЕСТЬ NULL 
		|
		|УПОРЯДОЧИТЬ ПО
		|	Хозрасчетный.Ссылка
		|
		|ИТОГИ ПО
		|	Ссылка
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|УНИЧТОЖИТЬ ТекущееСостояние");
	
КонецФункции

Функция ЗапросОтражениеДокументовВРеглУчете() Экспорт
	
	Возврат Новый Запрос(
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	Статусы.Регистратор                  КАК Ссылка,
		|	Статусы.Период                       КАК Период,
		|	Статусы.Организация                  КАК Организация,
		|	Статусы.ДатаОтражения                КАК ДатаОтражения,
		|	ВЫБОР
		|		КОГДА НЕ РазрезыКОтражению.Ссылка ЕСТЬ NULL
		|			ТОГДА НЕОПРЕДЕЛЕНО
		|		ИНАЧЕ Статусы.Статус
		|	КОНЕЦ                                КАК Статус,
		|	Статусы.ИдентификаторСтатуса         КАК ИдентификаторСтатуса
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ОтражениеДокументовВРеглУчете КАК Статусы
		|	ПО 
		|		ДокументыКОтражению.Ссылка = Статусы.Регистратор
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		РазрезыКОтражению КАК РазрезыКОтражению
		|	ПО
		|		Статусы.Регистратор = РазрезыКОтражению.Ссылка
		|		И Статусы.Период = РазрезыКОтражению.Период
		|		И Статусы.Организация = РазрезыКОтражению.Организация
		|		И Статусы.ДатаОтражения = РазрезыКОтражению.ДатаОтражения
		|		
		|УПОРЯДОЧИТЬ ПО
		|	Ссылка,
		|	Организация,
		|	ДатаОтражения
		|
		|ИТОГИ
		|	МАКСИМУМ(Период),
		|	МАКСИМУМ(ИдентификаторСтатуса)
		|ПО
		|	Ссылка");
	
КонецФункции

Функция ЗапросСвязанныеОперацииБух() Экспорт
	
	Возврат Новый Запрос(
		"ВЫБРАТЬ
		|	ДокументыКОтражению.Ссылка            КАК Ссылка,
		|	ОперацияБух.Ссылка                    КАК Регистратор,
		|	ОперацияБух.Дата                      КАК Период,
		|	ОперацияБух.Организация               КАК Организация,
		|	НАЧАЛОПЕРИОДА(ОперацияБух.Дата, ДЕНЬ) КАК ДатаОтражения,
		|	ЗНАЧЕНИЕ(Перечисление.СтатусыОтраженияДокументовВРеглУчете.КОтражениюВУчетеВручную) КАК Статус
		|ИЗ
		|	Документ.ОперацияБух.ЗаполнениеДвижений КАК ОперацияБухОснования
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		ДокументыКОтражению КАК ДокументыКОтражению
		|	ПО
		|		ОперацияБухОснования.Документ = ДокументыКОтражению.Ссылка
		|	
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		Документ.ОперацияБух КАК ОперацияБух
		|	ПО
		|		ОперацияБухОснования.Ссылка = ОперацияБух.Ссылка
		|ГДЕ
		|	НЕ ОперацияБух.ПометкаУдаления
		|	
		|УПОРЯДОЧИТЬ ПО
		|	Ссылка
		|
		|ИТОГИ ПО
		|	Ссылка");
	
КонецФункции

Функция ЗапросЗаданияКФормированиюФинРезультата() Экспорт
	
	Возврат Новый Запрос(
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	РазрезыКОтражению.Организация КАК Организация,
		|	ЗНАЧЕНИЕ(Перечисление.ОперацииЗакрытияМесяца.ФормированиеФинансовогоРезультата) КАК Операция,
		|	НАЧАЛОПЕРИОДА(РазрезыКОтражению.ДатаОтражения, МЕСЯЦ) КАК Месяц
		|ИЗ
		|	РазрезыКОтражению КАК РазрезыКОтражению
		|	ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЗаданияКЗакрытиюМесяца КАК Задания
		|	ПО
		|		РазрезыКОтражению.Организация = Задания.Организация
		|		И Задания.Операция = ЗНАЧЕНИЕ(Перечисление.ОперацииЗакрытияМесяца.ФормированиеФинансовогоРезультата)
		|		И НАЧАЛОПЕРИОДА(РазрезыКОтражению.ДатаОтражения, МЕСЯЦ) = НАЧАЛОПЕРИОДА(Задания.Месяц, МЕСЯЦ)
		|ГДЕ
		|	КОНЕЦПЕРИОДА(РазрезыКОтражению.Период, ГОД) <= КОНЕЦПЕРИОДА(РазрезыКОтражению.ДатаОтражения, ГОД)
		|	И Задания.Операция ЕСТЬ NULL
		|");
	
КонецФункции


Функция ЗапросОчистки(ИмяДокумента) Экспорт
	
	ТекстЗапросаОчистки = "
	|УНИЧТОЖИТЬ УчетнаяПолитикаОрганизаций;
	|УНИЧТОЖИТЬ КурсыВалют;
	|УНИЧТОЖИТЬ ВтСтроки;
	|УНИЧТОЖИТЬ ВтСтоимости;
	|УНИЧТОЖИТЬ Партии;
	|УНИЧТОЖИТЬ РасчетыСКлиентамиНоваяАрхитектура;
	|УНИЧТОЖИТЬ РасчетыСПоставщикамиНоваяАрхитектура;
	|УНИЧТОЖИТЬ ВТРасчетыСКлиентами;
	|УНИЧТОЖИТЬ ВТРасчетыСПоставщиками;
	|УНИЧТОЖИТЬ ВТВводСобственныхСредств;
	|УНИЧТОЖИТЬ РазрезыКОтражению;
	|УНИЧТОЖИТЬ ДокументыКОтражению;
	|УНИЧТОЖИТЬ Данные;
	|УНИЧТОЖИТЬ ПрочиеСчета;
	|УНИЧТОЖИТЬ Хозрасчетный;
	|УНИЧТОЖИТЬ ОшибкиПроверки;";
	
	ТекстЗапросаВТОтражения = ТекстВТОтраженияДокумента(ИмяДокумента);
	
	Если ТекстЗапросаВТОтражения <> "" Тогда
		ВТЗапросаДанных = РеглУчетВыборкиСерверПовтИсп.ВТЗапроса(ТекстЗапросаВТОтражения);
		Для каждого ВТ Из ВТЗапросаДанных Цикл
			ТекстЗапросаОчистки = ТекстЗапросаОчистки + "
				|УНИЧТОЖИТЬ " + ВТ + ";";
		КонецЦикла;
	КонецЕсли;
	
	Возврат Новый Запрос(ТекстЗапросаОчистки);
	
КонецФункции

#КонецОбласти

#Область ВременныеТаблицы

Функция ТекстПустыеВТ(СписокВТ)
	
	МассивВТ = СтрРазделить(СписокВТ, ",");
	МассивТекстовЗапросаОчисткиВТ = Новый Массив;
	Для каждого ТаблицаВТ из МассивВТ Цикл
		ТекстЗапросаОчисткиВТ =
		"ВЫБРАТЬ
		|	1
		|ПОМЕСТИТЬ #ИмяВременнойТаблицы";
		ТекстЗапросаОчисткиВТ = СтрЗаменить(ТекстЗапросаОчисткиВТ, "#ИмяВременнойТаблицы", ТаблицаВТ);
		МассивТекстовЗапросаОчисткиВТ.Добавить(ТекстЗапросаОчисткиВТ);
	КонецЦикла;
	ТекстЗапросаОчисткиВТ = СтрСоединить(МассивТекстовЗапросаОчисткиВТ, ОбщегоНазначения.РазделительПакетаЗапросов()) + ОбщегоНазначения.РазделительПакетаЗапросов();
	Возврат ТекстЗапросаОчисткиВТ;
	
КонецФункции

Функция ТекстУчетнаяПолитика()
	
	Возврат "
		|ВЫБРАТЬ
		|	РазрезыКОтражению.Ссылка          КАК Ссылка,
		|	РазрезыКОтражению.Организация     КАК Организация,
		|	РазрезыКОтражению.ДатаОтражения   КАК ДатаОтражения,
		|	МАКСИМУМ(УчетнаяПолитикаОрганизаций.Период) КАК ПериодУчетнойПолитики
		|ПОМЕСТИТЬ ПериодыУчетнойПолитики
		|ИЗ
		|	РазрезыКОтражению КАК РазрезыКОтражению
		|	
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрСведений.УчетнаяПолитикаОрганизаций КАК УчетнаяПолитикаОрганизаций
		|	ПО
		|		РазрезыКОтражению.Организация = УчетнаяПолитикаОрганизаций.Организация
		|		И РазрезыКОтражению.ДатаОтражения >= УчетнаяПолитикаОрганизаций.Период
		|
		|СГРУППИРОВАТЬ ПО
		|	РазрезыКОтражению.Ссылка,
		|	РазрезыКОтражению.Организация,
		|	РазрезыКОтражению.ДатаОтражения
		|	
		|ИНДЕКСИРОВАТЬ ПО
		|	Ссылка,
		|	Организация
		|;
		|
		|ВЫБРАТЬ
		|	РазрезыКОтражению.Ссылка        КАК Ссылка,
		|	РазрезыКОтражению.Организация   КАК Организация,
		|	РазрезыКОтражению.Период        КАК Период,
		|	РазрезыКОтражению.ДатаОтражения КАК ДатаОтражения,
		|	ЕСТЬNULL(УчетнаяПолитикаОрганизаций.УчетнаяПолитика, ЗНАЧЕНИЕ(Справочник.УчетныеПолитикиОрганизаций.ПустаяСсылка)) КАК УчетнаяПолитика
		|ПОМЕСТИТЬ УчетнаяПолитикаОрганизаций
		|ИЗ
		|	РазрезыКОтражению КАК РазрезыКОтражению
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		ПериодыУчетнойПолитики КАК ПериодыУчетнойПолитики
		|	ПО
		|		РазрезыКОтражению.Ссылка = ПериодыУчетнойПолитики.Ссылка
		|		И РазрезыКОтражению.Организация = ПериодыУчетнойПолитики.Организация
		|		И РазрезыКОтражению.ДатаОтражения = ПериодыУчетнойПолитики.ДатаОтражения
		|		
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		РегистрСведений.УчетнаяПолитикаОрганизаций КАК УчетнаяПолитикаОрганизаций
		|	ПО
		|		ПериодыУчетнойПолитики.Организация = УчетнаяПолитикаОрганизаций.Организация
		|		И ПериодыУчетнойПолитики.ПериодУчетнойПолитики = УчетнаяПолитикаОрганизаций.Период
		|	
		|ИНДЕКСИРОВАТЬ ПО
		|	Ссылка,
		|	Организация
		|;
		|
		|УНИЧТОЖИТЬ ПериодыУчетнойПолитики
		|;
		|";
	
КонецФункции

Функция ТекстСебестоимость()
	
#Область ВтСтроки
	ТекстСебестоимость = "
	|ВЫБРАТЬ
	|	Движения.Регистратор КАК Ссылка,
	|	Движения.Период КАК Период,
	|	Движения.ВидДвижения КАК ВидДвижения,
	|	Аналитика.Номенклатура КАК Номенклатура,
	|	ЕСТЬNULL(КорАналитика.Номенклатура, НЕОПРЕДЕЛЕНО) КАК КорНоменклатура,
	|	Аналитика.МестоХранения КАК Склад,
	|	ЕСТЬNULL(КорАналитика.МестоХранения, Аналитика.МестоХранения) КАК КорСклад,
	|	ВЫБОР
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|		ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Подразделение)
	|		ТОГДА Аналитика.Подразделение
	|		КОГДА Движения.РазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаКомиссию),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажи))
	|		ТОГДА ЕСТЬNULL(ВидыЗапасов.Договор.Подразделение, НЕОПРЕДЕЛЕНО)
	|		КОГДА Движения.РазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажиПереданныеПартнерам),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыПереданныеПартнерам))
	|		ТОГДА ЕСТЬNULL(Аналитика.Договор.Подразделение, НЕОПРЕДЕЛЕНО)
	|	ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ КАК ПодразделениеАналитики,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(КорАналитика.ТипМестаХранения, Аналитика.ТипМестаХранения) = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА ЕСТЬNULL(КорАналитика.СкладскаяТерритория.Подразделение, Аналитика.СкладскаяТерритория.Подразделение)
	|		КОГДА ЕСТЬNULL(КорАналитика.ТипМестаХранения, Аналитика.ТипМестаХранения) = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Подразделение)
	|			ТОГДА ЕСТЬNULL(КорАналитика.Подразделение, Аналитика.Подразделение)
	|		КОГДА Движения.КорРазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаКомиссию),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажи))
	|		ТОГДА ЕСТЬNULL(ЕСТЬNULL(КорВидыЗапасов.Договор.Подразделение, ВидыЗапасов.Договор.Подразделение), НЕОПРЕДЕЛЕНО)
	|		КОГДА Движения.КорРазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажиПереданныеПартнерам),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыПереданныеПартнерам))
	|		ТОГДА ЕСТЬNULL(ЕСТЬNULL(КорАналитика.Договор.Подразделение, Аналитика.Договор.Подразделение), НЕОПРЕДЕЛЕНО)
	|	ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ КАК КорПодразделениеАналитики,
	|
	|	ВЫБОР КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА
	|		Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета ТОГДА
	|		ЕСТЬNULL(ВидыЗапасов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	ИНАЧЕ
	|		Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ КАК ГруппаФинансовогоУчета,
	|
	|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета ТОГДА
	|		ЕСТЬNULL(КорВидыЗапасов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	ИНАЧЕ
	|		ЕСТЬNULL(КорАналитика.Номенклатура.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	КОНЕЦ КАК КорГруппаФинансовогоУчета,
	|
	|	ЕСТЬNULL(ВидыЗапасов.ТипЗапасов, ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПустаяСсылка)) КАК ТипЗапасов,
	|	ЕСТЬNULL(КорВидыЗапасов.ТипЗапасов, ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПустаяСсылка)) КАК КорТипЗапасов,
	|
	|	ВЫБОР КОГДА КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.КомиссионныйТовар)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.МатериалДавальца)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПродукцияДавальца)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ТоварНаХраненииСПравомПродажи)
	|	ТОГДА
	|		КорВидыЗапасов.Контрагент
	|	КОГДА Движения.АналитикаУчетаПоПартнерам <> ЗНАЧЕНИЕ(Справочник.КлючиАналитикиУчетаПоПартнерам.ПустаяСсылка) ТОГДА
	|		Движения.АналитикаУчетаПоПартнерам.Контрагент
	|	КОГДА ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.КомиссионныйТовар)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.МатериалДавальца)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПродукцияДавальца)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ТоварНаХраненииСПравомПродажи)
	|	ТОГДА
	|		ВидыЗапасов.Контрагент
	|	КОГДА Движения.РазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажиПереданныеПартнерам),
	|									ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыПереданныеПартнерам))
	|	ТОГДА 
	|		ЕСТЬNULL(Аналитика.Контрагент, НЕОПРЕДЕЛЕНО)
	|	ИНАЧЕ
	|		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	|	КОНЕЦ КАК Контрагент,
	|
	|	ВЫБОР
	|		КОГДА &ПартионныйУчетВерсии22 И Движения.Период >= НАЧАЛОПЕРИОДА(&ДатаПереходаНаПартионныйУчетВерсии22, МЕСЯЦ)
	|			И ТИПЗНАЧЕНИЯ(Движения.АналитикаФинансовогоУчета) = ТИП(Справочник.ГруппыАналитическогоУчетаНоменклатуры)
	|			ТОГДА Движения.АналитикаФинансовогоУчета
	|		КОГДА НЕ &АналитическийУчетПоГруппамПродукции
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		КОГДА НЕ Движения.ГруппаПродукции = ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		 И НЕ ТИПЗНАЧЕНИЯ(Движения.Регистратор) В (&ТипыДокументовПроизводства22)
	|		 И НЕ Движения.ХозяйственнаяОперация В (
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзКладовой),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзКладовой))
	|			ТОГДА Движения.ГруппаПродукции
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|	КОНЕЦ КАК ГруппаПродукции,
	|	ВЫБОР
	|		КОГДА &ПартионныйУчетВерсии22 И Движения.Период >= НАЧАЛОПЕРИОДА(&ДатаПереходаНаПартионныйУчетВерсии22, МЕСЯЦ)
	|			И ТИПЗНАЧЕНИЯ(Движения.КорАналитикаФинансовогоУчета) = ТИП(Справочник.ГруппыАналитическогоУчетаНоменклатуры)
	|			ТОГДА Движения.КорАналитикаФинансовогоУчета
	|		КОГДА НЕ &АналитическийУчетПоГруппамПродукции
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		КОГДА НЕ Движения.ГруппаПродукции = ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		 И НЕ ТИПЗНАЧЕНИЯ(Движения.Регистратор) В (&ТипыДокументовПроизводства22)
	|		 И НЕ Движения.ХозяйственнаяОперация В (
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзКладовой),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзКладовой))
	|			ТОГДА Движения.ГруппаПродукции
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|	КОНЕЦ КАК КорГруппаПродукции,
	|
	|	Движения.РазделУчета КАК РазделУчета,
	|	Движения.КорРазделУчета КАК КорРазделУчета,
	|	Движения.Подразделение КАК Подразделение,
	|	Движения.АналитикаРасходов КАК АналитикаРасходов,
	|	Движения.СтатьяРасходовСписания КАК СтатьяРасходов,
	|	Движения.АналитикаДоходов КАК АналитикаДоходов,
	|	Движения.СтатьяДоходов КАК СтатьяДоходов,
	|	Движения.АналитикаАктивовПассивов КАК АналитикаАктивовПассивов,
	|	Движения.СтатьяАктивовПассивов КАК СтатьяАктивовПассивов,
	|	Движения.ХозяйственнаяОперация КАК ХозяйственнаяОперация,
	|
	|	ВЫБОР
	|		КОГДА Движения.ИдентификаторСтроки = ""ВО"" ТОГДА """"
	|		ИНАЧЕ Движения.ИдентификаторСтроки КОНЕЦ КАК ИдентификаторСтроки,
	|	Движения.ПериодПродажи КАК ПериодПродажи,
	|
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Движения.Партия) = ТИП(Справочник.ПартииПроизводства)
	|			ТОГДА ВЫРАЗИТЬ(Движения.Партия КАК Справочник.ПартииПроизводства).НаправлениеДеятельности
	|		ИНАЧЕ ЕСТЬNULL(Назначения.НаправлениеДеятельности, ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка))
	|	КОНЕЦ КАК НаправлениеДеятельности,
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Движения.КорПартия) = ТИП(Справочник.ПартииПроизводства)
	|			ТОГДА ВЫРАЗИТЬ(Движения.КорПартия КАК Справочник.ПартииПроизводства).НаправлениеДеятельности
	|		ИНАЧЕ ЕСТЬNULL(КорНазначения.НаправлениеДеятельности, Движения.КорНаправлениеДеятельности)
	|	КОНЕЦ КАК КорНаправлениеДеятельности,
	|
	|	ВЫБОР КОГДА Движения.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход) ТОГДА
	|			-1
	|		ИНАЧЕ
	|			1
	|	КОНЕЦ КАК Знак,
	|	СУММА(Движения.Количество) КАК Количество,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьРегл <> 0
	|				ТОГДА Движения.СтоимостьРегл
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.СтоимостьРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ДопРасходыРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ТрудозатратыРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПостоянныеРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПеременныеРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК Сумма,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьУпр <> 0
	|				ТОГДА Движения.СтоимостьУпр
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.СтоимостьУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ДопРасходыУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ТрудозатратыУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПостоянныеУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПеременныеУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК СуммаУУ,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьРегл <> 0
	|				ТОГДА Движения.СтоимостьРегл
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.СтоимостьРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ДопРасходыРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ТрудозатратыРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПостоянныеРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПеременныеРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК СуммаБалансовая,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьУпр <> 0
	|				ТОГДА Движения.СтоимостьУпр
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.СтоимостьУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ДопРасходыУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ТрудозатратыУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПостоянныеУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПеременныеУпр, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК СуммаБалансоваяУУ,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьЗабалансоваяРегл <> 0
	|				ТОГДА Движения.СтоимостьЗабалансоваяРегл
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.СтоимостьЗабалансоваяРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК СуммаЗабалансовая,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьЗабалансовая <> 0
	|				ТОГДА Движения.СтоимостьЗабалансовая
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.СтоимостьЗабалансовая, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК СуммаЗабалансоваяУУ,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьРегл <> 0
	|				ТОГДА Движения.ПостояннаяРазница
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостояннаяРазница, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК СуммаПР,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьРегл <> 0
	|				ТОГДА Движения.ВременнаяРазница
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ВременнаяРазница, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК СуммаВР,
	|	СУММА(
	|		ВЫБОР 
	|			КОГДА Движения.СтоимостьРегл <> 0
	|				ТОГДА Движения.СтоимостьРегл - Движения.ПостояннаяРазница - Движения.ВременнаяРазница
	|			КОГДА РасчетСебестоимостиТоваровОкончательный.Ссылка ЕСТЬ NULL
	|				ТОГДА ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.СтоимостьРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ДопРасходыРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ТрудозатратыРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПостоянныеРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					+ ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостатейныеПеременныеРегл, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					- ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ПостояннаяРазница, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|					- ВЫРАЗИТЬ(ЕСТЬNULL(СтоимостьТоваров.ВременнаяРазница, 0) КАК ЧИСЛО(31,2)) * ВЫРАЗИТЬ(Движения.Количество КАК ЧИСЛО(31,3))
	|			ИНАЧЕ 0
	|		КОНЕЦ
	|	) КАК СуммаНУ
	|
	|ПОМЕСТИТЬ ВтСтроки
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.СебестоимостьТоваров КАК Движения
	|	ПО
	|		Движения.Регистратор = ДокументыКОтражению.Ссылка
	|		И НЕ Движения.РасчетСебестоимости
	|		И Движения.Активность
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыЗапасов КАК ВидыЗапасов
	|	ПО Движения.ВидЗапасов = ВидыЗапасов.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыЗапасов КАК КорВидыЗапасов
	|	ПО Движения.КорВидЗапасов = КорВидыЗапасов.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК Аналитика
	|	ПО
	|		Движения.АналитикаУчетаНоменклатуры = Аналитика.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК Назначения
	|		ПО Аналитика.Назначение = Назначения.Ссылка
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК КорАналитика
	|	ПО
	|		Движения.КорАналитикаУчетаНоменклатуры = КорАналитика.Ссылка
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК КорНазначения
	|		ПО КорАналитика.Назначение = КорНазначения.Ссылка
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|		РегистрСведений.СтоимостьТоваров КАК СтоимостьТоваров
	|	ПО
	|		НАЧАЛОПЕРИОДА(Движения.Период, Месяц) = СтоимостьТоваров.Период
	|		И Движения.АналитикаУчетаНоменклатуры = СтоимостьТоваров.АналитикаУчетаНоменклатуры
	|		И Движения.РазделУчета = СтоимостьТоваров.РазделУчета
	|		И Движения.ВидЗапасов = СтоимостьТоваров.ВидЗапасов
	|		И Движения.Организация = СтоимостьТоваров.Организация
	|		И СтоимостьТоваров.Активность
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|		Документ.РасчетСебестоимостиТоваров.Организации КАК РасчетСебестоимостиТоваровОкончательный
	|	ПО
	|		НАЧАЛОПЕРИОДА(Движения.Период, Месяц) = НАЧАЛОПЕРИОДА(РасчетСебестоимостиТоваровОкончательный.Ссылка.Дата, МЕСЯЦ)
	|		И Движения.Организация = РасчетСебестоимостиТоваровОкончательный.Организация
	|		И РасчетСебестоимостиТоваровОкончательный.Ссылка.Проведен
	|		И НЕ РасчетСебестоимостиТоваровОкончательный.Ссылка.ПредварительныйРасчет
	|
	|ГДЕ
	|	ВЫБОР 
	|		КОГДА Движения.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение)
	|			И Движения.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	|			И Движения.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВыпускПродукции)
	|			ТОГДА 
	|				Движения.Количество > 0
	|			ИНАЧЕ
	|				ИСТИНА
	|	КОНЕЦ
	|	И Движения.Количество <> 0
	|	И Движения.Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
	|
	|СГРУППИРОВАТЬ ПО
	|	Движения.Регистратор,
	|	Движения.Период,
	|	Движения.ВидДвижения,
	|	Аналитика.Номенклатура,
	|	ЕСТЬNULL(КорАналитика.Номенклатура, НЕОПРЕДЕЛЕНО),
	|	Аналитика.МестоХранения,
	|	ЕСТЬNULL(КорАналитика.МестоХранения, Аналитика.МестоХранения),
	|	ВЫБОР
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|		ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Подразделение)
	|		ТОГДА Аналитика.Подразделение
	|		КОГДА Движения.РазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаКомиссию),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажи))
	|		ТОГДА ЕСТЬNULL(ВидыЗапасов.Договор.Подразделение, НЕОПРЕДЕЛЕНО)
	|		КОГДА Движения.РазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажиПереданныеПартнерам),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыПереданныеПартнерам))
	|		ТОГДА ЕСТЬNULL(Аналитика.Договор.Подразделение, НЕОПРЕДЕЛЕНО)
	|	ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(КорАналитика.ТипМестаХранения, Аналитика.ТипМестаХранения) = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА ЕСТЬNULL(КорАналитика.СкладскаяТерритория.Подразделение, Аналитика.СкладскаяТерритория.Подразделение)
	|		КОГДА ЕСТЬNULL(КорАналитика.ТипМестаХранения, Аналитика.ТипМестаХранения) = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Подразделение)
	|			ТОГДА ЕСТЬNULL(КорАналитика.Подразделение, Аналитика.Подразделение)
	|		КОГДА Движения.КорРазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаКомиссию),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажи))
	|		ТОГДА ЕСТЬNULL(ЕСТЬNULL(КорВидыЗапасов.Договор.Подразделение, ВидыЗапасов.Договор.Подразделение), НЕОПРЕДЕЛЕНО)
	|		КОГДА Движения.КорРазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажиПереданныеПартнерам),
	|										ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыПереданныеПартнерам))
	|		ТОГДА ЕСТЬNULL(ЕСТЬNULL(КорАналитика.Договор.Подразделение, Аналитика.Договор.Подразделение), НЕОПРЕДЕЛЕНО)
	|	ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
	|
	|	ВЫБОР КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА
	|		Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета ТОГДА
	|		ЕСТЬNULL(ВидыЗапасов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	ИНАЧЕ
	|		Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ,
	|
	|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета ТОГДА
	|		ЕСТЬNULL(КорВидыЗапасов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	ИНАЧЕ
	|		ЕСТЬNULL(КорАналитика.Номенклатура.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	КОНЕЦ,
	|
	|	ЕСТЬNULL(ВидыЗапасов.ТипЗапасов, ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПустаяСсылка)),
	|	ЕСТЬNULL(КорВидыЗапасов.ТипЗапасов, ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПустаяСсылка)),
	|
	|	ВЫБОР КОГДА КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.КомиссионныйТовар)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.МатериалДавальца)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПродукцияДавальца)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ТоварНаХраненииСПравомПродажи)
	|	ТОГДА
	|		КорВидыЗапасов.Контрагент
	|	КОГДА Движения.АналитикаУчетаПоПартнерам <> ЗНАЧЕНИЕ(Справочник.КлючиАналитикиУчетаПоПартнерам.ПустаяСсылка) ТОГДА
	|		Движения.АналитикаУчетаПоПартнерам.Контрагент
	|	КОГДА ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.КомиссионныйТовар)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.МатериалДавальца)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПродукцияДавальца)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ТоварНаХраненииСПравомПродажи)
	|	ТОГДА
	|		ВидыЗапасов.Контрагент
	|	КОГДА Движения.РазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажиПереданныеПартнерам),
	|									ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыПереданныеПартнерам))
	|	ТОГДА 
	|		ЕСТЬNULL(Аналитика.Контрагент, НЕОПРЕДЕЛЕНО)
	|	ИНАЧЕ
	|		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	|	КОНЕЦ,
	|
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Движения.Партия) = ТИП(Справочник.ПартииПроизводства)
	|			ТОГДА ВЫРАЗИТЬ(Движения.Партия КАК Справочник.ПартииПроизводства).НаправлениеДеятельности
	|		ИНАЧЕ ЕСТЬNULL(Назначения.НаправлениеДеятельности, ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка))
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Движения.КорПартия) = ТИП(Справочник.ПартииПроизводства)
	|			ТОГДА ВЫРАЗИТЬ(Движения.КорПартия КАК Справочник.ПартииПроизводства).НаправлениеДеятельности
	|		ИНАЧЕ ЕСТЬNULL(КорНазначения.НаправлениеДеятельности, Движения.КорНаправлениеДеятельности)
	|	КОНЕЦ,
	|
	|	Движения.АналитикаРасходов,
	|	Движения.РазделУчета,
	|	Движения.КорРазделУчета,
	|	Движения.Подразделение,
	|	Движения.СтатьяРасходовСписания,
	|	Движения.АналитикаДоходов,
	|	Движения.СтатьяДоходов,
	|	Движения.АналитикаАктивовПассивов,
	|	Движения.СтатьяАктивовПассивов,
	|	Движения.ХозяйственнаяОперация,
	|	ВЫБОР
	|		КОГДА Движения.ИдентификаторСтроки = ""ВО"" ТОГДА """"
	|		ИНАЧЕ Движения.ИдентификаторСтроки КОНЕЦ,
	|	Движения.ПериодПродажи,
	|	ВЫБОР
	|		КОГДА &ПартионныйУчетВерсии22 И Движения.Период >= НАЧАЛОПЕРИОДА(&ДатаПереходаНаПартионныйУчетВерсии22, МЕСЯЦ)
	|			И ТИПЗНАЧЕНИЯ(Движения.АналитикаФинансовогоУчета) = ТИП(Справочник.ГруппыАналитическогоУчетаНоменклатуры)
	|			ТОГДА Движения.АналитикаФинансовогоУчета
	|		КОГДА НЕ &АналитическийУчетПоГруппамПродукции
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		КОГДА НЕ Движения.ГруппаПродукции = ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		 И НЕ ТИПЗНАЧЕНИЯ(Движения.Регистратор) В (&ТипыДокументовПроизводства22)
	|		 И НЕ Движения.ХозяйственнаяОперация В (
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзКладовой),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзКладовой))
	|			ТОГДА Движения.ГруппаПродукции
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА &ПартионныйУчетВерсии22 И Движения.Период >= НАЧАЛОПЕРИОДА(&ДатаПереходаНаПартионныйУчетВерсии22, МЕСЯЦ)
	|			И ТИПЗНАЧЕНИЯ(Движения.КорАналитикаФинансовогоУчета) = ТИП(Справочник.ГруппыАналитическогоУчетаНоменклатуры)
	|			ТОГДА Движения.КорАналитикаФинансовогоУчета
	|		КОГДА НЕ &АналитическийУчетПоГруппамПродукции
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		КОГДА НЕ Движения.ГруппаПродукции = ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		 И НЕ ТИПЗНАЧЕНИЯ(Движения.Регистратор) В (&ТипыДокументовПроизводства22)
	|		 И НЕ Движения.ХозяйственнаяОперация В (
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзКладовой),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзКладовой))
	|			ТОГДА Движения.ГруппаПродукции
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|	КОНЕЦ
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка,
	|	Номенклатура
	|;
	|/////////////////////////////////////////////////////////////////////////////
	|";
#КонецОбласти

#Область ВтСтоимости
	ТекстСебестоимость = ТекстСебестоимость + "
	|ВЫБРАТЬ
	|	Движения.ДокументДвижения КАК Ссылка,
	|	Движения.Период КАК Период,
	|	Движения.ВидДвижения КАК ВидДвижения,
	|	Аналитика.Номенклатура КАК Номенклатура,
	|	ЕСТЬNULL(КорАналитика.Номенклатура, НЕОПРЕДЕЛЕНО) КАК КорНоменклатура,
	|	Аналитика.МестоХранения КАК Склад,
	|	ЕСТЬNULL(КорАналитика.МестоХранения, Аналитика.МестоХранения) КАК КорСклад,
	|	ВЫБОР
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Подразделение)
	|			ТОГДА Аналитика.Подразделение
	|		КОГДА (Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Партнер) ИЛИ Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Организация)) И НЕ ВидыЗапасов.Договор ЕСТЬ NULL
	|			ТОГДА ВидыЗапасов.Договор.Подразделение
	|	ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ КАК ПодразделениеАналитики,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(КорАналитика.ТипМестаХранения, Аналитика.ТипМестаХранения) = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА ЕСТЬNULL(КорАналитика.СкладскаяТерритория.Подразделение, Аналитика.СкладскаяТерритория.Подразделение)
	|		КОГДА ЕСТЬNULL(КорАналитика.ТипМестаХранения, Аналитика.ТипМестаХранения) = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Подразделение)
	|			ТОГДА ЕСТЬNULL(КорАналитика.Подразделение, Аналитика.Подразделение)
	|		КОГДА НЕ КорАналитика.МестоХранения ЕСТЬ NULL И НЕ ВидыЗапасов.Договор ЕСТЬ NULL И
	|			(КорАналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Партнер) ИЛИ КорАналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Организация))
	|			ТОГДА КорВидыЗапасов.Договор.Подразделение
	|		КОГДА НЕ ВидыЗапасов.Договор ЕСТЬ NULL И (Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Партнер) ИЛИ Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Организация))
	|			ТОГДА ВидыЗапасов.Договор.Подразделение
	|	ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ КАК КорПодразделениеАналитики,
	|
	|	ВЫБОР КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА
	|		Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета ТОГДА
	|		ЕСТЬNULL(ВидыЗапасов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	ИНАЧЕ
	|		Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ КАК ГруппаФинансовогоУчета,
	|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета ТОГДА
	|		ЕСТЬNULL(КорВидыЗапасов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	ИНАЧЕ
	|		ЕСТЬNULL(КорАналитика.Номенклатура.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	КОНЕЦ КАК КорГруппаФинансовогоУчета,
	|
	|	ЕСТЬNULL(ВидыЗапасов.ТипЗапасов, ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПустаяСсылка)) КАК ТипЗапасов,
	|	ЕСТЬNULL(КорВидыЗапасов.ТипЗапасов, ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПустаяСсылка)) КАК КорТипЗапасов,
	|
	|	ВЫБОР КОГДА КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.КомиссионныйТовар)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.МатериалДавальца)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПродукцияДавальца)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ТоварНаХраненииСПравомПродажи)
	|	ТОГДА
	|		КорВидыЗапасов.Контрагент
	|	КОГДА Движения.АналитикаУчетаПоПартнерам <> ЗНАЧЕНИЕ(Справочник.КлючиАналитикиУчетаПоПартнерам.ПустаяСсылка) ТОГДА
	|		Движения.АналитикаУчетаПоПартнерам.Контрагент
	|	КОГДА ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.КомиссионныйТовар)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.МатериалДавальца)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПродукцияДавальца)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ТоварНаХраненииСПравомПродажи)
	|	ТОГДА
	|		ВидыЗапасов.Контрагент
	|	КОГДА Движения.РазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажиПереданныеПартнерам),
	|									ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыПереданныеПартнерам))
	|	ТОГДА 
	|		ЕСТЬNULL(Аналитика.Контрагент, НЕОПРЕДЕЛЕНО)
	|	ИНАЧЕ
	|		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	|	КОНЕЦ КАК Контрагент,
	|
	|	ВЫБОР
	|		КОГДА &ПартионныйУчетВерсии22 И Движения.Период >= НАЧАЛОПЕРИОДА(&ДатаПереходаНаПартионныйУчетВерсии22, МЕСЯЦ)
	|			И ТИПЗНАЧЕНИЯ(Движения.АналитикаФинансовогоУчета) = ТИП(Справочник.ГруппыАналитическогоУчетаНоменклатуры)
	|			ТОГДА Движения.АналитикаФинансовогоУчета
	|		КОГДА НЕ &АналитическийУчетПоГруппамПродукции
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		КОГДА НЕ Движения.ГруппаПродукции = ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		 И НЕ ТИПЗНАЧЕНИЯ(Движения.Регистратор) В (&ТипыДокументовПроизводства22)
	|		 И НЕ Движения.ХозяйственнаяОперация В (
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзКладовой),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзКладовой))
	|			ТОГДА Движения.ГруппаПродукции
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|	КОНЕЦ КАК ГруппаПродукции,
	|	ВЫБОР
	|		КОГДА &ПартионныйУчетВерсии22 И Движения.Период >= НАЧАЛОПЕРИОДА(&ДатаПереходаНаПартионныйУчетВерсии22, МЕСЯЦ)
	|			И ТИПЗНАЧЕНИЯ(Движения.КорАналитикаФинансовогоУчета) = ТИП(Справочник.ГруппыАналитическогоУчетаНоменклатуры)
	|			ТОГДА Движения.КорАналитикаФинансовогоУчета
	|		КОГДА НЕ &АналитическийУчетПоГруппамПродукции
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		КОГДА НЕ Движения.ГруппаПродукции = ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		 И НЕ ТИПЗНАЧЕНИЯ(Движения.Регистратор) В (&ТипыДокументовПроизводства22)
	|		 И НЕ Движения.ХозяйственнаяОперация В (
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзКладовой),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзКладовой))
	|			ТОГДА Движения.ГруппаПродукции
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|	КОНЕЦ КАК КорГруппаПродукции,
	|
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Движения.Партия) = ТИП(Справочник.ПартииПроизводства)
	|			ТОГДА ВЫРАЗИТЬ(Движения.Партия КАК Справочник.ПартииПроизводства).НаправлениеДеятельности
	|		ИНАЧЕ ЕСТЬNULL(Назначения.НаправлениеДеятельности, ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка))
	|	КОНЕЦ КАК НаправлениеДеятельности,
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Движения.КорПартия) = ТИП(Справочник.ПартииПроизводства)
	|			ТОГДА ВЫРАЗИТЬ(Движения.КорПартия КАК Справочник.ПартииПроизводства).НаправлениеДеятельности
	|		ИНАЧЕ ЕСТЬNULL(КорНазначения.НаправлениеДеятельности, Движения.КорНаправлениеДеятельности)
	|	КОНЕЦ КАК КорНаправлениеДеятельности,
	|
	|	Движения.РазделУчета КАК РазделУчета,
	|	Движения.КорРазделУчета КАК КорРазделУчета,
	|	Движения.Подразделение КАК Подразделение,
	|	Движения.АналитикаРасходов КАК АналитикаРасходов,
	|	Движения.СтатьяРасходовСписания КАК СтатьяРасходов,
	|	Движения.АналитикаДоходов КАК АналитикаДоходов,
	|	Движения.СтатьяДоходов КАК СтатьяДоходов,
	|	Движения.АналитикаАктивовПассивов КАК АналитикаАктивовПассивов,
	|	Движения.СтатьяАктивовПассивов КАК СтатьяАктивовПассивов,
	|	Движения.ХозяйственнаяОперация КАК ХозяйственнаяОперация,
	|	ВЫБОР
	|		КОГДА Движения.ИдентификаторСтроки = ""ВО"" ТОГДА """"
	|		ИНАЧЕ Движения.ИдентификаторСтроки КОНЕЦ КАК ИдентификаторСтроки,
	|	Движения.ПериодПродажи КАК ПериодПродажи,
	|	ВЫБОР 
	|		КОГДА Движения.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход) ТОГДА
	|			-1
	|		ИНАЧЕ
	|			1
	|	КОНЕЦ КАК Знак,
	|	СУММА(Движения.СтоимостьРегл + Движения.ДопРасходыРегл + Движения.ТрудозатратыРегл + Движения.ПостатейныеПостоянныеРегл
	|		+ Движения.ПостатейныеПеременныеРегл + Движения.СтоимостьЗабалансоваяРегл) КАК Сумма,
	|	СУММА(Движения.СтоимостьУпр + Движения.ДопРасходыУпр + Движения.ТрудозатратыУпр
	|		+ Движения.ПостатейныеПостоянныеУпр + Движения.ПостатейныеПеременныеУпр) КАК СуммаУУ,
	|	СУММА(Движения.СтоимостьРегл + Движения.ДопРасходыРегл + Движения.ТрудозатратыРегл + Движения.ПостатейныеПостоянныеРегл
	|		+ Движения.ПостатейныеПеременныеРегл)КАК СуммаБалансовая,
	|	СУММА(Движения.СтоимостьУпр + Движения.ДопРасходыУпр + Движения.ТрудозатратыУпр + Движения.ПостатейныеПостоянныеУпр
	|		+ Движения.ПостатейныеПеременныеУпр)КАК СуммаБалансоваяУУ,
	|	СУММА(Движения.СтоимостьЗабалансоваяРегл) КАК СуммаЗабалансовая,
	|	0 КАК СуммаЗабалансоваяУУ,
	|	СУММА(Движения.СтоимостьРегл + Движения.ДопРасходыРегл + Движения.ТрудозатратыРегл + Движения.ПостатейныеПостоянныеРегл
	|		+ Движения.ПостатейныеПеременныеРегл - Движения.ПостояннаяРазница - Движения.ВременнаяРазница) КАК СуммаНУ,
	|	СУММА(Движения.ПостояннаяРазница) КАК СуммаПР,
	|	СУММА(Движения.ВременнаяРазница) КАК СуммаВР,
	|	СУММА(ВЫБОР КОГДА Движения.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход) И Движения.СтоимостьРегл < 0 ТОГДА -Движения.СтоимостьРегл ИНАЧЕ 0 КОНЕЦ) КАК СуммаИсключенияНДС,
	|	СУММА(ВЫБОР КОГДА Движения.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход) И Движения.СтоимостьУпр < 0 ТОГДА -Движения.СтоимостьУпр ИНАЧЕ 0 КОНЕЦ) КАК СуммаИсключенияНДСУпр
	|
	|ПОМЕСТИТЬ ВтСтоимости
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.СебестоимостьТоваров КАК Движения
	|	ПО
	|		Движения.ДокументДвижения = ДокументыКОтражению.Ссылка
	|		И Движения.Активность
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК Аналитика
	|	ПО
	|		Движения.АналитикаУчетаНоменклатуры = Аналитика.Ссылка
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК КорАналитика
	|	ПО
	|		Движения.КорАналитикаУчетаНоменклатуры = КорАналитика.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыЗапасов КАК ВидыЗапасов
	|	ПО Движения.ВидЗапасов = ВидыЗапасов.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыЗапасов КАК КорВидыЗапасов
	|	ПО Движения.КорВидЗапасов = КорВидыЗапасов.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК Назначения
	|		ПО Аналитика.Назначение = Назначения.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК КорНазначения
	|		ПО КорАналитика.Назначение = КорНазначения.Ссылка
	|ГДЕ
	|	ВЫБОР 
	|		КОГДА Движения.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение)
	|			И Движения.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	|			И Движения.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВыпускПродукции)
	|			ТОГДА 
	|				Движения.СтоимостьЗабалансоваяРегл > 0
	|			ИНАЧЕ
	|				ИСТИНА
	|	КОНЕЦ
	|	И Движения.Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
	|	
	|СГРУППИРОВАТЬ ПО
	|	Движения.ДокументДвижения,
	|	Движения.Период,
	|	Движения.ВидДвижения,
	|	Аналитика.Номенклатура,
	|	ЕСТЬNULL(КорАналитика.Номенклатура, НЕОПРЕДЕЛЕНО),
	|	Аналитика.МестоХранения,
	|	ЕСТЬNULL(КорАналитика.МестоХранения, Аналитика.МестоХранения),
	|	ВЫБОР
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Подразделение)
	|			ТОГДА Аналитика.Подразделение
	|		КОГДА (Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Партнер) ИЛИ Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Организация)) И НЕ ВидыЗапасов.Договор ЕСТЬ NULL
	|			ТОГДА ВидыЗапасов.Договор.Подразделение
	|	ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(КорАналитика.ТипМестаХранения, Аналитика.ТипМестаХранения) = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА ЕСТЬNULL(КорАналитика.СкладскаяТерритория.Подразделение, Аналитика.СкладскаяТерритория.Подразделение)
	|		КОГДА ЕСТЬNULL(КорАналитика.ТипМестаХранения, Аналитика.ТипМестаХранения) = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Подразделение)
	|			ТОГДА ЕСТЬNULL(КорАналитика.Подразделение, Аналитика.Подразделение)
	|		КОГДА НЕ КорАналитика.МестоХранения ЕСТЬ NULL И НЕ ВидыЗапасов.Договор ЕСТЬ NULL И
	|			(КорАналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Партнер) ИЛИ КорАналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Организация))
	|			ТОГДА КорВидыЗапасов.Договор.Подразделение
	|		КОГДА НЕ ВидыЗапасов.Договор ЕСТЬ NULL И (Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Партнер) ИЛИ Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Организация))
	|			ТОГДА ВидыЗапасов.Договор.Подразделение
	|	ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ,
	|
	|	ВЫБОР КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА
	|		Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета ТОГДА
	|		ЕСТЬNULL(ВидыЗапасов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	ИНАЧЕ
	|		Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ,
	|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета ТОГДА
	|		ЕСТЬNULL(КорВидыЗапасов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	ИНАЧЕ
	|		ЕСТЬNULL(КорАналитика.Номенклатура.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка))
	|	КОНЕЦ,
	|
	|	ЕСТЬNULL(ВидыЗапасов.ТипЗапасов, ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПустаяСсылка)),
	|	ЕСТЬNULL(КорВидыЗапасов.ТипЗапасов, ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПустаяСсылка)),
	|
	|	ВЫБОР КОГДА КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.КомиссионныйТовар)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.МатериалДавальца)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПродукцияДавальца)
	|		ИЛИ КорВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ТоварНаХраненииСПравомПродажи)
	|	ТОГДА
	|		КорВидыЗапасов.Контрагент
	|	КОГДА Движения.АналитикаУчетаПоПартнерам <> ЗНАЧЕНИЕ(Справочник.КлючиАналитикиУчетаПоПартнерам.ПустаяСсылка) ТОГДА
	|		Движения.АналитикаУчетаПоПартнерам.Контрагент
	|	КОГДА ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.КомиссионныйТовар)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.МатериалДавальца)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ПродукцияДавальца)
	|		ИЛИ ВидыЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.ТоварНаХраненииСПравомПродажи)
	|	ТОГДА
	|		ВидыЗапасов.Контрагент
	|	КОГДА Движения.РазделУчета В (ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыНаХраненииСПравомПродажиПереданныеПартнерам),
	|									ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыПереданныеПартнерам))
	|	ТОГДА 
	|		ЕСТЬNULL(Аналитика.Контрагент, НЕОПРЕДЕЛЕНО)
	|	ИНАЧЕ
	|		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	|	КОНЕЦ,
	|
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Движения.Партия) = ТИП(Справочник.ПартииПроизводства)
	|			ТОГДА ВЫРАЗИТЬ(Движения.Партия КАК Справочник.ПартииПроизводства).НаправлениеДеятельности
	|		ИНАЧЕ ЕСТЬNULL(Назначения.НаправлениеДеятельности, ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка))
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Движения.КорПартия) = ТИП(Справочник.ПартииПроизводства)
	|			ТОГДА ВЫРАЗИТЬ(Движения.КорПартия КАК Справочник.ПартииПроизводства).НаправлениеДеятельности
	|		ИНАЧЕ ЕСТЬNULL(КорНазначения.НаправлениеДеятельности, Движения.КорНаправлениеДеятельности)
	|	КОНЕЦ,
	|
	|	Движения.АналитикаРасходов,
	|	Движения.РазделУчета,
	|	Движения.КорРазделУчета,
	|	Движения.Подразделение,
	|	Движения.СтатьяРасходовСписания,
	|	Движения.АналитикаДоходов,
	|	Движения.СтатьяДоходов,
	|	Движения.АналитикаАктивовПассивов,
	|	Движения.СтатьяАктивовПассивов,
	|	Движения.ХозяйственнаяОперация,
	|	ВЫБОР
	|		КОГДА Движения.ИдентификаторСтроки = ""ВО"" ТОГДА """"
	|		ИНАЧЕ Движения.ИдентификаторСтроки КОНЕЦ,
	|	Движения.ПериодПродажи,
	|	ВЫБОР
	|		КОГДА &ПартионныйУчетВерсии22 И Движения.Период >= НАЧАЛОПЕРИОДА(&ДатаПереходаНаПартионныйУчетВерсии22, МЕСЯЦ)
	|			И ТИПЗНАЧЕНИЯ(Движения.АналитикаФинансовогоУчета) = ТИП(Справочник.ГруппыАналитическогоУчетаНоменклатуры)
	|			ТОГДА Движения.АналитикаФинансовогоУчета
	|		КОГДА НЕ &АналитическийУчетПоГруппамПродукции
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		КОГДА НЕ Движения.ГруппаПродукции = ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		 И НЕ ТИПЗНАЧЕНИЯ(Движения.Регистратор) В (&ТипыДокументовПроизводства22)
	|		 И НЕ Движения.ХозяйственнаяОперация В (
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзКладовой),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзКладовой))
	|			ТОГДА Движения.ГруппаПродукции
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА &ПартионныйУчетВерсии22 И Движения.Период >= НАЧАЛОПЕРИОДА(&ДатаПереходаНаПартионныйУчетВерсии22, МЕСЯЦ)
	|			И ТИПЗНАЧЕНИЯ(Движения.КорАналитикаФинансовогоУчета) = ТИП(Справочник.ГруппыАналитическогоУчетаНоменклатуры)
	|			ТОГДА Движения.КорАналитикаФинансовогоУчета
	|		КОГДА НЕ &АналитическийУчетПоГруппамПродукции
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		КОГДА НЕ Движения.ГруппаПродукции = ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|		 И НЕ ТИПЗНАЧЕНИЯ(Движения.Регистратор) В (&ТипыДокументовПроизводства22)
	|		 И НЕ Движения.ХозяйственнаяОперация В (
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзКладовой),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПередачаПродукцииИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзПроизводства),
	|				ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратМатериаловИзКладовой))
	|			ТОГДА Движения.ГруппаПродукции
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка)
	|	КОНЕЦ
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка,
	|	Номенклатура,
	|	Склад,
	|	ГруппаФинансовогоУчета,
	|	ТипЗапасов,
	|	Контрагент
	|;
	|/////////////////////////////////////////////////////////////////////////////
	|";
#КонецОбласти
	
	ТипыДокументовПроизводства22 = Новый Массив;
	ТипыДокументовПроизводства22.Добавить("ТИП(Документ.ДвижениеПродукцииИМатериалов)");
	ТипыДокументовПроизводства22.Добавить("ТИП(Документ.ПроизводствоБезЗаказа)");
	ТекстСебестоимость = СтрЗаменить(ТекстСебестоимость, "&ТипыДокументовПроизводства22", СтрСоединить(ТипыДокументовПроизводства22, ","));
	
	Возврат ТекстСебестоимость;
	
КонецФункции

Функция ТекстПартии() Экспорт
	Возврат	"
		|ВЫБРАТЬ
		|	Партии.Регистратор КАК Ссылка,
		|	Партии.Период КАК Период,
		|	Партии.Организация КАК Организация,
		|	Партии.НДСРегл КАК НДСРегл,
		|	0 КАК НДСУпр,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары) КАК ВидЦенности,
		|	Партии.АналитикаУчетаНоменклатуры КАК АналитикаУчетаНоменклатуры,
		|	Партии.КорАналитикаУчетаНоменклатуры КАК КорАналитикаУчетаНоменклатуры,
		|	Партии.ДокументПоступления КАК ДокументПоступления,
		|	Партии.АналитикаУчетаПартий КАК АналитикаУчетаПартий,
		|	ВЫБОР 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.АналитикаУчетаПартий.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеПартии,
		|	Партии.ВидЗапасов КАК ВидЗапасов,
		|	Партии.КорВидЗапасов КАК КорВидЗапасов,
		|	Партии.КорВидЗапасов.ГруппаПродукции КАК ГруппаПродукции,
		|	Партии.КорВидЗапасов.ГруппаПродукции КАК КорГруппаПродукции,
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|		 И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаВозможностиВычетаПриОказанииУслугНеВРФ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеНДС,
		|	Партии.СтатьяРасходовСписания КАК СтатьяРасходов,
		|	Партии.АналитикаРасходов КАК АналитикаРасходов,
		|	Партии.АналитикаАктивовПассивов КАК АналитикаАктивовПассивов,
		|	НЕОПРЕДЕЛЕНО КАК ДокументРеализации,
		|	Партии.СтатьяСписанияНДС КАК СтатьяСписанияНДС,
		|	Партии.АналитикаСписанияНДС КАК АналитикаСписанияНДС,
		|	NULL КАК ПодразделениеРасходов,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК НаправлениеДеятельности,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК КорНаправлениеДеятельности,
		|	NULL КАК ИдентификаторСтроки,
		|	ЛОЖЬ КАК ЭтоРабота
		|	
		|ПОМЕСТИТЬ Партии_Предварительная
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.ПартииТоваровОрганизаций КАК Партии
		|	ПО
		|		Партии.Регистратор = ДокументыКОтражению.Ссылка
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = Партии.Организация
		|		И ДанныеПервичныхДокументов.Документ = Партии.ДокументПоступления
		|ГДЕ
		|	Партии.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|	И Партии.НДСРегл <> 0
		|	И Партии.ВидЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.Товар)
		|	И Партии.Активность
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	Партии.Регистратор КАК Ссылка,
		|	Партии.Период КАК Период,
		|	Партии.Организация КАК Организация,
		|	Партии.НДСРегл КАК НДСРегл,
		|	0 КАК НДСУпр,
		|	ВЫБОР КОГДА Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры В (
		|					ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар),
		|						ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара))
		|		ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары) 
		|			ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПрочиеРаботыИУслуги) 
		|	КОНЕЦ КАК ВидЦенности,
		|	Партии.АналитикаУчетаПродукции КАК АналитикаУчетаНоменклатуры,
		|	Партии.КорАналитикаУчетаПродукции КАК КорАналитикаУчетаНоменклатуры,
		|	Партии.ДокументПоступления КАК ДокументПоступления,
		|	Партии.АналитикаУчетаПартий КАК АналитикаУчетаПартий,
		|	ВЫБОР 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.АналитикаУчетаПартий.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеПартии,
		|	Партии.КорВидЗапасов КАК ВидЗапасов,
		|	Партии.КорВидЗапасов КАК КорВидЗапасов,
		|	Партии.КорВидЗапасов.ГруппаПродукции КАК ГруппаПродукции,
		|	Партии.КорВидЗапасов.ГруппаПродукции КАК КорГруппаПродукции,
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|		 И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаВозможностиВычетаПриОказанииУслугНеВРФ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеНДС,
		|	Партии.СтатьяРасходовСписания КАК СтатьяРасходов,
		|	Партии.АналитикаРасходов КАК АналитикаРасходов,
		|	Партии.АналитикаАктивовПассивов КАК АналитикаАктивовПассивов,
		|	НЕОПРЕДЕЛЕНО КАК ДокументРеализации,
		|	Партии.СтатьяСписанияНДС КАК СтатьяСписанияНДС,
		|	Партии.АналитикаСписанияНДС КАК АналитикаСписанияНДС,
		|	NULL КАК ПодразделениеРасходов,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК НаправлениеДеятельности,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК КорНаправлениеДеятельности,
		|	Партии.ИдентификаторСтроки КАК ИдентификаторСтроки,
		|	(ВЫБОР
		|		КОГДА Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ КОНЕЦ) КАК ЭтоРабота
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.ПартииЗатратНаВыпуск КАК Партии
		|	ПО
		|		Партии.Регистратор = ДокументыКОтражению.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = Партии.Организация
		|		И ДанныеПервичныхДокументов.Документ = Партии.ДокументПоступления
		|ГДЕ
		|	Партии.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|	И Партии.НДСРегл <> 0
		|	И Партии.Активность
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	Партии.Регистратор КАК Ссылка,
		|	Партии.Период КАК Период,
		|	Партии.Организация КАК Организация,
		|	Партии.НДСРегл КАК НДСРегл,
		|	0 КАК НДСУпр,
		|	ВЫБОР 
		|		КОГДА НЕ СтатьиРасходов.Ссылка ЕСТЬ NULL 
		|			ТОГДА СтатьиРасходов.ВидЦенностиНДС
		|		КОГДА Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры В (
		|					ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар),
		|						ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара))
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары)
		|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПрочиеРаботыИУслуги)
		|	КОНЕЦ КАК ВидЦенности,
		|	Партии.АналитикаУчетаНоменклатуры КАК АналитикаУчетаНоменклатуры,
		|	Партии.КорАналитикаУчетаНоменклатуры КАК КорАналитикаУчетаНоменклатуры,
		|	Партии.ДокументПоступленияРасходов КАК ДокументПоступления,
		|	Партии.АналитикаУчетаПартий КАК АналитикаУчетаПартий,
		|	ВЫБОР 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.АналитикаУчетаПартий.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеПартии,
		|	Партии.ВидЗапасов КАК ВидЗапасов,
		|	Партии.ВидЗапасов КАК КорВидЗапасов,
		|	Партии.ВидЗапасов.ГруппаПродукции КАК ГруппаПродукции,
		|	Партии.ВидЗапасов.ГруппаПродукции КАК КорГруппаПродукции,
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|		 И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаВозможностиВычетаПриОказанииУслугНеВРФ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеНДС,
		|	Партии.СтатьяРасходовСписания КАК СтатьяРасходов,
		|	Партии.АналитикаРасходов КАК АналитикаРасходов,
		|	Партии.АналитикаАктивовПассивов КАК АналитикаАктивовПассивов,
		|	НЕОПРЕДЕЛЕНО КАК ДокументРеализации,
		|	Партии.СтатьяСписанияНДС КАК СтатьяСписанияНДС,
		|	Партии.АналитикаСписанияНДС КАК АналитикаСписанияНДС,
		|	NULL КАК ПодразделениеРасходов,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК НаправлениеДеятельности,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК КорНаправлениеДеятельности,
		|	NULL КАК ИдентификаторСтроки,
		|	ЛОЖЬ КАК ЭтоРабота
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.ПартииРасходовНаСебестоимостьТоваров КАК Партии
		|	ПО
		|		Партии.Регистратор = ДокументыКОтражению.Ссылка
		|		
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ПланВидовХарактеристик.СтатьиРасходов КАК СтатьиРасходов
		|	ПО 
		|		Партии.СтатьяРасходов = СтатьиРасходов.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = Партии.Организация
		|		И ДанныеПервичныхДокументов.Документ = Партии.ДокументПоступленияРасходов
		|ГДЕ
		|	Партии.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|	И Партии.НДСРегл <> 0
		|	И Партии.Активность
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	Партии.Регистратор КАК Ссылка,
		|	Партии.Период КАК Период,
		|	Партии.Организация КАК Организация,
		|	Партии.НДСРегл КАК НДСРегл,
		|	Партии.НДСУпр КАК НДСУпр,
		|	ВЫБОР 
		|		КОГДА Партии.АналитикаУчетаПартий.ВидЦенности <> ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПустаяСсылка)
		|			ТОГДА Партии.АналитикаУчетаПартий.ВидЦенности        // Версия ПартионногоУчета 2.2
		|		КОГДА НЕ Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры ЕСТЬ NULL ТОГДА
		|			ВЫБОР 
		|				КОГДА Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры В (
		|							ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар),
		|							ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара))
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары)
		|				ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПрочиеРаботыИУслуги)
		|			КОНЕЦ
		|		КОГДА НЕ СтатьиРасходов.Ссылка ЕСТЬ NULL
		|			ТОГДА СтатьиРасходов.ВидЦенностиНДС
		//++ НЕ УТ
		|		КОГДА Партии.СтатьяРасходов ССЫЛКА ПланВидовХарактеристик.СтатьиАктивовПассивов
		|			  И Партии.АналитикаАктивовПассивов ССЫЛКА Справочник.ОбъектыЭксплуатации
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ОС)
		|		КОГДА Партии.СтатьяРасходов ССЫЛКА ПланВидовХарактеристик.СтатьиАктивовПассивов
		|			  И Партии.АналитикаАктивовПассивов ССЫЛКА Справочник.НематериальныеАктивы
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НМА)
		//-- НЕ УТ
		|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПрочиеРаботыИУслуги)
		|	КОНЕЦ КАК ВидЦенности,
		|	Партии.АналитикаУчетаНоменклатуры КАК АналитикаУчетаНоменклатуры,
		|	NULL КАК КорАналитикаУчетаНоменклатуры,
		|	Партии.ДокументПоступленияРасходов КАК ДокументПоступления,
		|	Партии.АналитикаУчетаПартий КАК АналитикаУчетаПартий,
		|	ВЫБОР
		|		КОГДА Партии.ВидДеятельностиНДС <> ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)
		|			ТОГДА
		|				ВЫБОР 
		|					КОГДА Партии.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|							И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|						ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|					КОГДА Партии.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|						ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|					ИНАЧЕ
		|						Партии.ВидДеятельностиНДС 
		|				КОНЕЦ
		|			ИНАЧЕ
		|				ВЫБОР 
		|					КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|							И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|						ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|					КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|						ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|					ИНАЧЕ
		|						Партии.АналитикаУчетаПартий.НалогообложениеНДС 
		|				КОНЕЦ            
		|	КОНЕЦ КАК НалогообложениеПартии,
		|	NULL КАК ВидЗапасов,
		|	NULL КАК КорВидЗапасов,
		|	NULL КАК ГруппаПродукции,
		|	NULL КАК КорГруппаПродукции,
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|		 И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаВозможностиВычетаПриОказанииУслугНеВРФ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеНДС,
		|	(ВЫБОР КОГДА Партии.СтатьяОтраженияРасходов = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)
		|		ТОГДА Партии.СтатьяРасходов
		|		ИНАЧЕ Партии.СтатьяОтраженияРасходов 
		|	КОНЕЦ) КАК СтатьяРасходов,
		|	(ВЫБОР КОГДА Партии.СтатьяОтраженияРасходов = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)
		|		ТОГДА Партии.АналитикаРасходов
		|		ИНАЧЕ Партии.АналитикаОтраженияРасходов 
		|	КОНЕЦ) КАК АналитикаРасходов,
		|	Партии.АналитикаАктивовПассивов КАК АналитикаАктивовПассивов,
		|	Партии.ДокументРеализации КАК ДокументРеализации,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка) КАК СтатьяСписанияНДС,
		|	НЕОПРЕДЕЛЕНО КАК АналитикаСписанияНДС,
		|	Партии.Подразделение КАК ПодразделениеРасходов,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК НаправлениеДеятельности,
		|	Партии.НаправлениеДеятельности КАК КорНаправлениеДеятельности,
		|	NULL КАК ИдентификаторСтроки,
		|	ЛОЖЬ КАК ЭтоРабота
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.ПартииПрочихРасходов КАК Партии
		|	ПО
		|		Партии.Регистратор = ДокументыКОтражению.Ссылка
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		ПланВидовХарактеристик.СтатьиРасходов КАК СтатьиРасходов
		|	ПО 
		|		Партии.СтатьяРасходов = СтатьиРасходов.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = Партии.Организация
		|		И ДанныеПервичныхДокументов.Документ = Партии.ДокументПоступленияРасходов
		|	
		|	ГДЕ
		|		Партии.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|		И Партии.НДСРегл <> 0
		|		И Партии.Активность
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	Партии.Регистратор КАК Ссылка,
		|	Партии.Период,
		|	Партии.Организация,
		|	Партии.НДСРегл,
		|	0 КАК НДСУпр,
		|	ВЫБОР КОГДА Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры В (
		|						ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар),
		|						ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара))
		|		ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары) 
		|			ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПрочиеРаботыИУслуги) 
		|	КОНЕЦ КАК ВидЦенности,
		|	Партии.АналитикаУчетаНоменклатуры,
		|	Партии.КорАналитикаУчетаНоменклатуры,
		|	Партии.ДокументПоступления,
		|	Партии.АналитикаУчетаПартий,
		|	ВЫБОР 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.АналитикаУчетаПартий.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеПартии,
		|	Партии.ВидЗапасов,
		|	Партии.ВидЗапасов КАК КорВидЗапасов,
		|	Партии.ВидЗапасов.ГруппаПродукции КАК ГруппаПродукции,
		|	Партии.ВидЗапасов.ГруппаПродукции КАК КорГруппаПродукции,
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|		 И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаВозможностиВычетаПриОказанииУслугНеВРФ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеНДС,
		|	Партии.СтатьяРасходовСписания КАК СтатьяРасходов,
		|	Партии.АналитикаРасходов,
		|	НЕОПРЕДЕЛЕНО КАК АналитикаАктивовПассивов,
		|	НЕОПРЕДЕЛЕНО КАК ДокументРеализации,
		|	Партии.СтатьяСписанияНДС КАК СтатьяСписанияНДС,
		|	Партии.АналитикаСписанияНДС КАК АналитикаСписанияНДС,
		|	NULL КАК ПодразделениеРасходов,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК НаправлениеДеятельности,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК КорНаправлениеДеятельности,
		|	Партии.ИдентификаторСтроки КАК ИдентификаторСтроки,
		|	(ВЫБОР
		|		КОГДА Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ КОНЕЦ) КАК ЭтоРабота
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.ПартииПроизводственныхЗатрат КАК Партии
		|	ПО
		|		Партии.Регистратор = ДокументыКОтражению.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = Партии.Организация
		|		И ДанныеПервичныхДокументов.Документ = Партии.ДокументПоступления
		|ГДЕ
		|	Партии.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|	И Партии.НДСРегл <> 0
		|	И Партии.Активность
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	Партии.Регистратор КАК Ссылка,
		|	Партии.Период,
		|	Партии.Организация,
		|	Партии.НДСРегл,
		|	0 КАК НДСУпр,
		|	ВЫБОР КОГДА Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры В (
		|						ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар),
		|						ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара))
		|		ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары) 
		|			ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПрочиеРаботыИУслуги) 
		|	КОНЕЦ КАК ВидЦенности,
		|	Партии.АналитикаУчетаНоменклатуры,
		|	Партии.КорАналитикаУчетаНоменклатуры,
		|	Партии.ДокументПоступления,
		|	Партии.АналитикаУчетаПартий,
		|	ВЫБОР 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.АналитикаУчетаПартий.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеПартии,
		|	Партии.ВидЗапасов,
		|	Партии.ВидЗапасов КАК КорВидЗапасов,
		|	Партии.ВидЗапасов.ГруппаПродукции КАК ГруппаПродукции,
		|	Партии.ВидЗапасов.ГруппаПродукции КАК КорГруппаПродукции,
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|		 И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаВозможностиВычетаПриОказанииУслугНеВРФ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.НалогообложениеНДС 
		|	КОНЕЦ КАК НалогообложениеНДС,
		|	НЕОПРЕДЕЛЕНО КАК СтатьяРасходов,
		|	НЕОПРЕДЕЛЕНО КАК АналитикаРасходов,
		|	НЕОПРЕДЕЛЕНО КАК АналитикаАктивовПассивов,
		|	НЕОПРЕДЕЛЕНО КАК ДокументРеализации,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка) КАК СтатьяСписанияНДС,
		|	НЕОПРЕДЕЛЕНО КАК АналитикаСписанияНДС,
		|	NULL КАК ПодразделениеРасходов,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.АналитикаУчетаПартий.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК НаправлениеДеятельности,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.НалогообложениеНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК КорНаправлениеДеятельности,
		|	NULL КАК ИдентификаторСтроки,
		|	(ВЫБОР
		|		КОГДА Партии.ВидЗапасов.ТипЗапасов = ЗНАЧЕНИЕ(Перечисление.ТипыЗапасов.Услуга) ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ КОНЕЦ) КАК ЭтоРабота
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.ПартииТоваровПереданныеНаКомиссию КАК Партии
		|	ПО
		|		Партии.Регистратор = ДокументыКОтражению.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = Партии.Организация
		|		И ДанныеПервичныхДокументов.Документ = Партии.ДокументПоступления
		|ГДЕ
		|	Партии.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|	И Партии.НДСРегл <> 0
		|	И Партии.Активность
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	Партии.Регистратор КАК Ссылка,
		|	Партии.Период,
		|	Партии.Организация,
		|	Партии.НДС КАК НДСРегл,
		|	Партии.НДСУпр КАК НДСУпр,
		|	ЕСТЬNULL(Партии.АналитикаУчетаПартий.ВидЦенности, ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары)) КАК ВидЦенности,
		|	Партии.АналитикаУчетаНоменклатуры,
		|	Партии.КорАналитикаУчетаНоменклатуры,
		|	Партии.ДокументПоступления,
		|	Партии.АналитикаУчетаПартий,
		|	ВЫБОР 
		|		КОГДА Партии.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.ВидДеятельностиНДС 
		|	КОНЕЦ КАК НалогообложениеПартии,
		|	Партии.ВидЗапасов,
		|	Партии.КорВидЗапасов КАК КорВидЗапасов,
		|	ВЫРАЗИТЬ(Партии.АналитикаФинансовогоУчета КАК Справочник.ГруппыАналитическогоУчетаНоменклатуры) КАК ГруппаПродукции,
		|	ВЫРАЗИТЬ(Партии.КорАналитикаФинансовогоУчета КАК Справочник.ГруппыАналитическогоУчетаНоменклатуры) КАК КорГруппаПродукции,
		|	ВЫБОР 
		|		КОГДА Партии.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		КОГДА Партии.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|		 И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаВозможностиВычетаПриОказанииУслугНеВРФ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|		КОГДА Партии.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.КорВидДеятельностиНДС 
		|	КОНЕЦ КАК НалогообложениеНДС,
		|	Партии.СтатьяРасходовАктивов КАК СтатьяРасходов,
		|	Партии.АналитикаРасходов,
		|	Партии.АналитикаАктивов КАК АналитикаАктивовПассивов,
		|	(ВЫБОР
		|		КОГДА Партии.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.ВозвратПрошлыхПериодов)
		|			ТОГДА Партии.ДокументИсточник
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ) КАК ДокументРеализации,
		|	Партии.СтатьяСписанияНДС КАК СтатьяСписанияНДС,
		|	Партии.АналитикаСписанияНДС КАК АналитикаСписанияНДС,
		|	(ВЫБОР
		|		КОГДА Партии.ТипЗаписи В (
		|				ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.РаспределениеПоВыбывшимТоварам),
		|				ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.КорректировкаПриобретенияПрошлогоПериода))
		|			ТОГДА Партии.Подразделение
		|		ИНАЧЕ NULL КОНЕЦ) КАК ПодразделениеРасходов,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.ВидДеятельностиНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.АналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК НаправлениеДеятельности,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		КОГДА Партии.КорВидДеятельностиНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.КорАналитикаУчетаНоменклатуры.Назначение.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК КорНаправлениеДеятельности,
		|	NULL КАК ИдентификаторСтроки,
		|	(ВЫБОР
		|		КОГДА Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ КОНЕЦ) КАК ЭтоРабота
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.ДетализацияПартийТоваровДляНДСиУСН КАК Партии
		|	ПО
		|		Партии.Регистратор = ДокументыКОтражению.Ссылка
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = Партии.Организация
		|		И ДанныеПервичныхДокументов.Документ = Партии.ДокументПоступления
		|ГДЕ
		|	(Партии.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|		ИЛИ Партии.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.ВозвратПрошлыхПериодов))
		|	И Партии.НДС <> 0
		|	И Партии.Активность
		|	
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	Партии.Регистратор КАК Ссылка,
		|	Партии.Период,
		|	Партии.Организация,
		|	Партии.НДС КАК НДСРегл,
		|	Партии.НДСУпр КАК НДСУпр,
		|	ЕСТЬNULL(Партии.АналитикаУчетаДокументаПоступления.ВидЦенности, ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары)) КАК ВидЦенности,
		|	Партии.КорАналитикаУчетаНоменклатуры,
		|	Партии.КорАналитикаУчетаНоменклатуры,
		|	Партии.ДокументПоступления,
		|	Партии.АналитикаУчетаДокументаПоступления,
		|	ВЫБОР 
		|		КОГДА Партии.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.ВидДеятельностиНДС 
		|	КОНЕЦ КАК НалогообложениеПартии,
		|	Партии.КорВидЗапасов КАК ВидЗапасов,
		|	Партии.КорВидЗапасов КАК КорВидЗапасов,
		|	НЕОПРЕДЕЛЕНО,
		|	НЕОПРЕДЕЛЕНО,
		|	ВЫБОР 
		|		КОГДА Партии.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт) 
		|		КОГДА Партии.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		КОГДА Партии.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|		 И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаВозможностиВычетаПриОказанииУслугНеВРФ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|		КОГДА Партии.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.РеализацияРаботУслугНаЭкспорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|		ИНАЧЕ
		|			Партии.КорВидДеятельностиНДС 
		|	КОНЕЦ КАК НалогообложениеНДС,
		|	Партии.СтатьяРасходовАктивов КАК СтатьяРасходов,
		|	Партии.АналитикаРасходов,
		|	Партии.АналитикаАктивов КАК АналитикаАктивовПассивов,
		|	(ВЫБОР
		|		КОГДА Партии.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.ВозвратПрошлыхПериодов)
		|			ТОГДА Партии.ДокументИсточник
		|		ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ) КАК ДокументРеализации,
		|	Партии.СтатьяСписанияНДС КАК СтатьяСписанияНДС,
		|	Партии.АналитикаСписанияНДС КАК АналитикаСписанияНДС,
		|	(ВЫБОР
		|		КОГДА Партии.ТипЗаписи В (
		|				ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.РаспределениеПоВыбывшимТоварам),
		|				ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.КорректировкаПриобретенияПрошлогоПериода))
		|			ТОГДА Партии.Подразделение
		|		ИНАЧЕ NULL КОНЕЦ) КАК ПодразделениеРасходов,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.НаправлениеДеятельности
		|		КОГДА Партии.ВидДеятельностиНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.НаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК НаправлениеДеятельности,
		|	ВЫБОР 
		|		КОГДА ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) >= &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
		|			ТОГДА Партии.КорНаправлениеДеятельности
		|		КОГДА Партии.КорВидДеятельностиНДС В (&ТипыНеОблагаемыеНДС)
		|			ТОГДА Партии.КорНаправлениеДеятельности
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
		|	КОНЕЦ КАК КорНаправлениеДеятельности,
		|	NULL КАК ИдентификаторСтроки,
		|	ЛОЖЬ КАК ЭтоРабота
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.ДетализацияПартийТоваровДляНДСиУСН2_4 КАК Партии
		|	ПО
		|		Партии.Регистратор = ДокументыКОтражению.Ссылка
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = Партии.Организация
		|		И ДанныеПервичныхДокументов.Документ = Партии.ДокументПоступления
		|ГДЕ
		|	(Партии.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|		ИЛИ Партии.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.ВозвратПрошлыхПериодов))
		|	И Партии.НДС <> 0
		|	И Партии.Активность
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	АналитикаУчетаПартий
		|;
		|
		|/////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	Партии.Ссылка КАК Ссылка,
		|	Партии.Период КАК Период,
		|	Партии.Организация КАК Организация,
		|	СУММА(Партии.НДСРегл) КАК НДСРегл,
		|	СУММА(Партии.НДСУпр) КАК НДСУпр,
		|	Партии.АналитикаУчетаНоменклатуры.Номенклатура КАК Номенклатура,
		|	Партии.АналитикаУчетаНоменклатуры.Характеристика КАК Характеристика,
		|	Партии.АналитикаУчетаНоменклатуры.Серия КАК Серия,
		|
		|	Партии.КорАналитикаУчетаНоменклатуры.Номенклатура КАК КорНоменклатура,
		|
		|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
		|	 И НЕ Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА
		|		ЕСТЬNULL(ВидЗапасов.ГруппаФинансовогоУчета, ЕСТЬNULL(Партии.АналитикаУчетаПартий.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)))
		|	ИНАЧЕ
		|		Партии.АналитикаУчетаНоменклатуры.Номенклатура.ГруппаФинансовогоУчета
		|	КОНЕЦ КАК ГруппаФинансовогоУчета,
		|
		|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
		|	 И НЕ Партии.КорАналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА
		|		КорВидЗапасов.ГруппаФинансовогоУчета
		|	ИНАЧЕ
		|		Партии.КорАналитикаУчетаНоменклатуры.Номенклатура.ГруппаФинансовогоУчета
		|	КОНЕЦ КАК КорГруппаФинансовогоУчета,
		|	
		|	ВЫБОР ТИПЗНАЧЕНИЯ(Партии.ДокументПоступления)
		|		КОГДА ТИП(Документ.СчетФактураПолученныйНалоговыйАгент)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ТоварыНалоговыйАгент)
		|		КОГДА ТИП(Документ.СчетФактураНалоговыйАгент) ТОГДА
		|			ВЫБОР 
		|				КОГДА ВЫРАЗИТЬ(Партии.ДокументПоступления КАК Документ.СчетФактураНалоговыйАгент).ВидАгентскогоДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыАгентскихДоговоров.Аренда)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НалоговыйАгентАренда)
		|				КОГДА ВЫРАЗИТЬ(Партии.ДокументПоступления КАК Документ.СчетФактураНалоговыйАгент).ВидАгентскогоДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыАгентскихДоговоров.РеализацияИмущества)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НалоговыйАгентРеализацияИмущества)
		|				КОГДА ВЫРАЗИТЬ(Партии.ДокументПоступления КАК Документ.СчетФактураНалоговыйАгент).ВидАгентскогоДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыАгентскихДоговоров.НерезидентЭлектронныеУслуги)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НалоговыйАгентЭлектронныеУслуги)
		|				КОГДА ВЫРАЗИТЬ(Партии.ДокументПоступления КАК Документ.СчетФактураНалоговыйАгент).ВидАгентскогоДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыАгентскихДоговоров.Нерезидент)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НалоговыйАгентИностранцы)
		|			КОНЕЦ
		|		КОГДА ТИП(Документ.ТаможеннаяДекларацияИмпорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ТаможенныеПлатежи)
		|		КОГДА ТИП(Документ.ЗаявлениеОВвозеТоваров) 
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ТаможенныйСоюз)
		|		ИНАЧЕ Партии.ВидЦенности 
		|	КОНЕЦ КАК ВидЦенности,
		|	
		|	Партии.НаправлениеДеятельности    КАК НаправлениеДеятельности,
		|	Партии.КорНаправлениеДеятельности КАК КорНаправлениеДеятельности,
		|
		|	ЕСТЬNULL(Партии.АналитикаУчетаНоменклатуры.СкладскаяТерритория,
		|		ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)) КАК Склад,
		|	ЕСТЬNULL(Партии.КорАналитикаУчетаНоменклатуры.СкладскаяТерритория,
		|		ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)) КАК КорСклад,
		|
		|	Партии.АналитикаУчетаНоменклатуры.СкладскаяТерритория.Подразделение КАК Подразделение,
		|	Партии.ДокументПоступления КАК ДокументПоступления,
		|	Партии.АналитикаУчетаПартий.Контрагент КАК Контрагент,
		|	Партии.ГруппаПродукции КАК ГруппаПродукции,
		|	Партии.КорГруппаПродукции КАК КорГруппаПродукции,
		|	
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС) 
		|				И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС 
		|			ТОГДА Партии.НалогообложениеПартии
		|		КОГДА Партии.НалогообложениеПартии = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|				И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС 
		|			ТОГДА ВЫБОР КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ОблагаетсяНДСУПокупателя)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|				ИНАЧЕ Партии.НалогообложениеНДС
		|				КОНЕЦ
		|		ИНАЧЕ Партии.НалогообложениеПартии
		|	КОНЕЦ КАК ВидДеятельностиНДС,
		|	
		|	Партии.НалогообложениеНДС КАК НалогообложениеПартии,
		|	Партии.ДокументРеализации КАК ДокументРеализации,
		|	ВЫБОР 
		|		КОГДА Партии.СтатьяРасходов = НЕОПРЕДЕЛЕНО
		|			ТОГДА ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)
		|		ИНАЧЕ Партии.СтатьяРасходов
		|	КОНЕЦ КАК СтатьяРасходов,
		|	Партии.АналитикаРасходов КАК АналитикаРасходов,
		|	Партии.АналитикаАктивовПассивов КАК АналитикаАктивовПассивов,
		|	Партии.ПодразделениеРасходов КАК ПодразделениеРасходов,
		|	Партии.ИдентификаторСтроки КАК ИдентификаторСтроки,
		|
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС) 
		|				И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС
		|				И Партии.НалогообложениеНДС <> ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)  
		|				И Партии.СтатьяСписанияНДС = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)  
		|			ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ
		|	КОНЕЦ КАК ВключениеНДСВСтоимость,
		|
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеПартии = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|				И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС 
		|				И Партии.НалогообложениеНДС <> ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)
		|			ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ
		|	КОНЕЦ КАК ИсключениеНДСИзСтоимости
		|
		|ПОМЕСТИТЬ Партии
		|ИЗ 
		|	Партии_Предварительная КАК Партии
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК СтатьиРасходов
		|		ПО Партии.СтатьяРасходов = СтатьиРасходов.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыЗапасов КАК ВидыЗапасов
		|	ПО Партии.ВидЗапасов = ВидыЗапасов.Ссылка
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыЗапасов КАК КорВидыЗапасов
		|	ПО Партии.КорВидЗапасов = КорВидыЗапасов.Ссылка
		|	
		|ГДЕ
		|	НЕ Партии.НалогообложениеПартии ЕСТЬ NULL
		|	И (ВЫБОР 
		|			КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС) 
		|					И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС
		|					И Партии.НалогообложениеНДС <> ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)
		|					И Партии.СтатьяСписанияНДС = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)
		|				ТОГДА ИСТИНА
		|			ИНАЧЕ ЛОЖЬ
		|		КОНЕЦ 
		|		ИЛИ 
		|		ВЫБОР 
		|			КОГДА Партии.НалогообложениеПартии = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|					И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС 
		|					И Партии.НалогообложениеНДС <> ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)
		|				ТОГДА ИСТИНА
		|			ИНАЧЕ ЛОЖЬ
		|		КОНЕЦ)
		|
		|СГРУППИРОВАТЬ ПО
		|	Партии.Ссылка,
		|	Партии.Период,
		|	Партии.Организация,
		|	Партии.АналитикаУчетаНоменклатуры.Номенклатура,
		|	Партии.АналитикаУчетаНоменклатуры.Характеристика,
		|	Партии.АналитикаУчетаНоменклатуры.Серия,
		|	Партии.КорАналитикаУчетаНоменклатуры.Номенклатура,
		|	
		|	ВЫБОР ТИПЗНАЧЕНИЯ(Партии.ДокументПоступления)
		|		КОГДА ТИП(Документ.СчетФактураПолученныйНалоговыйАгент)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ТоварыНалоговыйАгент)
		|		КОГДА ТИП(Документ.СчетФактураНалоговыйАгент) ТОГДА
		|			ВЫБОР 
		|				КОГДА ВЫРАЗИТЬ(Партии.ДокументПоступления КАК Документ.СчетФактураНалоговыйАгент).ВидАгентскогоДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыАгентскихДоговоров.Аренда)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НалоговыйАгентАренда)
		|				КОГДА ВЫРАЗИТЬ(Партии.ДокументПоступления КАК Документ.СчетФактураНалоговыйАгент).ВидАгентскогоДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыАгентскихДоговоров.РеализацияИмущества)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НалоговыйАгентРеализацияИмущества)
		|				КОГДА ВЫРАЗИТЬ(Партии.ДокументПоступления КАК Документ.СчетФактураНалоговыйАгент).ВидАгентскогоДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыАгентскихДоговоров.НерезидентЭлектронныеУслуги)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НалоговыйАгентЭлектронныеУслуги)
		|				КОГДА ВЫРАЗИТЬ(Партии.ДокументПоступления КАК Документ.СчетФактураНалоговыйАгент).ВидАгентскогоДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыАгентскихДоговоров.Нерезидент)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.НалоговыйАгентИностранцы)
		|			КОНЕЦ
		|		КОГДА ТИП(Документ.ТаможеннаяДекларацияИмпорт)
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ТаможенныеПлатежи)
		|		КОГДА ТИП(Документ.ЗаявлениеОВвозеТоваров) 
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ТаможенныйСоюз)
		|		ИНАЧЕ Партии.ВидЦенности 
		|	КОНЕЦ,
		|	
		|	ВЫБОР 
		|		КОГДА Партии.КорАналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры В (ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар),
		|												    ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара))
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары)
		|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПрочиеРаботыИУслуги)
		|	КОНЕЦ,
		|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
		|	 И НЕ Партии.АналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА
		|		ЕСТЬNULL(ВидЗапасов.ГруппаФинансовогоУчета, ЕСТЬNULL(Партии.АналитикаУчетаПартий.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)))
		|	ИНАЧЕ
		|		Партии.АналитикаУчетаНоменклатуры.Номенклатура.ГруппаФинансовогоУчета
		|	КОНЕЦ,
		|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
		|	 И НЕ Партии.КорАналитикаУчетаНоменклатуры.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа) ТОГДА
		|		КорВидЗапасов.ГруппаФинансовогоУчета
		|	ИНАЧЕ
		|		Партии.КорАналитикаУчетаНоменклатуры.Номенклатура.ГруппаФинансовогоУчета
		|	КОНЕЦ,
		|	Партии.НаправлениеДеятельности,
		|	Партии.КорНаправлениеДеятельности,
		|	ЕСТЬNULL(Партии.АналитикаУчетаНоменклатуры.СкладскаяТерритория, ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)),
		|	ЕСТЬNULL(Партии.КорАналитикаУчетаНоменклатуры.СкладскаяТерритория, ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)),
		|	Партии.АналитикаУчетаНоменклатуры.СкладскаяТерритория.Подразделение,
		|	Партии.ДокументПоступления,
		|	Партии.АналитикаУчетаПартий.Контрагент,
		|	Партии.ГруппаПродукции,
		|	Партии.КорГруппаПродукции,
		|	ВЫБОР КОГДА Партии.НалогообложениеПартии = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД) ТОГДА
		|		ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|	ИНАЧЕ
		|		Партии.НалогообложениеПартии
		|	КОНЕЦ,
		|	Партии.НалогообложениеНДС,
		|	Партии.ДокументРеализации,
		|	ВЫБОР 
		|		КОГДА Партии.СтатьяРасходов = НЕОПРЕДЕЛЕНО
		|			ТОГДА ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)
		|		ИНАЧЕ Партии.СтатьяРасходов
		|	КОНЕЦ,
		|	Партии.АналитикаРасходов,
		|	Партии.АналитикаАктивовПассивов,
		|	Партии.ПодразделениеРасходов,
		|	Партии.ИдентификаторСтроки,
		|
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС) 
		|				И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС
		|				И Партии.НалогообложениеНДС <> ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)
		|				И Партии.СтатьяСписанияНДС = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)
		|			ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ
		|	КОНЕЦ, 
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеПартии = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|				И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС 
		|				И Партии.НалогообложениеНДС <> ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)
		|			ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ
		|	КОНЕЦ,
		|	
		|	ВЫБОР 
		|		КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС) 
		|				И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС 
		|			ТОГДА Партии.НалогообложениеПартии
		|		КОГДА Партии.НалогообложениеПартии = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС)
		|				И Партии.НалогообложениеПартии <> Партии.НалогообложениеНДС 
		|			ТОГДА ВЫБОР КОГДА Партии.НалогообложениеНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ОблагаетсяНДСУПокупателя)
		|					ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС)
		|				ИНАЧЕ Партии.НалогообложениеНДС
		|				КОНЕЦ
		|		ИНАЧЕ Партии.НалогообложениеПартии
		|	КОНЕЦ
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	Ссылка
		|;
		|
		|/////////////////////////////////////////////////////////////////////
		|УНИЧТОЖИТЬ Партии_Предварительная
		|;
		|";
КонецФункции

Функция ТекстКурсыВалют()
	
	Возврат "
		|ВЫБРАТЬ
		|	РазрезыКОтражению.ДатаОтражения   КАК ДатаОтражения,
		|	КурсыВалют.Валюта                 КАК Валюта,
		|	МАКСИМУМ(КурсыВалют.Период)       КАК ПериодКурса
		|ПОМЕСТИТЬ ПериодыКурсовВалют
		|ИЗ
		|	РазрезыКОтражению КАК РазрезыКОтражению
		|	
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрСведений.КурсыВалют КАК КурсыВалют
		|	ПО
		|		РазрезыКОтражению.ДатаОтражения >= КурсыВалют.Период
		|
		|СГРУППИРОВАТЬ ПО
		|	РазрезыКОтражению.ДатаОтражения,
		|	КурсыВалют.Валюта
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	Валюта,
		|	ДатаОтражения
		|;
		|
		|//////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ПериодыКурсовВалют.ДатаОтражения КАК Дата,
		|	ПериодыКурсовВалют.Валюта КАК Валюта,
		|	ВЫБОР 
		|		КОГДА КурсыВалют.Валюта ЕСТЬ NULL
		|			ТОГДА 1
		|		КОГДА КурсыВалют.Кратность = 0
		|			ТОГДА КурсыВалют.Курс
		|		ИНАЧЕ КурсыВалют.Курс/КурсыВалют.Кратность
		|	КОНЕЦ КАК Курс
		|ПОМЕСТИТЬ КурсыВалют
		|ИЗ
		|	ПериодыКурсовВалют КАК ПериодыКурсовВалют
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		РегистрСведений.КурсыВалют КАК КурсыВалют
		|	ПО
		|		ПериодыКурсовВалют.Валюта = КурсыВалют.Валюта
		|		И ПериодыКурсовВалют.ПериодКурса = КурсыВалют.Период
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	Валюта,
		|	Дата
		|;
		|
		|//////////////////////////////////////////////////
		|УНИЧТОЖИТЬ ПериодыКурсовВалют
		|;
		|";
	
КонецФункции

Функция ТекстРасчетовПоНовойАрхитектуре()
	
	ТекстыЗапроса = Новый Массив;
	
	#Область Клиенты
	ТекстЗапроса = 
	"ВЫБРАТЬ
	|	Расчеты.ДокументРегистратор КАК Ссылка,
	|	Расчеты.Период КАК Период,
	|	Аналитика.Организация КАК Организация,
	|	Аналитика.Контрагент КАК Контрагент,
	|	Аналитика.Договор КАК Договор,
	|	Аналитика.НаправлениеДеятельности КАК НаправлениеДеятельности,
	|	Расчеты.РасчетныйДокумент,
	|	
	|	Расчеты.ОбъектРасчетов КАК ОбъектРасчетов,
	|	ВЫБОР КОГДА Расчеты.ДокументРегистратор = Расчеты.ОбъектРасчетов ТОГДА NULL
	|	ИНАЧЕ ЕСТЬNULL(Расчеты.ОбъектРасчетов.Подразделение, ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)) КОНЕЦ КАК Подразделение,
	|	ВЫБОР КОГДА Расчеты.ДокументРегистратор = Расчеты.ОбъектРасчетов ТОГДА NULL
	|	ИНАЧЕ ЕСТЬNULL(Расчеты.ОбъектРасчетов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)) КОНЕЦ КАК ГруппаФинансовогоУчета,
	|	ВЫБОР КОГДА Расчеты.ДокументРегистратор = Расчеты.ОбъектРасчетов ТОГДА NULL
	|	ИНАЧЕ ЕСТЬNULL(Расчеты.ОбъектРасчетов.ГруппаФинансовогоУчетаПолучателя, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)) КОНЕЦ КАК ГруппаФинансовогоУчетаПолучателя,
	|	
	|	Расчеты.КорОбъектРасчетов КАК КорОбъектРасчетов,
	|	Расчеты.КорОбъектРасчетов.Подразделение КАК КорПодразделение,
	|	Расчеты.КорОбъектРасчетов.ГруппаФинансовогоУчета КАК КорГруппаФинансовогоУчета,
	|	Расчеты.КорОбъектРасчетов.ГруппаФинансовогоУчетаПолучателя КАК КорГруппаФинансовогоУчетаПолучателя,
	|
	|	Расчеты.Валюта,
	|	Расчеты.СтатьяДвиженияДенежныхСредств КАК СтатьяДвиженияДенежныхСредств,
	|	Расчеты.ХозяйственнаяОперация КАК ХозяйственнаяОперация,
	|	Расчеты.ВидДвижения КАК ВидДвижения,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.Предоплата КАК Предоплата,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.ПредоплатаУпр КАК ПредоплатаУпр,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.ПредоплатаРегл КАК ПредоплатаРегл,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.Долг КАК Долг,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.ДолгУпр КАК ДолгУпр,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.ДолгРегл КАК ДолгРегл,
	|	0 КАК ЗалогЗаТару,
	|	0 КАК ЗалогЗаТаруРегл
	|
	|ПОМЕСТИТЬ РасчетыСКлиентамиНоваяАрхитектура
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.РасчетыСКлиентамиПоСрокам КАК Расчеты
	|	ПО
	|		ДокументыКОтражению.Ссылка = Расчеты.ДокументРегистратор
	|		И &НоваяАрхитектураВзаиморасчетов
	|	ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.АналитикаУчетаПоПартнерам КАК Аналитика
	|	ПО (Расчеты.АналитикаУчетаПоПартнерам = Аналитика.КлючАналитики)
	|	
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка";
	ТекстыЗапроса.Добавить(ТекстЗапроса);
	#КонецОбласти
	
	#Область Поставщики
	ТекстЗапроса = 
	"ВЫБРАТЬ
	|	Расчеты.ДокументРегистратор КАК Ссылка,
	|	Расчеты.Период КАК Период,
	|	Аналитика.Организация КАК Организация,
	|	Аналитика.Контрагент КАК Контрагент,
	|	Аналитика.Договор КАК Договор,
	|	Аналитика.НаправлениеДеятельности КАК НаправлениеДеятельности,
	|	Расчеты.РасчетныйДокумент,
	|	
	|	Расчеты.ОбъектРасчетов КАК ОбъектРасчетов,
	|	ВЫБОР КОГДА Расчеты.ДокументРегистратор = Расчеты.ОбъектРасчетов ТОГДА NULL
	|	ИНАЧЕ ЕСТЬNULL(Расчеты.ОбъектРасчетов.Подразделение, ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)) КОНЕЦ КАК Подразделение,
	|	ВЫБОР КОГДА Расчеты.ДокументРегистратор = Расчеты.ОбъектРасчетов ТОГДА NULL
	|	ИНАЧЕ ЕСТЬNULL(Расчеты.ОбъектРасчетов.ГруппаФинансовогоУчета, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)) КОНЕЦ КАК ГруппаФинансовогоУчета,
	|	ВЫБОР КОГДА Расчеты.ДокументРегистратор = Расчеты.ОбъектРасчетов ТОГДА NULL
	|	ИНАЧЕ ЕСТЬNULL(Расчеты.ОбъектРасчетов.ГруппаФинансовогоУчетаПолучателя, ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)) КОНЕЦ КАК ГруппаФинансовогоУчетаПолучателя,
	|	
	|	Расчеты.КорОбъектРасчетов КАК КорОбъектРасчетов,
	|	Расчеты.КорОбъектРасчетов.Подразделение КАК КорПодразделение,
	|	Расчеты.КорОбъектРасчетов.ГруппаФинансовогоУчета КАК КорГруппаФинансовогоУчета,
	|	Расчеты.КорОбъектРасчетов.ГруппаФинансовогоУчетаПолучателя КАК КорГруппаФинансовогоУчетаПолучателя,
	|
	|	Расчеты.Валюта,
	|	Расчеты.СтатьяДвиженияДенежныхСредств КАК СтатьяДвиженияДенежныхСредств,
	|	Расчеты.ХозяйственнаяОперация КАК ХозяйственнаяОперация,
	|	Расчеты.ВидДвижения КАК ВидДвижения,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.Предоплата КАК Предоплата,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.ПредоплатаУпр КАК ПредоплатаУпр,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.ПредоплатаРегл КАК ПредоплатаРегл,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.Долг КАК Долг,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.ДолгУпр КАК ДолгУпр,
	|	ВЫБОР КОГДА Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход) ТОГДА -1 ИНАЧЕ 1 КОНЕЦ * Расчеты.ДолгРегл КАК ДолгРегл
	|
	|ПОМЕСТИТЬ РасчетыСПоставщикамиНоваяАрхитектура
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.РасчетыСПоставщикамиПоСрокам КАК Расчеты
	|	ПО
	|		ДокументыКОтражению.Ссылка = Расчеты.ДокументРегистратор
	|		И &НоваяАрхитектураВзаиморасчетов
	|	ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.АналитикаУчетаПоПартнерам КАК Аналитика
	|	ПО (Расчеты.АналитикаУчетаПоПартнерам = Аналитика.КлючАналитики)
	|	
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка";
	ТекстыЗапроса.Добавить(ТекстЗапроса);
	#КонецОбласти
	
	Возврат СтрСоединить(ТекстыЗапроса, ОбщегоНазначения.РазделительПакетаЗапросов()) + ОбщегоНазначения.РазделительПакетаЗапросов();
	
КонецФункции

Функция ТекстВТРасчетов()
	
	ТекстыЗапроса = Новый Массив;
	
	#Область Клиенты
	ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	Расчеты.Регистратор КАК Ссылка,
	|	МАКСИМУМ(ВЫБОР КОГДА Расчеты.ЗаказКлиента = Расчеты.Регистратор ТОГДА NULL
	|		КОГДА НЕ Договоры.Подразделение ЕСТЬ NULL ТОГДА Договоры.Подразделение
	|		КОГДА НЕ ДоговорыОрганизаций.Подразделение ЕСТЬ NULL ТОГДА ДоговорыОрганизаций.Подразделение
	|		КОГДА НЕ Заказы.Подразделение ЕСТЬ NULL ТОГДА Заказы.Подразделение
	|		КОГДА НЕ Заявки.Подразделение ЕСТЬ NULL ТОГДА Заявки.Подразделение
	|		КОГДА Расчеты.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратТоваровОтКлиента) ТОГДА Расчеты.ЗаказКлиента.Подразделение
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КОНЕЦ) КАК Подразделение,
	|	МАКСИМУМ(ВЫБОР КОГДА Расчеты.ЗаказКлиента = Расчеты.Регистратор ТОГДА NULL
	|		КОГДА НЕ Договоры.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Договоры.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация = ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация <> ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчетаПолучателя
	|		КОГДА НЕ Заказы.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заказы.ГруппаФинансовогоУчета
	|		КОГДА НЕ Заявки.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заявки.ГруппаФинансовогоУчета
	|		КОГДА Расчеты.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратТоваровОтКлиента) ТОГДА Расчеты.ЗаказКлиента.ГруппаФинансовогоУчета
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КОНЕЦ) КАК ГруппаФинансовогоУчета,
	|	МАКСИМУМ(Аналитика.НаправлениеДеятельности) КАК НаправлениеДеятельности,
	|	МАКСИМУМ(Расчеты.Валюта) КАК Валюта
	|	
	|ПОМЕСТИТЬ ВТРасчетыСКлиентами
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.РасчетыСКлиентами КАК Расчеты
	|		ПО ДокументыКОтражению.Ссылка = Расчеты.Регистратор
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.АналитикаУчетаПоПартнерам КАК Аналитика
	|		ПО Расчеты.АналитикаУчетаПоПартнерам = Аналитика.КлючАналитики
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ДоговорыКонтрагентов КАК Договоры
	|		ПО Договоры.Ссылка = Расчеты.ЗаказКлиента
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ДоговорыМеждуОрганизациями КАК ДоговорыОрганизаций
	|		ПО ДоговорыОрганизаций.Ссылка = Расчеты.ЗаказКлиента
	|	ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЗаказКлиента КАК Заказы
	|		ПО Заказы.Ссылка = Расчеты.ЗаказКлиента
	|	ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЗаявкаНаВозвратТоваровОтКлиента КАК Заявки
	|		ПО Заявки.Ссылка = Расчеты.ЗаказКлиента
	|ГДЕ
	|	Аналитика.Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
	|	И НЕ Расчеты.ХозяйственнаяОперация В (
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПереносАванса),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.РезервированиеАвансаКлиента),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВзаимозачетЗадолженности))
	|		
	|СГРУППИРОВАТЬ ПО
	|	Расчеты.Регистратор
	|	
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка";
	ТекстыЗапроса.Добавить(ТекстЗапроса);
	#КонецОбласти
	
	#Область Поставщики
	ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	Расчеты.Регистратор КАК Ссылка,
	|	МАКСИМУМ(ВЫБОР КОГДА Расчеты.ЗаказПоставщику = Расчеты.Регистратор ТОГДА NULL
	|		КОГДА НЕ Договоры.Подразделение ЕСТЬ NULL ТОГДА Договоры.Подразделение
	|		КОГДА НЕ ДоговорыОрганизаций.Подразделение ЕСТЬ NULL ТОГДА ДоговорыОрганизаций.Подразделение
	|		КОГДА НЕ Заказы.Подразделение ЕСТЬ NULL ТОГДА Заказы.Подразделение
	|		КОГДА НЕ ЗаказП.Подразделение ЕСТЬ NULL ТОГДА ЗаказП.Подразделение
	|		КОГДА Расчеты.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратТоваровПоставщику) ТОГДА Расчеты.ЗаказПоставщику.Подразделение
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КОНЕЦ) КАК Подразделение,
	|	МАКСИМУМ(ВЫБОР КОГДА Расчеты.ЗаказПоставщику = Расчеты.Регистратор ТОГДА NULL
	|		КОГДА НЕ Договоры.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Договоры.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация = ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация <> ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчетаПолучателя
	|		КОГДА НЕ Заказы.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заказы.ГруппаФинансовогоУчета
	|		КОГДА НЕ ЗаказП.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА ЗаказП.ГруппаФинансовогоУчета
	|		КОГДА Расчеты.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратТоваровПоставщику) ТОГДА Расчеты.ЗаказПоставщику.ГруппаФинансовогоУчета
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КОНЕЦ) КАК ГруппаФинансовогоУчета,
	|	МАКСИМУМ(Аналитика.НаправлениеДеятельности) КАК НаправлениеДеятельности
	|	
	|ПОМЕСТИТЬ ВТРасчетыСПоставщиками
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.РасчетыСПоставщиками КАК Расчеты
	|		ПО ДокументыКОтражению.Ссылка = Расчеты.Регистратор
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.АналитикаУчетаПоПартнерам КАК Аналитика
	|		ПО Расчеты.АналитикаУчетаПоПартнерам = Аналитика.КлючАналитики
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ДоговорыКонтрагентов КАК Договоры
	|		ПО Договоры.Ссылка = Расчеты.ЗаказПоставщику
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ДоговорыМеждуОрганизациями КАК ДоговорыОрганизаций
	|		ПО ДоговорыОрганизаций.Ссылка = Расчеты.ЗаказПоставщику
	|	ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЗаказПоставщику КАК Заказы
	|		ПО Заказы.Ссылка = Расчеты.ЗаказПоставщику
	|	ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЗаказПереработчику КАК ЗаказП
	|		ПО ЗаказП.Ссылка = Расчеты.ЗаказПоставщику
	|ГДЕ
	|	Аналитика.Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
	|	И НЕ Расчеты.ХозяйственнаяОперация В (
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ПереносАванса),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВзаимозачетЗадолженности))
	|		
	|СГРУППИРОВАТЬ ПО
	|	Расчеты.Регистратор,
	|	Расчеты.ЗаказПоставщику
	|	
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка";
	ТекстыЗапроса.Добавить(ТекстЗапроса);
	#КонецОбласти
	
	Возврат СтрСоединить(ТекстыЗапроса, ОбщегоНазначения.РазделительПакетаЗапросов()) + ОбщегоНазначения.РазделительПакетаЗапросов();
	
КонецФункции

Функция ТекстВТВводСобственныхСредств()
	
	// Если в документе поступления партии НДС был ввод собственных средств в направление, то ценности на контракт ГОЗ относятся,
	// а НДС с них нет, т.к. это запрещено Постановлением №543.
	Возврат "
		|ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	РазрезыКОтражению.Ссылка                                  КАК Ссылка,
		|	НДСПредъявленный.СчетФактура                              КАК СчетФактура,
		|	ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КАК НаправлениеДеятельности
		|ПОМЕСТИТЬ ВТВводСобственныхСредств
		|ИЗ
		|	РазрезыКОтражению КАК РазрезыКОтражению
		|	
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		РегистрНакопления.НДСПредъявленный КАК НДСПредъявленный
		|	ПО
		|		РазрезыКОтражению.Ссылка = НДСПредъявленный.Регистратор
		|		И НДСПредъявленный.НаправлениеДеятельности.ТипНаправленияДеятельности = ЗНАЧЕНИЕ(Перечисление.ТипыНаправленийДеятельности.КонтрактГОЗ)
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		РегистрСведений.РеестрДокументов КАК РеестрДокументов
		|	ПО
		|		НДСПредъявленный.СчетФактура = РеестрДокументов.Ссылка
		|
		|ГДЕ
		|	ЕСТЬNULL(РеестрДокументов.Договор.НаправлениеДеятельности, ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)) <> НДСПредъявленный.НаправлениеДеятельности
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	Ссылка,
		|	СчетФактура
		|;";
	
КонецФункции

#КонецОбласти

#Область ОбщиеФрагментыЗапросовОтражения

Функция ТекстИнициализации() Экспорт
	
	Возврат
	"ВЫБРАТЬ //// Размещение итоговых данных во врем.таблицу Данные
	|	НЕОПРЕДЕЛЕНО КАК Ссылка,
	|	ДАТАВРЕМЯ(1, 1, 1) КАК Период,
	|	ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка) КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	0 КАК Сумма,
	|	0 КАК СуммаУУ,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПустаяСсылка) КАК ВидСчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК АналитикаУчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаДт,
	|
	|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КАК ВалютаДт,
	|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КАК ПодразделениеДт,
	|	ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КАК НаправлениеДеятельностиДт,
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка) КАК СчетДт,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|	
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПустаяСсылка) КАК ВидСчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК АналитикаУчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаКт,
	|
	|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КАК ВалютаКт,
	|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КАК ПодразделениеКт,
	|	ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КАК НаправлениеДеятельностиКт,
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка) КАК СчетКт,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	
	|	"""" КАК Содержание
	|
	|ПОМЕСТИТЬ Данные
	|ГДЕ ЛОЖЬ";
	
КонецФункции

Функция ТекстЗачетАвансов(ДокументИмя) Экспорт
	
#Область АвансыКлиентов
	
	ТекстЗачетАвансовКлиентов =
	"ВЫБРАТЬ //// Зачет авансов клиентов (Дт <62.2> :: Кт <62.1, 76>)
	|	Операция.Ссылка КАК Ссылка,
	|	ЕСТЬNULL(РеализацияБезПереходаПраваСобственности.ДатаПереходаПраваСобственности, Расчеты.Период) КАК Период,
	|	Аналитика.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	Расчеты.ПредоплатаРегл КАК Сумма,
	|	Расчеты.ПредоплатаУпр КАК СуммаУУ,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыПолученные) КАК ВидСчетаДт,
	|	(ВЫБОР
	|		КОГДА Операция.Ссылка = Расчеты.ЗаказКлиента ТОГДА Операция.ГруппаФинансовогоУчета
	|		КОГДА НЕ Договоры.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Договоры.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация = ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация <> ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчетаПолучателя
	|		КОГДА НЕ Заказы.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заказы.ГруппаФинансовогоУчета
	|		КОГДА НЕ Заявки.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заявки.ГруппаФинансовогоУчета
	|		КОГДА НЕ ПБДС.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА ПБДС.ГруппаФинансовогоУчета
	|		КОГДА НЕ ПКО.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА ПКО.ГруппаФинансовогоУчета
	|		КОГДА НЕ ОперацияПоКарте.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА ОперацияПоКарте.ГруппаФинансовогоУчета
	|		КОГДА НЕ ПервичныйДокумент.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА ПервичныйДокумент.ГруппаФинансовогоУчета
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КОНЕЦ) КАК АналитикаУчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаДт,
	|
	|	Расчеты.Валюта КАК ВалютаДт,
	|	(ВЫБОР
	|		КОГДА Операция.Ссылка = Расчеты.ЗаказКлиента ТОГДА Операция.Подразделение
	|		КОГДА НЕ Договоры.Подразделение ЕСТЬ NULL ТОГДА Договоры.Подразделение
	|		КОГДА НЕ ДоговорыОрганизаций.Подразделение ЕСТЬ NULL ТОГДА ДоговорыОрганизаций.Подразделение
	|		КОГДА НЕ Заказы.Подразделение ЕСТЬ NULL ТОГДА Заказы.Подразделение
	|		КОГДА НЕ Заявки.Подразделение ЕСТЬ NULL ТОГДА Заявки.Подразделение
	|		КОГДА НЕ ПБДС.Подразделение ЕСТЬ NULL ТОГДА ПБДС.Подразделение
	|		КОГДА НЕ ПКО.Подразделение ЕСТЬ NULL ТОГДА ПКО.Подразделение
	|		КОГДА НЕ ОперацияПоКарте.Подразделение ЕСТЬ NULL ТОГДА ОперацияПоКарте.Подразделение
	|		КОГДА НЕ ПервичныйДокумент.Подразделение ЕСТЬ NULL ТОГДА ПервичныйДокумент.Подразделение
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КОНЕЦ) КАК ПодразделениеДт,
	|	Аналитика.НаправлениеДеятельности КАК НаправлениеДеятельностиДт,
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	Аналитика.Контрагент КАК СубконтоДт1,
	|	Аналитика.Договор КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	Расчеты.Предоплата КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|	
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКлиентами) КАК ВидСчетаКт,
	|	(ВЫБОР
	|		КОГДА НЕ Договоры.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Договоры.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация = ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация <> ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчетаПолучателя
	|		КОГДА НЕ Заказы.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заказы.ГруппаФинансовогоУчета
	|		КОГДА НЕ Заявки.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заявки.ГруппаФинансовогоУчета
	|		ИНАЧЕ Операция.ГруппаФинансовогоУчета КОНЕЦ) КАК АналитикаУчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаКт,
	|	
	|	Расчеты.Валюта КАК ВалютаКт,
	|	(ВЫБОР
	|		КОГДА НЕ Договоры.Подразделение ЕСТЬ NULL ТОГДА Договоры.Подразделение
	|		КОГДА НЕ ДоговорыОрганизаций.Подразделение ЕСТЬ NULL ТОГДА ДоговорыОрганизаций.Подразделение
	|		КОГДА НЕ Заказы.Подразделение ЕСТЬ NULL ТОГДА Заказы.Подразделение
	|		КОГДА НЕ Заявки.Подразделение ЕСТЬ NULL ТОГДА Заявки.Подразделение
	|		ИНАЧЕ Операция.Подразделение КОНЕЦ) КАК ПодразделениеКт,
	|	(ВЫБОР
	|		КОГДА НЕ Договоры.НаправлениеДеятельности ЕСТЬ NULL ТОГДА Договоры.НаправлениеДеятельности
	|		КОГДА НЕ ДоговорыОрганизаций.НаправлениеДеятельности ЕСТЬ NULL ТОГДА ДоговорыОрганизаций.НаправлениеДеятельности
	|		КОГДА НЕ Заказы.НаправлениеДеятельности ЕСТЬ NULL ТОГДА Заказы.НаправлениеДеятельности
	|		КОГДА НЕ Заявки.НаправлениеДеятельности ЕСТЬ NULL ТОГДА Заявки.НаправлениеДеятельности
	|		ИНАЧЕ Операция.НаправлениеДеятельности КОНЕЦ) КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Аналитика.Контрагент КАК СубконтоКт1,
	|	Аналитика.Договор КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|
	|	Расчеты.Предоплата КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	""Зачет авансов клиентов"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
	|		РегистрНакопления.РасчетыСКлиентамиПоДокументам КАК Расчеты
	|	ПО 
	|		Операция.Ссылка = Расчеты.Регистратор
	|		И НЕ &НоваяАрхитектураВзаиморасчетов
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		РегистрСведений.АналитикаУчетаПоПартнерам КАК Аналитика
	|	ПО 
	|		Аналитика.КлючАналитики = Расчеты.АналитикаУчетаПоПартнерам
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Справочник.ДоговорыКонтрагентов КАК Договоры
	|	ПО 
	|		Договоры.Ссылка = Расчеты.ЗаказКлиента
	|	
 	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Справочник.ДоговорыМеждуОрганизациями КАК ДоговорыОрганизаций
	|	ПО 
	|		ДоговорыОрганизаций.Ссылка = Расчеты.ЗаказКлиента
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.ЗаказКлиента КАК Заказы
	|	ПО 
	|		Заказы.Ссылка = Расчеты.ЗаказКлиента
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.ЗаявкаНаВозвратТоваровОтКлиента КАК Заявки
	|	ПО 
	|		Заявки.Ссылка = Расчеты.ЗаказКлиента
	|	
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.ПоступлениеБезналичныхДенежныхСредств КАК ПБДС
	|	ПО 
	|		ПБДС.Ссылка = Расчеты.ЗаказКлиента
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.ПриходныйКассовыйОрдер КАК ПКО
	|	ПО 
	|		ПКО.Ссылка = Расчеты.ЗаказКлиента
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.ОперацияПоПлатежнойКарте КАК ОперацияПоКарте
	|	ПО 
	|		ОперацияПоКарте.Ссылка = Расчеты.ЗаказКлиента
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.ПервичныйДокумент КАК ПервичныйДокумент
	|	ПО 
	|		ПервичныйДокумент.Ссылка = Расчеты.ЗаказКлиента
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.РеализацияТоваровУслуг КАК РеализацияБезПереходаПраваСобственности
	|	ПО 
	|		РеализацияБезПереходаПраваСобственности.Ссылка = Операция.Ссылка
	|		И РеализацияБезПереходаПраваСобственности.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.РеализацияБезПереходаПраваСобственности)
	|ГДЕ
	|	Расчеты.ПредоплатаРегл > 0 И Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
	|	И Расчеты.Регистратор <> Расчеты.РасчетныйДокумент
	|	И НЕ Расчеты.ХозяйственнаяОперация В (
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратОплатыКлиенту),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратДенежныхСредствВДругуюОрганизацию),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВзаимозачетЗадолженности))";
	
	#КонецОбласти
	
	#Область АвансыПоставщикам
	
	ТекстЗачетАвансовПоставщикам = 
	"ВЫБРАТЬ //// Зачет авансов поставщикам (Дт <60.1, 76> :: Кт <60.2>)
	|	Операция.Ссылка КАК Ссылка,
	|	Расчеты.Период КАК Период,
	|	Аналитика.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	Расчеты.ПредоплатаРегл КАК Сумма,
	|	Расчеты.ПредоплатаУпр КАК СуммаУУ,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСПоставщиками) КАК ВидСчетаДт,
	|	(ВЫБОР
	|		КОГДА НЕ Договоры.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Договоры.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация = ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация <> ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчетаПолучателя
	|		КОГДА НЕ Заказы.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заказы.ГруппаФинансовогоУчета
	|		КОГДА НЕ ЗаказП.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА ЗаказП.ГруппаФинансовогоУчета
	|		ИНАЧЕ Операция.ГруппаФинансовогоУчета КОНЕЦ) КАК АналитикаУчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаДт,
	|
	|	Расчеты.Валюта КАК ВалютаДт,
	|	(ВЫБОР
	|		КОГДА НЕ Договоры.Подразделение ЕСТЬ NULL ТОГДА Договоры.Подразделение
	|		КОГДА НЕ ДоговорыОрганизаций.Подразделение ЕСТЬ NULL ТОГДА ДоговорыОрганизаций.Подразделение
	|		КОГДА НЕ Заказы.Подразделение ЕСТЬ NULL ТОГДА Заказы.Подразделение
	|		КОГДА НЕ ЗаказП.Подразделение ЕСТЬ NULL ТОГДА ЗаказП.Подразделение
	|		ИНАЧЕ Операция.Подразделение КОНЕЦ) КАК ПодразделениеДт,
	|	(ВЫБОР
	|		КОГДА НЕ Договоры.НаправлениеДеятельности ЕСТЬ NULL ТОГДА Договоры.НаправлениеДеятельности
	|		КОГДА НЕ ДоговорыОрганизаций.НаправлениеДеятельности ЕСТЬ NULL ТОГДА ДоговорыОрганизаций.НаправлениеДеятельности
	|		КОГДА НЕ Заказы.НаправлениеДеятельности ЕСТЬ NULL ТОГДА Заказы.НаправлениеДеятельности
	|		КОГДА НЕ ЗаказП.НаправлениеДеятельности ЕСТЬ NULL ТОГДА ЗаказП.НаправлениеДеятельности
	|		ИНАЧЕ Операция.НаправлениеДеятельности КОНЕЦ) КАК НаправлениеДеятельностиДт,
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	Аналитика.Контрагент КАК СубконтоДт1,
	|	Аналитика.Договор КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	Расчеты.Предоплата КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|	
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыВыданные) КАК ВидСчетаКт,
	|	(ВЫБОР
	|		КОГДА Операция.Ссылка = Расчеты.ЗаказПоставщику ТОГДА Операция.ГруппаФинансовогоУчета
	|		КОГДА НЕ Договоры.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Договоры.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация = ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчета
	|		КОГДА НЕ ДоговорыОрганизаций.ГруппаФинансовогоУчета ЕСТЬ NULL И Аналитика.Организация <> ДоговорыОрганизаций.Организация
	|		ТОГДА ДоговорыОрганизаций.ГруппаФинансовогоУчетаПолучателя
	|		КОГДА НЕ Заказы.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА Заказы.ГруппаФинансовогоУчета
	|		КОГДА НЕ ЗаказП.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА ЗаказП.ГруппаФинансовогоУчета
	|		КОГДА НЕ СБДС.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА СБДС.ГруппаФинансовогоУчета
	|		КОГДА НЕ РКО.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА РКО.ГруппаФинансовогоУчета
	|		КОГДА НЕ ПервичныйДокумент.ГруппаФинансовогоУчета ЕСТЬ NULL ТОГДА ПервичныйДокумент.ГруппаФинансовогоУчета
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КОНЕЦ) КАК АналитикаУчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаКт,
	|	
	|	Расчеты.Валюта КАК ВалютаКт,
	|	(ВЫБОР
	|		КОГДА Операция.Ссылка = Расчеты.ЗаказПоставщику ТОГДА Операция.Подразделение
	|		КОГДА НЕ Договоры.Подразделение ЕСТЬ NULL ТОГДА Договоры.Подразделение
	|		КОГДА НЕ ДоговорыОрганизаций.Подразделение ЕСТЬ NULL ТОГДА ДоговорыОрганизаций.Подразделение
	|		КОГДА НЕ Заказы.Подразделение ЕСТЬ NULL ТОГДА Заказы.Подразделение
	|		КОГДА НЕ ЗаказП.Подразделение ЕСТЬ NULL ТОГДА ЗаказП.Подразделение
	|		КОГДА НЕ СБДС.Подразделение ЕСТЬ NULL ТОГДА СБДС.Подразделение
	|		КОГДА НЕ РКО.Подразделение ЕСТЬ NULL ТОГДА РКО.Подразделение
	|		КОГДА НЕ ПервичныйДокумент.Подразделение ЕСТЬ NULL ТОГДА ПервичныйДокумент.Подразделение
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка) КОНЕЦ) КАК ПодразделениеКт,
	|	Аналитика.НаправлениеДеятельности КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Аналитика.Контрагент КАК СубконтоКт1,
	|	Аналитика.Договор КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|
	|	Расчеты.Предоплата КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	""Зачет авансов поставщикам"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
	|		РегистрНакопления.РасчетыСПоставщикамиПоДокументам КАК Расчеты
	|	ПО 
	|		Операция.Ссылка = Расчеты.Регистратор
	|		И НЕ &НоваяАрхитектураВзаиморасчетов
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|		РегистрСведений.АналитикаУчетаПоПартнерам КАК Аналитика
	|	ПО 
	|		Аналитика.КлючАналитики = Расчеты.АналитикаУчетаПоПартнерам
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Справочник.ДоговорыКонтрагентов КАК Договоры
	|	ПО 
	|		Договоры.Ссылка = Расчеты.ЗаказПоставщику
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Справочник.ДоговорыМеждуОрганизациями КАК ДоговорыОрганизаций
	|	ПО 
	|		ДоговорыОрганизаций.Ссылка = Расчеты.ЗаказПоставщику
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|		Документ.ЗаказПоставщику КАК Заказы
	|	ПО 
	|		Заказы.Ссылка = Расчеты.ЗаказПоставщику
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.ЗаказПереработчику КАК ЗаказП
	|	ПО 
	|		ЗаказП.Ссылка = Расчеты.ЗаказПоставщику
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.СписаниеБезналичныхДенежныхСредств КАК СБДС
	|	ПО 
	|		СБДС.Ссылка = Расчеты.ЗаказПоставщику
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.РасходныйКассовыйОрдер КАК РКО
	|	ПО 
	|		РКО.Ссылка = Расчеты.ЗаказПоставщику
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Документ.ПервичныйДокумент КАК ПервичныйДокумент
	|	ПО 
	|		ПервичныйДокумент.Ссылка = Расчеты.ЗаказПоставщику
	|
	|ГДЕ
	|	Расчеты.ПредоплатаРегл > 0. 
	|	И Расчеты.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	|	И (Расчеты.Регистратор <> Расчеты.РасчетныйДокумент
	|		ИЛИ Расчеты.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ОтчетКомитенту))
	|	И НЕ Расчеты.ХозяйственнаяОперация В (
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратТоваровПоставщику),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратТоваровМеждуОрганизациями),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратДенежныхСредствОтПоставщика),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратДенежныхСредствОтДругойОрганизации),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВозвратДенежныхДокументовПоставщику),
	|		ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВзаимозачетЗадолженности))";
	
	#КонецОбласти
	
	#Область АвансыКлиентовНоваяАрхитектура
	
	ТекстЗачетАвансовКлиентовНоваяАрхитектура =
	"ВЫБРАТЬ //// Зачет авансов клиентов (Дт <62.2> :: Кт <62.1, 76>)
	|	Операция.Ссылка КАК Ссылка,
	|	Расчеты.Период КАК Период,
	|	Расчеты.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	-Расчеты.ПредоплатаРегл КАК Сумма,
	|	-Расчеты.ПредоплатаУпр  КАК СуммаУУ,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыПолученные) КАК ВидСчетаДт,
	|	ЕСТЬNULL(Расчеты.КорГруппаФинансовогоУчета, ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета)) КАК АналитикаУчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаДт,
	|
	|	Расчеты.Валюта КАК ВалютаДт,
	|	ЕСТЬNULL(Расчеты.КорПодразделение, ЕСТЬNULL(Расчеты.Подразделение, Операция.Подразделение)) КАК ПодразделениеДт,
	|	ЕСТЬNULL(Расчеты.НаправлениеДеятельности, Операция.НаправлениеДеятельности) КАК НаправлениеДеятельностиДт,
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	Расчеты.Контрагент КАК СубконтоДт1,
	|	Расчеты.Договор КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	-Расчеты.Предоплата КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|	
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКлиентами) КАК ВидСчетаКт,
	|	ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета) КАК АналитикаУчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаКт,
	|	
	|	Расчеты.Валюта КАК ВалютаКт,
	|	ЕСТЬNULL(Расчеты.Подразделение, Операция.Подразделение) КАК ПодразделениеКт,
	|	ЕСТЬNULL(Расчеты.НаправлениеДеятельности, Операция.НаправлениеДеятельности) КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Расчеты.Контрагент КАК СубконтоКт1,
	|	Операция.Договор КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|
	|	-Расчеты.Предоплата КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	""Зачет авансов клиентов"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
	|		РасчетыСКлиентамиНоваяАрхитектура КАК Расчеты
	|	ПО 
	|		Операция.Ссылка = Расчеты.Ссылка
	|
	|ГДЕ
	|	Расчеты.ПредоплатаРегл < 0
	|	И Расчеты.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ЗачетАвансаКлиента)
	|	И НЕ Расчеты.Ссылка ССЫЛКА Документ.СписаниеБезналичныхДенежныхСредств
	|	И НЕ Расчеты.Ссылка ССЫЛКА Документ.РасходныйКассовыйОрдер
	|	И НЕ Расчеты.Ссылка ССЫЛКА Документ.ОперацияПоПлатежнойКарте";
	
	#КонецОбласти
	
	#Область АвансыПоставщикамНоваяАрхитектура
	
	ТекстЗачетАвансовПоставщикамНоваяАрхитектура = 
	" 
	|ВЫБРАТЬ //// Зачет авансов поставщикам (Дт <60.1, 76> :: Кт <60.2>)
	|	Операция.Ссылка КАК Ссылка,
	|	Расчеты.Период КАК Период,
	|	Расчеты.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	-Расчеты.ПредоплатаРегл КАК Сумма,
	|	-Расчеты.ПредоплатаУпр  КАК СуммаУУ,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСПоставщиками) КАК ВидСчетаДт,
	|	ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета) КАК АналитикаУчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаДт,
	|
	|	Расчеты.Валюта КАК ВалютаДт,
	|	ЕСТЬNULL(Расчеты.Подразделение, Операция.Подразделение) КАК ПодразделениеДт,
	|	ЕСТЬNULL(Расчеты.НаправлениеДеятельности, Операция.НаправлениеДеятельности) КАК НаправлениеДеятельностиДт,
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	Расчеты.Контрагент КАК СубконтоДт1,
	|	Операция.Договор КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	-Расчеты.Предоплата КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|	
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыВыданные) КАК ВидСчетаКт,
	|	ЕСТЬNULL(Расчеты.КорГруппаФинансовогоУчета, ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета)) КАК АналитикаУчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаКт,
	|	
	|	Расчеты.Валюта КАК ВалютаКт,
	|	ЕСТЬNULL(Расчеты.КорПодразделение, ЕСТЬNULL(Расчеты.Подразделение, Операция.Подразделение)) КАК ПодразделениеКт,
	|	ЕСТЬNULL(Расчеты.НаправлениеДеятельности, Операция.НаправлениеДеятельности) КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Расчеты.Контрагент КАК СубконтоКт1,
	|	Расчеты.Договор КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|
	|	-Расчеты.Предоплата КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	""Зачет авансов поставщикам"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
	|		РасчетыСПоставщикамиНоваяАрхитектура КАК Расчеты
	|	ПО 
	|		Операция.Ссылка = Расчеты.Ссылка
	|
	|ГДЕ
	|	Расчеты.ПредоплатаРегл < 0
	|	И Расчеты.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ЗачетАвансаПоставщику)
	|	И НЕ Расчеты.Ссылка ССЫЛКА Документ.ПоступлениеБезналичныхДенежныхСредств
	|	И НЕ Расчеты.Ссылка ССЫЛКА Документ.ПриходныйКассовыйОрдер
	|	И НЕ Расчеты.Ссылка ССЫЛКА Документ.ВозвратТоваровМеждуОрганизациями
	|	И НЕ Расчеты.Ссылка ССЫЛКА Документ.ВозвратТоваровПоставщику";
	
	#КонецОбласти
	
	Если ДокументИмя = "Документ.ОтчетПоКомиссииМеждуОрганизациями" ИЛИ ДокументИмя = "Документ.ПередачаТоваровМеждуОрганизациями" Тогда
		Отступ = Символы.ПС + Символы.Таб + Символы.Таб + Символы.Таб;
		ВыражениеДляИнтеркомпани = Отступ + "ВЫБОР КОГДА Аналитика.Организация = Операция.Организация" +
			Отступ + "ТОГДА Операция.ГруппаФинансовогоУчета" +
			Отступ + "ИНАЧЕ Операция.ГруппаФинансовогоУчетаПолучателя КОНЕЦ";
		ТекстЗачетАвансовКлиентов = СтрЗаменить(ТекстЗачетАвансовКлиентов, "Операция.ГруппаФинансовогоУчета", ВыражениеДляИнтеркомпани);
		ТекстЗачетАвансовПоставщикам = СтрЗаменить(ТекстЗачетАвансовПоставщикам, "Операция.ГруппаФинансовогоУчета", ВыражениеДляИнтеркомпани);
		
		ВыражениеДляИнтеркомпани = Отступ + "ВЫБОР КОГДА Расчеты.Организация = Операция.Организация" +
			Отступ + "ТОГДА ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета)" +
			Отступ + "ИНАЧЕ ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчетаПолучателя, Операция.ГруппаФинансовогоУчетаПолучателя) КОНЕЦ";
		КорВыражениеДляИнтеркомпани = Отступ + "ВЫБОР КОГДА Расчеты.Организация = Операция.Организация" +
			Отступ + "ТОГДА ЕСТЬNULL(Расчеты.КорГруппаФинансовогоУчета, ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета))" +
			Отступ + "ИНАЧЕ ЕСТЬNULL(Расчеты.КорГруппаФинансовогоУчетаПолучателя, ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчетаПолучателя, Операция.ГруппаФинансовогоУчетаПолучателя)) КОНЕЦ";
		ТекстЗачетАвансовКлиентовНоваяАрхитектура = СтрЗаменить(ТекстЗачетАвансовКлиентовНоваяАрхитектура, "ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета)", ВыражениеДляИнтеркомпани);
		ТекстЗачетАвансовПоставщикамНоваяАрхитектура = СтрЗаменить(ТекстЗачетАвансовПоставщикамНоваяАрхитектура, "ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета)", ВыражениеДляИнтеркомпани);
		ТекстЗачетАвансовКлиентовНоваяАрхитектура = СтрЗаменить(ТекстЗачетАвансовКлиентовНоваяАрхитектура, "ЕСТЬNULL(Расчеты.КорГруппаФинансовогоУчета, ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета))", КорВыражениеДляИнтеркомпани);
		ТекстЗачетАвансовПоставщикамНоваяАрхитектура = СтрЗаменить(ТекстЗачетАвансовПоставщикамНоваяАрхитектура, "ЕСТЬNULL(Расчеты.КорГруппаФинансовогоУчета, ЕСТЬNULL(Расчеты.ГруппаФинансовогоУчета, Операция.ГруппаФинансовогоУчета))", КорВыражениеДляИнтеркомпани);
	КонецЕсли;
	
	МассивТекстовЗапроса = Новый Массив;
	МассивТекстовЗапроса.Добавить(ТекстЗачетАвансовКлиентов);
	МассивТекстовЗапроса.Добавить(ТекстЗачетАвансовПоставщикам);
	МассивТекстовЗапроса.Добавить(ТекстЗачетАвансовКлиентовНоваяАрхитектура);
	МассивТекстовЗапроса.Добавить(ТекстЗачетАвансовПоставщикамНоваяАрхитектура);
	ТекстЗачетАвансов = СтрСоединить(МассивТекстовЗапроса, ОбщегоНазначенияУТ.РазделительЗапросовВОбъединении());
	ТекстЗачетАвансов = СтрЗаменить(ТекстЗачетАвансов, "ДокументИмя", ДокументИмя);
	
	Возврат ТекстЗачетАвансов;
	
КонецФункции

Функция ТекстРаспределениеРасходов(ДокументИмя) Экспорт
	
#Область Распределение	 // Отражение доп. расходов (Дт 10, 15, 20, 41 :: Кт 10.ДР, 41.ДР, 19.03, 19.11)

	ТекстРаспределения =
	"ВЫБРАТЬ //// Отражение доп. расходов (Дт 10, 15, 20, 41 :: Кт 10.ДР, 41.ДР, 19.03, 19.11) @НДСпредъявленный
	|	Операция.Ссылка КАК Ссылка,
	|	Строки.Период КАК Период,
	|	Строки.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	(Строки.СтоимостьРегл + Строки.ДопРасходыРегл) КАК Сумма,
	|	Строки.ДопРасходыУпр КАК СуммаУУ,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|				ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|				ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Производство)
	|		КОГДА Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыВПути)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ЗатратыНаПриобретениеТМЦ)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе)
	|	КОНЕЦ КАК ВидСчетаДт,
	|	
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|				ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|				ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение)
	|			ТОГДА НЕОПРЕДЕЛЕНО 
	|		КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
	|			ТОГДА Строки.ВидЗапасов.ГруппаФинансовогоУчета
	|		ИНАЧЕ Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ КАК АналитикаУчетаДт,
	|	ВЫБОР
	|		КОГДА (Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение))
	|			И Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.МестоХранения
	|	КОНЕЦ КАК МестоУчетаДт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаДт,
	|	ВЫБОР 
	|		КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		КОГДА Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыВПути)
	|			ТОГДА ПриобретениеТоваровУслуг.Договор.Подразделение
	|		ИНАЧЕ Аналитика.Подразделение
	|	КОНЕЦ КАК ПодразделениеДт,
	|	ЕСТЬNULL(Назначения.НаправлениеДеятельности,
	|		ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)) КАК НаправлениеДеятельностиДт,
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	Аналитика.Номенклатура КАК СубконтоДт1,
	|	ВЫБОР
	|		КОГДА Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыВПути)
	|			ТОГДА ПриобретениеТоваровУслуг.Контрагент
	|		ИНАЧЕ Аналитика.МестоХранения
	|	КОНЕЦ 				   КАК СубконтоДт2,
	|	ВЫБОР
	|		КОГДА НЕ Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			И (Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ТоварыПринятыеНаОтветхранение))
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.МатериальныеЗатраты)
	|		КОГДА Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.СобственныеТоварыВПути)
	|			ТОГДА ПриобретениеТоваровУслуг.Договор
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.Работы)
	|	КОНЕЦ 				   КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	(Строки.СтоимостьРегл + Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУДт,
	|	Строки.ПостояннаяРазница КАК СуммаПРДт,
	|	Строки.ВременнаяРазница КАК СуммаВРДт,
	|
	|	ВЫБОР
	|		КОГДА Строки.СтатьяРасходовСписания = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.НДСНалоговогоАгента)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы)
	|	КОНЕЦ КАК ВидСчетаКт,
	|	ВЫБОР
	|		КОГДА Строки.СтатьяРасходовСписания = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.НДСНалоговогоАгента)
	|			ТОГДА Строки.КорВидДеятельностиНДС
	|		ИНАЧЕ Строки.СтатьяРасходовСписания
	|	КОНЕЦ КАК АналитикаУчетаКт,
	|	ВЫБОР
	|		КОГДА Строки.СтатьяРасходовСписания = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.НДСНалоговогоАгента)
	|			ТОГДА Строки.КорАналитикаУчетаПартий.ВидЦенности
	|		ИНАЧЕ Строки.Подразделение
	|	КОНЕЦ КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	Строки.Подразделение КАК ПодразделениеКт,
	|	ВЫБОР
	|		КОГДА Строки.СтатьяРасходовСписания = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.НДСНалоговогоАгента)
	|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаУчетаНДСПоНаправлениямДеятельности
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)
	|		ИНАЧЕ Строки.КорНаправлениеДеятельности
	|	КОНЕЦ КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Строки.КорАналитикаУчетаПартий.Контрагент КАК СубконтоКт1,
	|	ВЫБОР
	|		КОГДА ТИПЗНАЧЕНИЯ(Строки.ДокументДвижения) В (	ТИП(Документ.СчетФактураНалоговыйАгент),
	|														ТИП(Документ.СчетФактураПолученныйНалоговыйАгент))
	|			ТОГДА Строки.ДокументДвижения
	|		ИНАЧЕ НЕОПРЕДЕЛЕНО
	|	КОНЕЦ КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	(Строки.СтоимостьРегл + Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУКт,
	|	Строки.ПостояннаяРазница КАК СуммаПРКт,
	|	Строки.ВременнаяРазница КАК СуммаВРКт,
	|	
	|	""Отражение доп. расходов"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.СебестоимостьТоваров КАК Строки
	|	ПО
	|		Операция.Ссылка = Строки.Регистратор
	|		И Строки.Количество = 0
	|		И (Строки.СтоимостьРегл <> 0 ИЛИ Строки.ДопРасходыРегл <> 0 ИЛИ Строки.ДопРасходыУпр <> 0)
	|		И НЕ Строки.РасчетСебестоимости
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
	|		И Строки.Активность
	|
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК Аналитика
	|	ПО
	|		Строки.АналитикаУчетаНоменклатуры = Аналитика.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК Назначения
	|		ПО Аналитика.Назначение = Назначения.Ссылка
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ Документ.ПриобретениеТоваровУслуг КАК ПриобретениеТоваровУслуг
	|		ПО Строки.Партия = ПриобретениеТоваровУслуг.Ссылка
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
	|	ПО
	|		ДанныеПервичныхДокументов.Организация = Строки.Организация
	|		И ДанныеПервичныхДокументов.Документ = Строки.ДокументДвижения
	|	
	|ГДЕ
	|	Строки.СтатьяРасходовСписания <> ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)
	|	И Строки.СтатьяРасходовСписания <> НЕОПРЕДЕЛЕНО
	|";
	
	ТекстРаспределения = СтрЗаменить(ТекстРаспределения, "ДокументИмя", ДокументИмя);
	
#КонецОбласти

#Область ОтклоненияРеализация // Отклонения в себестоимости реализации (Дт 90.02 :: Кт 10, 20, 41 )
	
	ТекстОтклоненияСебестоимостьРеализованногоТовара =
	"ВЫБРАТЬ //// Отклонения В себестоимости реализации (Дт 90.02 :: Кт 10, 20, 41 )
	|	ДокументыКОтражению.Ссылка 	КАК Ссылка,
	|	Строки.Период 				КАК Период,
	|	Строки.Организация 			КАК Организация,
	|	НЕОПРЕДЕЛЕНО 				КАК ИдентификаторСтроки,
	|
	|	Строки.ДопРасходыРегл 		КАК Сумма,
	|	Строки.ДопРасходыУпр 		КАК СуммаУУ,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродаж) КАК ВидСчетаДт,
	|	
	|	ВЫБОР
	|		КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
	|			ТОГДА Строки.ВидЗапасов.ГруппаФинансовогоУчета
	|		ИНАЧЕ Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ КАК АналитикаУчетаДт,
	|	Аналитика.МестоХранения		 				КАК МестоУчетаДт,
	|
	|	НЕОПРЕДЕЛЕНО 								КАК ВалютаДт,
	|	Строки.Подразделение 						КАК ПодразделениеДт,
	|	АналитикаУчетаПоПартнерам.НаправлениеДеятельности 	КАК НаправлениеДеятельностиДт,
	|	НЕОПРЕДЕЛЕНО 								КАК СчетДт,
	|
	|	Аналитика.Номенклатура 						КАК СубконтоДт1,
	|	ВЫБОР КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
	|		ТОГДА Строки.ВидЗапасов.ГруппаФинансовогоУчета
	|		ИНАЧЕ Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ 										КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО 								КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	(Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУДт,
	|	Строки.ПостояннаяРазница КАК СуммаПРДт,
	|	Строки.ВременнаяРазница КАК СуммаВРДт,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|					ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Производство)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе)
	|	КОНЕЦ 								КАК ВидСчетаКт,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|				ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА НЕОПРЕДЕЛЕНО 
	|		КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
	|			ТОГДА Строки.ВидЗапасов.ГруппаФинансовогоУчета
	|		ИНАЧЕ Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ 								КАК АналитикаУчетаКт,
	|	ВЫБОР
	|		КОГДА (Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты))
	|			И Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.МестоХранения
	|	КОНЕЦ 								КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	ВЫБОР КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|		ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.Подразделение 
	|	КОНЕЦ 		 КАК ПодразделениеКт,
	|	ЕСТЬNULL(Аналитика.Назначение.НаправлениеДеятельности,
	|		ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)) КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Аналитика.Номенклатура 	КАК СубконтоКт1,
	|	Аналитика.МестоХранения КАК СубконтоКт2,
	|	ВЫБОР
	|		КОГДА НЕ Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			И Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.МатериальныеЗатраты)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.Работы)
	|	КОНЕЦ 				   КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	(Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУКт,
	|	Строки.ПостояннаяРазница КАК СуммаПРКт,
	|	Строки.ВременнаяРазница КАК СуммаВРКт,
	|	
	|	""Отклонения в стоимости товара"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.СебестоимостьТоваров КАК Строки
	|	ПО
	|		ДокументыКОтражению.Ссылка = Строки.Регистратор
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	|		И Строки.Активность
	|		И НЕ Строки.РасчетСебестоимости
	|		И Строки.РасчетПартий
	|		И (Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.ОтклонениеВСтоимости) 
	|			ИЛИ Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.КорректировкаПриобретенияПрошлогоПериода)
	|			ИЛИ Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.РаспределениеПоВыбывшимТоварам))
	|		И Строки.Количество = 0
	|		И (Строки.ДопРасходыРегл <> 0 ИЛИ Строки.ДопРасходыУпр <> 0)
	// критерий того, что расходы относятся на себестоимость продаж
	|		И Строки.АналитикаУчетаПоПартнерам <> ЗНАЧЕНИЕ(Справочник.КлючиАналитикиУчетаПоПартнерам.ПустаяСсылка)  
	|
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК Аналитика
	|	ПО
	|		Строки.АналитикаУчетаНоменклатуры = Аналитика.Ссылка
	|	
	|";
	
#КонецОбласти

#Область ОтклоненияСклад // Отклонения в себестоимости товаров (Дт 10, 20, 41 :: Кт 10, 20, 41 )

	ТекстОтклоненияСебестоимостьНаСкладе =
	"ВЫБРАТЬ //// Отклонения В себестоимости товаров (Дт 10, 20, 41 :: Кт 10, 20, 41 )
	|	ДокументыКОтражению.Ссылка 	КАК Ссылка,
	|	Строки.Период 				КАК Период,
	|	Строки.Организация 			КАК Организация,
	|	НЕОПРЕДЕЛЕНО 				КАК ИдентификаторСтроки,
	|
	|	Строки.ДопРасходыРегл 		КАК Сумма,
	|	Строки.ДопРасходыУпр 		КАК СуммаУУ,
	|
	|	ВЫБОР
	|		КОГДА КорАналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|				ИЛИ Строки.КорРазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Производство)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе)
	|	КОНЕЦ КАК ВидСчетаДт,
	|	
	|	ВЫБОР
	|		КОГДА КорАналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|				ИЛИ Строки.КорРазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА НЕОПРЕДЕЛЕНО 
	|		КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
	|			ТОГДА Строки.ВидЗапасов.ГруппаФинансовогоУчета
	|		ИНАЧЕ КорАналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ КАК АналитикаУчетаДт,
	|	ВЫБОР
	|		КОГДА (КорАналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			ИЛИ Строки.КорРазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты))
	|			И КорАналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА КорАналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ КорАналитика.МестоХранения
	|	КОНЕЦ КАК МестоУчетаДт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаДт,
	|	ВЫБОР
	|		КОГДА КорАналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			ТОГДА КорАналитика.МестоХранения
	|		ИНАЧЕ КорАналитика.СкладскаяТерритория.Подразделение 
	|	КОНЕЦ КАК ПодразделениеДт,
	|	ЕСТЬNULL(КорНазначения.НаправлениеДеятельности,
	|		ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)) КАК НаправлениеДеятельностиДт,
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	КорАналитика.Номенклатура КАК СубконтоДт1,
	|	КорАналитика.МестоХранения КАК СубконтоДт2,
	|	ВЫБОР
	|		КОГДА НЕ КорАналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			И Строки.КорРазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.МатериальныеЗатраты)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.Работы)
	|	КОНЕЦ КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	(Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУДт,
	|	Строки.ПостояннаяРазница КАК СуммаПРДт,
	|	Строки.ВременнаяРазница КАК СуммаВРДт,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|					ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Производство)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе)
	|	КОНЕЦ 								КАК ВидСчетаКт,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|				ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА НЕОПРЕДЕЛЕНО 
	|		КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
	|			ТОГДА Строки.ВидЗапасов.ГруппаФинансовогоУчета
	|		ИНАЧЕ Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ 								КАК АналитикаУчетаКт,
	|	ВЫБОР
	|		КОГДА (Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты))
	|			И Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.МестоХранения
	|	КОНЕЦ 								КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	ВЫБОР КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|		ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.Подразделение 
	|	КОНЕЦ 		 КАК ПодразделениеКт,
	|	ЕСТЬNULL(Аналитика.Назначение.НаправлениеДеятельности,
	|		ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)) КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Аналитика.Номенклатура 	КАК СубконтоКт1,
	|	Аналитика.МестоХранения КАК СубконтоКт2,
	|	ВЫБОР
	|		КОГДА НЕ Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			И Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.МатериальныеЗатраты)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.Работы)
	|	КОНЕЦ 				   КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	(Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУКт,
	|	Строки.ПостояннаяРазница КАК СуммаПРКт,
	|	Строки.ВременнаяРазница КАК СуммаВРКт,
	|	
	|	""Отклонения в стоимости товара"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.СебестоимостьТоваров КАК Строки
	|	ПО
	|		ДокументыКОтражению.Ссылка = Строки.Регистратор
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	|		И Строки.Активность
	|		И НЕ Строки.РасчетСебестоимости
	|		И Строки.РасчетПартий
	|		И (Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.ОтклонениеВСтоимости) 
	|			ИЛИ Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.КорректировкаПриобретенияПрошлогоПериода)
	|			ИЛИ Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.РаспределениеПоВыбывшимТоварам))
	|		И Строки.Количество = 0
	|		И (Строки.ДопРасходыРегл <> 0 ИЛИ Строки.ДопРасходыУпр <> 0)
	// критерий того, что расходы относятся на себестоимость на складе/производство
	|		И Строки.АналитикаУчетаПоПартнерам = ЗНАЧЕНИЕ(Справочник.КлючиАналитикиУчетаПоПартнерам.ПустаяСсылка)  
	|		И Строки.СтатьяДоходов 			= ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка)  
	|		И Строки.СтатьяРасходовСписания = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)  
	|
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК Аналитика
	|	ПО
	|		Строки.АналитикаУчетаНоменклатуры = Аналитика.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК Назначения
	|		ПО Аналитика.Назначение = Назначения.Ссылка
	|
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК КорАналитика
	|	ПО
	|		Строки.КорАналитикаУчетаНоменклатуры = КорАналитика.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК КорНазначения
	|		ПО КорАналитика.Назначение = КорНазначения.Ссылка
	|";
	
#КонецОбласти
	
#Область ОтклоненияРасходы // Отклонения в расходы (Дт <44> :: Кт 10, 20, 41 )

	ТекстОтклоненияРасходы =
	"ВЫБРАТЬ //// Отклонения В расходы (Дт <44> :: Кт 10, 20, 41 )
	|	ДокументыКОтражению.Ссылка 		КАК Ссылка,
	|	Строки.Период 			КАК Период,
	|	Строки.Организация 		КАК Организация,
	|	НЕОПРЕДЕЛЕНО 			КАК ИдентификаторСтроки,
	|
	|	Строки.ДопРасходыРегл 	КАК Сумма,
	|	Строки.ДопРасходыУпр 	КАК СуммаУУ,
	|
	|	(ВЫБОР
	|		КОГДА Статья.ВариантРаспределенияРасходовРегл = ЗНАЧЕНИЕ(Перечисление.ВариантыРаспределенияРасходов.НаПрочиеАктивы) 
	|			  И Статья.ВидЦенностиНДС = ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ПрочиеРаботыИУслуги)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПрочиеОперации)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КОНЕЦ) КАК ВидСчетаДт,
	|	Строки.СтатьяРасходовСписания КАК АналитикаУчетаДт,
	|	Строки.Подразделение КАК МестоУчетаДт,
	|
	|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КАК ВалютаДт,
	|	Строки.Подразделение КАК ПодразделениеДт,
	|	Назначение.НаправлениеДеятельности КАК НаправлениеДеятельностиДт,
	|
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка) КАК СчетДт,
	|
	|	Строки.СтатьяРасходовСписания КАК СубконтоДт1,
	|	Строки.АналитикаРасходов КАК СубконтоДт2,
	|	(ВЫБОР
	|		КОГДА Статья.ВариантРаспределенияРасходовРегл = ЗНАЧЕНИЕ(Перечисление.ВариантыРаспределенияРасходов.НаВнеоборотныеАктивы)
	|			ТОГДА
	|				ВЫБОР КОГДА ОбъектыСтроительства.СпособСтроительства <> ЗНАЧЕНИЕ(Перечисление.СпособыСтроительства.ПустаяСсылка) 
	|						ТОГДА ОбъектыСтроительства.СпособСтроительства
	|					ИНАЧЕ 
	|						ЗНАЧЕНИЕ(Перечисление.СпособыСтроительства.Подрядный) 
	|				КОНЕЦ
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.Прочее) КОНЕЦ) КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	(Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУДт,
	|	Строки.ПостояннаяРазница КАК СуммаПРДт,
	|	Строки.ВременнаяРазница КАК СуммаВРДт,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|					ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Производство)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе)
	|	КОНЕЦ 								КАК ВидСчетаКт,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|				ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА НЕОПРЕДЕЛЕНО 
	|		КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
	|			ТОГДА Строки.ВидЗапасов.ГруппаФинансовогоУчета
	|		ИНАЧЕ Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ 								КАК АналитикаУчетаКт,
	|	ВЫБОР
	|		КОГДА (Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты))
	|			И Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.МестоХранения
	|	КОНЕЦ 								КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	ВЫБОР КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|		ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.Подразделение 
	|	КОНЕЦ 		 КАК ПодразделениеКт,
	|	ЕСТЬNULL(Аналитика.Назначение.НаправлениеДеятельности,
	|		ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)) КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Аналитика.Номенклатура 	КАК СубконтоКт1,
	|	Аналитика.МестоХранения КАК СубконтоКт2,
	|	ВЫБОР
	|		КОГДА НЕ Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			И Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.МатериальныеЗатраты)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.Работы)
	|	КОНЕЦ 				   КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	(Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУКт,
	|	Строки.ПостояннаяРазница КАК СуммаПРКт,
	|	Строки.ВременнаяРазница КАК СуммаВРКт,
	|	
	|	""Отклонения в стоимости товара"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.СебестоимостьТоваров КАК Строки
	|	ПО
	|		ДокументыКОтражению.Ссылка = Строки.Регистратор
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	|		И Строки.Активность
	|		И НЕ Строки.РасчетСебестоимости
	|		И Строки.РасчетПартий
	|		И (Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.ОтклонениеВСтоимости) 
	|			ИЛИ Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.КорректировкаПриобретенияПрошлогоПериода)
	|			ИЛИ Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.РаспределениеПоВыбывшимТоварам))
	|		И Строки.Количество = 0
	|		И (Строки.ДопРасходыРегл <> 0 ИЛИ Строки.ДопРасходыУпр <> 0)
	// критерий того, что отклонения списываем на расходы
	|		И Строки.СтатьяРасходовСписания <> ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)  
	|
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
	|		ПланВидовХарактеристик.СтатьиРасходов КАК Статья
	|	ПО 
	|		Статья.Ссылка = Строки.СтатьяРасходовСписания
	|
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК Аналитика
	|	ПО
	|		Строки.АналитикаУчетаНоменклатуры = Аналитика.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ 
	|		Справочник.ОбъектыСтроительства КАК ОбъектыСтроительства
	|	ПО 
	|		ОбъектыСтроительства.Ссылка = Строки.АналитикаРасходов
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК Назначения
	|		ПО Аналитика.Назначение = Назначения.Ссылка
	|";
	
#КонецОбласти
	
#Область ОтклоненияДоходы // Отклонения в доходы (Дт 10, 20, 41 :: Кт 91.01 )

	ТекстОтклоненияДоходы =
	"ВЫБРАТЬ //// Отклонения В доходы (Дт 10, 20, 41 :: Кт 91.01 )
	|	ДокументыКОтражению.Ссылка 		КАК Ссылка,
	|	Строки.Период 				КАК Период,
	|	Строки.Организация 			КАК Организация,
	|	НЕОПРЕДЕЛЕНО 				КАК ИдентификаторСтроки,
	|
	|	Строки.ДопРасходыРегл 		КАК Сумма,
	|	Строки.ДопРасходыУпр 		КАК СуммаУУ,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|					ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Производство)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе)
	|	КОНЕЦ 								КАК ВидСчетаДт,
	|
	|	ВЫБОР
	|		КОГДА Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|				ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА НЕОПРЕДЕЛЕНО 
	|		КОГДА &ФормироватьВидыЗапасовПоГруппамФинансовогоУчета
	|			ТОГДА Строки.ВидЗапасов.ГруппаФинансовогоУчета
	|		ИНАЧЕ Аналитика.Номенклатура.ГруппаФинансовогоУчета
	|	КОНЕЦ 								КАК АналитикаУчетаДт,
	|	ВЫБОР
	|		КОГДА (Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			ИЛИ Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты))
	|			И Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|			ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.МестоХранения
	|	КОНЕЦ 								КАК МестоУчетаДт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаДт,
	|	ВЫБОР КОГДА Аналитика.ТипМестаХранения = ЗНАЧЕНИЕ(Перечисление.ТипыМестХранения.Склад)
	|		ТОГДА Аналитика.СкладскаяТерритория.Подразделение
	|		ИНАЧЕ Аналитика.Подразделение 
	|	КОНЕЦ 		 КАК ПодразделениеДт,
	|	ЕСТЬNULL(Аналитика.Назначение.НаправлениеДеятельности,
	|		ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка)) КАК НаправлениеДеятельностиДт,
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	Аналитика.Номенклатура 	КАК СубконтоДт1,
	|	Аналитика.МестоХранения КАК СубконтоДт2,
	|	ВЫБОР
	|		КОГДА НЕ Аналитика.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Работа)
	|			И Строки.РазделУчета = ЗНАЧЕНИЕ(Перечисление.РазделыУчетаСебестоимостиТоваров.ПроизводственныеЗатраты)
	|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.МатериальныеЗатраты)
	|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.Работы)
	|	КОНЕЦ 				   КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	(Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУДт,
	|	Строки.ПостояннаяРазница КАК СуммаПРДт,
	|	Строки.ВременнаяРазница КАК СуммаВРДт,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Доходы) 	КАК ВидСчетаКт,
	|	Строки.СтатьяДоходов 							 	КАК АналитикаУчетаКт,
	|	Строки.Подразделение 								КАК МестоУчетаКт,
	|
	|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) 			КАК ВалютаКт,
	|	Строки.Подразделение 								КАК ПодразделениеКт,
	|	Назначение.НаправлениеДеятельности 					КАК НаправлениеДеятельностиКт,
	|
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка) 		КАК СчетКт,
	|
	|	Строки.АналитикаДоходов КАК СубконтоКт1,
	|	Строки.СтатьяДоходов 	КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО 			КАК СубконтоКт3,
	|
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	(Строки.ДопРасходыРегл - Строки.ПостояннаяРазница - Строки.ВременнаяРазница) КАК СуммаНУКт,
	|	Строки.ПостояннаяРазница КАК СуммаПРКт,
	|	Строки.ВременнаяРазница КАК СуммаВРКт,
	|	
	|	""Отклонения в стоимости товара"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.СебестоимостьТоваров КАК Строки
	|	ПО
	|		ДокументыКОтражению.Ссылка = Строки.Регистратор
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	|		И Строки.Активность
	|		И НЕ Строки.РасчетСебестоимости
	|		И Строки.РасчетПартий
	|		И (Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.ОтклонениеВСтоимости) 
	|			ИЛИ Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.КорректировкаПриобретенияПрошлогоПериода)
	|			ИЛИ Строки.ТипЗаписи = ЗНАЧЕНИЕ(Перечисление.ТипыЗаписейПартий.РаспределениеПоВыбывшимТоварам))
	|		И Строки.Количество = 0
	|		И (Строки.ДопРасходыРегл <> 0 ИЛИ Строки.ДопРасходыУпр <> 0)
	// критерий того, что отклонения отражаем в доходах
	|		И Строки.СтатьяДоходов <> ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка)  
	|
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		Справочник.КлючиАналитикиУчетаНоменклатуры КАК Аналитика
	|	ПО
	|		Строки.АналитикаУчетаНоменклатуры = Аналитика.Ссылка
	|	
	|	ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Назначения КАК Назначения
	|		ПО Аналитика.Назначение = Назначения.Ссылка
	|";
	
#КонецОбласти
	
	ТекстыОтражения = Новый Массив;
	
	ТекстыОтражения.Добавить(ТекстРаспределения);
	ТекстыОтражения.Добавить(ТекстОтклоненияСебестоимостьРеализованногоТовара);
	ТекстыОтражения.Добавить(ТекстОтклоненияСебестоимостьНаСкладе);
	ТекстыОтражения.Добавить(ТекстОтклоненияРасходы);
	ТекстыОтражения.Добавить(ТекстОтклоненияДоходы);

	Возврат СтрСоединить(ТекстыОтражения, ОбщегоНазначенияУТ.РазделительЗапросовВОбъединении());
	
КонецФункции

Функция ТекстСписаниеРасходовУОрганизацииИсточника(ДокументИмя) Экспорт
	
	ТекстВозврата =
	"ВЫБРАТЬ //// Списание УУ расходов у организации - источника (Дт 91 :: Кт 20, 44)
	|	Операция.Ссылка КАК Ссылка,
	|	Строки.Период КАК Период,
	|	Строки.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	0 КАК Сумма,
	|	-Строки.СуммаУпр КАК СуммаУУ,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВидСчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК АналитикаУчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаДт,
	|
	|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КАК ВалютаДт,
	|	Строки.Подразделение КАК ПодразделениеДт,
	|	Строки.НаправлениеДеятельности КАК НаправлениеДеятельностиДт,
	|
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеРасходы) КАК СчетДт,
	|
	|	Строки.СтатьяРасходов КАК СубконтоДт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КАК ВидСчетаКт,
	|	Строки.СтатьяРасходов КАК АналитикаУчетаКт,
	|	Строки.Подразделение КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	Строки.Подразделение КАК ПодразделениеКт,
	|	Строки.НаправлениеДеятельности КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Строки.СтатьяРасходов КАК СубконтоКт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	
	|	""Списание УУ расходов у организации - источника"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.ПрочиеРасходы КАК Строки
	|	ПО
	|		Операция.Ссылка = Строки.Регистратор
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
	|		И Строки.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СторнированиеРасходовУУ)
	|		И Строки.СуммаУпр <> 0
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ //// Списание УУ расходов у организации - источника (Дт 91 :: Кт 20, 44)
	|	Операция.Ссылка КАК Ссылка,
	|	Строки.Период КАК Период,
	|	Операция.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	0 КАК Сумма,
	|	-Строки.СтоимостьБезНДС КАК СуммаУУ,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВидСчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК АналитикаУчетаДт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаДт,
	|
	|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КАК ВалютаДт,
	|	Строки.Подразделение КАК ПодразделениеДт,
	|	Строки.НаправлениеДеятельности КАК НаправлениеДеятельностиДт,
	|
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеРасходы) КАК СчетДт,
	|
	|	Строки.СтатьяРасходов КАК СубконтоДт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КАК ВидСчетаКт,
	|	Строки.СтатьяРасходов КАК АналитикаУчетаКт,
	|	Строки.Подразделение КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	Строки.Подразделение КАК ПодразделениеКт,
	|	Строки.НаправлениеДеятельности КАК НаправлениеДеятельностиКт,
	|	НЕОПРЕДЕЛЕНО КАК СчетКт,
	|
	|	Строки.СтатьяРасходов КАК СубконтоКт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	
	|	""Списание УУ расходов у организации - источника"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.ПартииПрочихРасходов КАК Строки
	|	ПО
	|		Операция.Ссылка = Строки.Регистратор
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
	|		И Строки.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СторнированиеРасходовУУ)
	|		И Строки.СтоимостьБезНДС <> 0";
	
	ТекстВозврата = СтрЗаменить(ТекстВозврата, "ДокументИмя", ДокументИмя);
	Возврат ТекстВозврата;
	
КонецФункции

Функция ТекстРегистрацияРасходовУОрганизацииПолучателя(ДокументИмя) Экспорт
	
	ТекстВозврата =
	"ВЫБРАТЬ //// Регистрация УУ расходов у организации - получателя (Дт 20, 44 :: Кт 91)
	|	Операция.Ссылка КАК Ссылка,
	|	Строки.Период КАК Период,
	|	Строки.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	0 КАК Сумма,
	|	Строки.СуммаУпр КАК СуммаУУ,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КАК ВидСчетаДт,
	|	Строки.СтатьяРасходов КАК АналитикаУчетаДт,
	|	Строки.Подразделение КАК МестоУчетаДт,
	|
	|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КАК ВалютаДт,
	|	Строки.Подразделение КАК ПодразделениеДт,
	|	Строки.НаправлениеДеятельности КАК НаправлениеДеятельностиДт,
	|
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	Строки.СтатьяРасходов КАК СубконтоДт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВидСчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК АналитикаУчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	Строки.Подразделение КАК ПодразделениеКт,
	|	Строки.НаправлениеДеятельности КАК НаправлениеДеятельностиКт,
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеДоходы) КАК СчетКт,
	|
	|	Строки.СтатьяРасходов КАК СубконтоКт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	
	|	""Регистрация УУ расходов у организации - получателя"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.ПрочиеРасходы КАК Строки
	|	ПО
	|		Операция.Ссылка = Строки.Регистратор
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
	|		И Строки.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.РегистрацияРасходовУУ)
	|		И Строки.СуммаУпр <> 0
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ //// Регистрация УУ расходов у организации - получателя (Дт 20, 44 :: Кт 91)
	|	Операция.Ссылка КАК Ссылка,
	|	Строки.Период КАК Период,
	|	Строки.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	0 КАК Сумма,
	|	Строки.СтоимостьБезНДС КАК СуммаУУ,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КАК ВидСчетаДт,
	|	Строки.СтатьяРасходов КАК АналитикаУчетаДт,
	|	Строки.Подразделение КАК МестоУчетаДт,
	|
	|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка) КАК ВалютаДт,
	|	Строки.Подразделение КАК ПодразделениеДт,
	|	Строки.НаправлениеДеятельности КАК НаправлениеДеятельностиДт,
	|
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|
	|	Строки.СтатьяРасходов КАК СубконтоДт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
	|	
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВидСчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК АналитикаУчетаКт,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	Строки.Подразделение КАК ПодразделениеКт,
	|	Строки.НаправлениеДеятельности КАК НаправлениеДеятельностиКт,
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеДоходы) КАК СчетКт,
	|
	|	Строки.СтатьяРасходов КАК СубконтоКт1,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт2,
	|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	
	|	""Регистрация УУ расходов у организации - получателя"" КАК Содержание
	|ИЗ
	|	ДокументыКОтражению КАК ДокументыКОтражению
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		ДокументИмя КАК Операция
	|	ПО
	|		ДокументыКОтражению.Ссылка = Операция.Ссылка
	|	
	|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
	|		РегистрНакопления.ПартииПрочихРасходов КАК Строки
	|	ПО
	|		Операция.Ссылка = Строки.Регистратор
	|		И Строки.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
	|		И Строки.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.РегистрацияРасходовУУ)
	|		И Строки.СтоимостьБезНДС <> 0";
	
	ТекстВозврата = СтрЗаменить(ТекстВозврата, "ДокументИмя", ДокументИмя);
	Возврат ТекстВозврата;
	
КонецФункции

Функция ТекстНДСПоДаннымФинпартий() Экспорт
	
	ВключениеНДСВРасходы = "
	|ВЫБРАТЬ //// Восстановление НДС по расходам (Дт <25, 26, 44> - Кт <19.3, 19.4>) @НДСпредъявленный
	|	Партии.Ссылка КАК Ссылка,
	|	Партии.Период КАК Период,
	|	Партии.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК ИдентификаторСтроки,
	|
	|	ВЫБОР КОГДА Партии.ВключениеНДСВСтоимость ТОГДА
	|		Партии.НДСРегл
	|	ИНАЧЕ
	|		-Партии.НДСРегл
	|	КОНЕЦ КАК Сумма,
	|	
	|	ВЫБОР КОГДА Партии.ВключениеНДСВСтоимость ТОГДА
	|		Партии.НДСУпр
	|	ИНАЧЕ
	|		-Партии.НДСУпр
	|	КОНЕЦ КАК СуммаУпр,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КАК ВидСчетаДт,
	|	Партии.СтатьяРасходов КАК АналитикаУчетаДт,
	|	Партии.ПодразделениеРасходов КАК МестоУчетаДт,
	|	
	|	НЕОПРЕДЕЛЕНО КАК ВалютаДт,
	|	Партии.ПодразделениеРасходов КАК ПодразделениеДт,
	|	Партии.КорНаправлениеДеятельности КАК НаправлениеДеятельностиДт,
	|
	|	НЕОПРЕДЕЛЕНО КАК СчетДт,
	|	Партии.СтатьяРасходов КАК СубконтоДт1,
	|	Партии.АналитикаРасходов КАК СубконтоДт2,
	|	ВЫБОР КОГДА СтатьиСтроительства.Ссылка ЕСТЬ NULL ТОГДА
	|		ЗНАЧЕНИЕ(Перечисление.ТипыЗатратРегл.Прочее)
	|	ИНАЧЕ
	|		ЗНАЧЕНИЕ(Перечисление.СпособыСтроительства.Подрядный)
	|	КОНЕЦ КАК СубконтоДт3,
	|
	|	0 КАК ВалютнаяСуммаДт,
	|	0 КАК КоличествоДт,
	|	0 КАК СуммаНУДт,
	|	0 КАК СуммаПРДт,
	|	0 КАК СуммаВРДт,
	|
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаКт,
	|	Партии.ВидДеятельностиНДС                                              КАК АналитикаУчетаКт,
	|	Партии.ВидЦенности                                                     КАК МестоУчетаКт,
	|
	|	НЕОПРЕДЕЛЕНО КАК ВалютаКт,
	|	НЕОПРЕДЕЛЕНО КАК ПодразделениеКт,
	|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, Партии.НаправлениеДеятельности) КАК НаправлениеДеятельностиКт,
	|
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка) КАК СчетКт,
	|	Партии.Контрагент КАК СубконтоКт1,
	|	Партии.ДокументПоступления КАК СубконтоКт2,
	|	Партии.ДокументРеализации КАК СубконтоКт3,
	|	
	|	0 КАК ВалютнаяСуммаКт,
	|	0 КАК КоличествоКт,
	|	0 КАК СуммаНУКт,
	|	0 КАК СуммаПРКт,
	|	0 КАК СуммаВРКт,
	|	""Списание НДС в расходы"" КАК Содержание
	|	
	|ИЗ
	|	Партии КАК Партии
	|	ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК СтатьиСтроительства
	|	ПО Партии.СтатьяРасходов = СтатьиСтроительства.Ссылка
	|		И СтатьиСтроительства.ВариантРаспределенияРасходовРегл = ЗНАЧЕНИЕ(Перечисление.ВариантыРаспределенияРасходов.НаВнеоборотныеАктивы)
	|	ЛЕВОЕ СОЕДИНЕНИЕ ВТВводСобственныхСредств КАК ВводСобственныхСредств
	|	ПО Партии.Ссылка = ВводСобственныхСредств.Ссылка
	|		И Партии.ДокументПоступления = ВводСобственныхСредств.СчетФактура
	|ГДЕ
	|	Партии.СтатьяРасходов ССЫЛКА ПланВидовХарактеристик.СтатьиРасходов
	|	И Партии.СтатьяРасходов <> ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ПустаяСсылка)
	|	И (НЕ Партии.ПодразделениеРасходов ЕСТЬ NULL ИЛИ Партии.СтатьяРасходов = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиРасходов.ВыбытияТоваровВПрошлыхПериодах))
	|	И (Партии.ВключениеНДСВСтоимость ИЛИ Партии.ИсключениеНДСИзСтоимости)
	|	И НЕ ТИПЗНАЧЕНИЯ(Партии.ДокументПоступления) В (ТИП(Документ.СчетФактураНалоговыйАгент),
	|													ТИП(Документ.СчетФактураПолученныйНалоговыйАгент))
	|";
	
	Возврат ВключениеНДСВРасходы;

КонецФункции

Функция ТекстНДСПоНДСПредъявленный() Экспорт
	
	Возврат 
		"ВЫБРАТЬ // Изменение вида деятельности НДС (Дт <19.Х> - Кт <19.Х>) @НДСпредъявленный
		|
		|	НДСПредъявленный.Регистратор КАК Ссылка,
		|	НДСПредъявленный.Период      КАК Период,
		|	НДСПредъявленный.Организация КАК Организация,
		|	НЕОПРЕДЕЛЕНО                 КАК ИдентификаторСтроки,
		|
		|	НДСПредъявленный.НДС         КАК Сумма,
		|	НДСПредъявленный.НДСУпр      КАК СуммаУУ,
		|
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаДт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.ВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаДт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаДт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаДт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеДт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.НаправлениеДеятельности) КАК НаправлениеДеятельностиДт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетДт,
		|
		|	НДСПредъявленный.Поставщик   КАК СубконтоДт1,
		|	НДСПредъявленный.СчетФактура КАК СубконтоДт2,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
		|	
		|	0 КАК ВалютнаяСуммаДт,
		|	0 КАК КоличествоДт,
		|	0 КАК СуммаНУДт,
		|	0 КАК СуммаПРДт,
		|	0 КАК СуммаВРДт,
		|	
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаКт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.КорВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаКт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаКт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаКт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеКт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.КорНаправлениеДеятельности) КАК НаправлениеДеятельностиКт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетКт,
		|	НДСПредъявленный.Поставщик   КАК СубконтоКт1,
		|	НДСПредъявленный.СчетФактура КАК СубконтоКт2,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
		|
		|	0 КАК ВалютнаяСуммаКт,
		|	0 КАК КоличествоКт,
		|	0 КАК СуммаНУКт,
		|	0 КАК СуммаПРКт,
		|	0 КАК СуммаВРКт,
		|	""Изменение вида деятельности НДС"" КАК Содержание
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.НДСПредъявленный КАК НДСПредъявленный
		|		ПО НДСПредъявленный.Регистратор = ДокументыКОтражению.Ссылка
		|		 И НДСПредъявленный.Событие = ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.ИзменениеВидаДеятельностиНДС)
		|		 И НДСПредъявленный.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
		|		 И НЕ НДСПредъявленный.КорВидДеятельностиНДС В (
		|			ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС),
		|			ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД))
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ ВТВводСобственныхСредств КАК ВводСобственныхСредств
		|	ПО ДокументыКОтражению.Ссылка = ВводСобственныхСредств.Ссылка
		|		И НДСПредъявленный.СчетФактура = ВводСобственныхСредств.СчетФактура
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = НДСПредъявленный.Организация
		|		И ДанныеПервичныхДокументов.Документ = НДСПредъявленный.СчетФактура
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ // Изменение направления деятельности (Дт <19.Х> - Кт <19.Х>) @НДСпредъявленный
		|
		|	НДСПредъявленный.Регистратор КАК Ссылка,
		|	НДСПредъявленный.Период      КАК Период,
		|	НДСПредъявленный.Организация КАК Организация,
		|	НЕОПРЕДЕЛЕНО                 КАК ИдентификаторСтроки,
		|
		|	НДСПредъявленный.НДС         КАК Сумма,
		|	НДСПредъявленный.НДСУпр      КАК СуммаУУ,
		|
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаДт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.ВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаДт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаДт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаДт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеДт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.НаправлениеДеятельности) КАК НаправлениеДеятельностиДт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетДт,
		|
		|	НДСПредъявленный.Поставщик   КАК СубконтоДт1,
		|	НДСПредъявленный.СчетФактура КАК СубконтоДт2,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
		|	
		|	0 КАК ВалютнаяСуммаДт,
		|	0 КАК КоличествоДт,
		|	0 КАК СуммаНУДт,
		|	0 КАК СуммаПРДт,
		|	0 КАК СуммаВРДт,
		|	
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаКт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.КорВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаКт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаКт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаКт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеКт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.КорНаправлениеДеятельности) КАК НаправлениеДеятельностиКт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетКт,
		|	НДСПредъявленный.Поставщик   КАК СубконтоКт1,
		|	НДСПредъявленный.СчетФактура КАК СубконтоКт2,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
		|
		|	0 КАК ВалютнаяСуммаКт,
		|	0 КАК КоличествоКт,
		|	0 КАК СуммаНУКт,
		|	0 КАК СуммаПРКт,
		|	0 КАК СуммаВРКт,
		|	""Изменение направления деятельности"" КАК Содержание
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.НДСПредъявленный КАК НДСПредъявленный
		|		ПО НДСПредъявленный.Регистратор = ДокументыКОтражению.Ссылка
		|		 И НДСПредъявленный.Событие = ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.ИзменениеНаправленияДеятельности)
		|		 И НДСПредъявленный.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ ВТВводСобственныхСредств КАК ВводСобственныхСредств
		|	ПО ДокументыКОтражению.Ссылка = ВводСобственныхСредств.Ссылка
		|		И НДСПредъявленный.СчетФактура = ВводСобственныхСредств.СчетФактура
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = НДСПредъявленный.Организация
		|		И ДанныеПервичныхДокументов.Документ = НДСПредъявленный.СчетФактура
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ // Реализация по ставке 0% (Дт <19.7> - Кт <19.Х>) @НДСпредъявленный
		|
		|	НДСПредъявленный.Регистратор КАК Ссылка,
		|	НДСПредъявленный.Период      КАК Период,
		|	НДСПредъявленный.Организация КАК Организация,
		|	НЕОПРЕДЕЛЕНО                 КАК ИдентификаторСтроки,
		|
		|	НДСПредъявленный.НДС         КАК Сумма,
		|	НДСПредъявленный.НДСУпр      КАК СуммаУУ,
		|
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаДт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.ВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаДт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаДт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаДт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеДт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.НаправлениеДеятельности) КАК НаправлениеДеятельностиДт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетДт,
		|
		|	НДСПредъявленный.Поставщик         КАК СубконтоДт1,
		|	НДСПредъявленный.СчетФактура       КАК СубконтоДт2,
		|	НДСПредъявленный.РеализацияЭкспорт КАК СубконтоДт3,
		|	
		|	0 КАК ВалютнаяСуммаДт,
		|	0 КАК КоличествоДт,
		|	0 КАК СуммаНУДт,
		|	0 КАК СуммаПРДт,
		|	0 КАК СуммаВРДт,
		|	
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаКт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.КорВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.КорВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаКт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаКт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаКт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеКт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.КорНаправлениеДеятельности) КАК НаправлениеДеятельностиКт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетКт,
		|	НДСПредъявленный.Поставщик   КАК СубконтоКт1,
		|	НДСПредъявленный.СчетФактура КАК СубконтоКт2,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
		|
		|	0 КАК ВалютнаяСуммаКт,
		|	0 КАК КоличествоКт,
		|	0 КАК СуммаНУКт,
		|	0 КАК СуммаПРКт,
		|	0 КАК СуммаВРКт,
		|	""Реализация по ставке 0%"" КАК Содержание
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
		|		РегистрНакопления.НДСПредъявленный КАК НДСПредъявленный
		|	ПО 
		|		НДСПредъявленный.Регистратор = ДокументыКОтражению.Ссылка
		|		И НДСПредъявленный.Событие = ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.Реализация)
		|		И НДСПредъявленный.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
		|		И НДСПредъявленный.ВидДеятельностиНДС В (
		|				ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт),
		|				ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортСырьевыхТоваровУслуг),
		|				ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров))
		|		И НЕ НДСПредъявленный.КорВидДеятельностиНДС В (
		|				ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС),
		|				ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяЕНВД))
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ ВТВводСобственныхСредств КАК ВводСобственныхСредств
		|	ПО ДокументыКОтражению.Ссылка = ВводСобственныхСредств.Ссылка
		|		И НДСПредъявленный.СчетФактура = ВводСобственныхСредств.СчетФактура
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = НДСПредъявленный.Организация
		|		И ДанныеПервичныхДокументов.Документ = НДСПредъявленный.СчетФактура
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ // Вычет НДС (Дт <68.02, 68.52> - Кт <19.Х>) @НДСпредъявленный
		|
		|	НДСПредъявленный.Регистратор КАК Ссылка,
		|	НДСПредъявленный.Период      КАК Период,
		|	НДСПредъявленный.Организация КАК Организация,
		|	НЕОПРЕДЕЛЕНО                 КАК ИдентификаторСтроки,
		|
		|	НДСПредъявленный.НДС         КАК Сумма,
		|	НДСПредъявленный.НДСУпр      КАК СуммаУУ,
		|
		|	НЕОПРЕДЕЛЕНО КАК ВидСчетаДт,
		|	НЕОПРЕДЕЛЕНО КАК АналитикаУчетаДт,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчетаДт,
		|
		|	&ВалютаРеглУчета КАК ВалютаДт,
		|	НЕОПРЕДЕЛЕНО КАК ПодразделениеДт,
		|	ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КАК НаправлениеДеятельностиДт,
		|
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.ВидЦенности = ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ТоварыНалоговыйАгент)
		|			ТОГДА ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСНалоговогоАгентаПоОтдельнымВидамТоваров)
		|		ИНАЧЕ ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДС)
		|	КОНЕЦ КАК СчетДт,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыПлатежейВГосБюджет.Налог) КАК СубконтоДт1,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоДт2,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоДт3,
		|	
		|	НДСПредъявленный.НДС КАК ВалютнаяСуммаДт,
		|	0 КАК КоличествоДт,
		|	0 КАК СуммаНУДт,
		|	0 КАК СуммаПРДт,
		|	0 КАК СуммаВРДт,
		|	
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаКт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.ВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаКт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаКт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаКт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеКт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.НаправлениеДеятельности) КАК НаправлениеДеятельностиКт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетКт,
		|	НДСПредъявленный.Поставщик   КАК СубконтоКт1,
		|	НДСПредъявленный.СчетФактура КАК СубконтоКт2,
		|	НДСПредъявленный.РеализацияЭкспорт КАК СубконтоКт3,
		|
		|	0 КАК ВалютнаяСуммаКт,
		|	0 КАК КоличествоКт,
		|	0 КАК СуммаНУКт,
		|	0 КАК СуммаПРКт,
		|	0 КАК СуммаВРКт,
		|	""Принятие НДС к вычету"" КАК Содержание
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
		|		РегистрНакопления.НДСПредъявленный КАК НДСПредъявленный
		|	ПО 
		|		НДСПредъявленный.Регистратор = ДокументыКОтражению.Ссылка
		|		И НДСПредъявленный.Событие В (
		|					ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.НДСПринятКВычету),
		|					ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.ПодтвержденаСтавка0),
		|					ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.НеПодтвержденаСтавка0),
		|					ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.НДСПоДЦПринятКВычету))
		|		И НДСПредъявленный.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ ВТВводСобственныхСредств КАК ВводСобственныхСредств
		|	ПО ДокументыКОтражению.Ссылка = ВводСобственныхСредств.Ссылка
		|		И НДСПредъявленный.СчетФактура = ВводСобственныхСредств.СчетФактура
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = НДСПредъявленный.Организация
		|		И ДанныеПервичныхДокументов.Документ = НДСПредъявленный.СчетФактура
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ // Восстановление НДС (Кт <19.Х> - Дт <68.02, 68.52>) @НДСпредъявленный
		|
		|	НДСПредъявленный.Регистратор КАК Ссылка,
		|	НДСПредъявленный.Период      КАК Период,
		|	НДСПредъявленный.Организация КАК Организация,
		|	НЕОПРЕДЕЛЕНО                 КАК ИдентификаторСтроки,
		|
		|	НДСПредъявленный.НДС         КАК Сумма,
		|	НДСПредъявленный.НДСУпр      КАК СуммаУУ,
		|	
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаДт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.ВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаДт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаДт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаДт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеДт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.НаправлениеДеятельности) КАК НаправлениеДеятельностиДт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетДт,
		|	НДСПредъявленный.Поставщик                                             КАК СубконтоДт1,
		|	НДСПредъявленный.СчетФактура КАК СубконтоДт2,
		|	НДСПредъявленный.РеализацияЭкспорт КАК СубконтоДт3,
		|
		|	0 КАК ВалютнаяСуммаДт,
		|	0 КАК КоличествоДт,
		|	0 КАК СуммаНУДт,
		|	0 КАК СуммаПРДт,
		|	0 КАК СуммаВРДт,
		|
		|	НЕОПРЕДЕЛЕНО КАК ВидСчетаКт,
		|	НЕОПРЕДЕЛЕНО КАК АналитикаУчетаКт,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчетаКт,
		|
		|	&ВалютаРеглУчета КАК ВалютаКт,
		|	НЕОПРЕДЕЛЕНО КАК ПодразделениеКт,
		|	ЗНАЧЕНИЕ(Справочник.НаправленияДеятельности.ПустаяСсылка) КАК НаправлениеДеятельностиКт,
		|
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.Событие = ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.ВосстановлениеНДСПоКСФ)
		|				И НДСПредъявленный.ВидЦенности = ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.ТоварыНалоговыйАгент)
		|			ТОГДА ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСНалоговогоАгентаПоОтдельнымВидамТоваров)
		|		ИНАЧЕ ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДС)
		|	КОНЕЦ                                               КАК СчетКт,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыПлатежейВГосБюджет.Налог) КАК СубконтоКт1,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоКт2,
		|	НЕОПРЕДЕЛЕНО КАК СубконтоКт3,
		|	
		|	НДСПредъявленный.НДС КАК ВалютнаяСуммаКт,
		|	0 КАК КоличествоКт,
		|	0 КАК СуммаНУКт,
		|	0 КАК СуммаПРКт,
		|	0 КАК СуммаВРКт,
		|	
		|	""Восстановление НДС"" КАК Содержание
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
		|		РегистрНакопления.НДСПредъявленный КАК НДСПредъявленный
		|	ПО 
		|		НДСПредъявленный.Регистратор = ДокументыКОтражению.Ссылка
		|		И НДСПредъявленный.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
		|		И НДСПредъявленный.Событие В (
		|				ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.ВосстановлениеНДСПодВидДеятельности),
		|				ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.ВосстановлениеНДСПоКСФ))
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ ВТВводСобственныхСредств КАК ВводСобственныхСредств
		|	ПО ДокументыКОтражению.Ссылка = ВводСобственныхСредств.Ссылка
		|		И НДСПредъявленный.СчетФактура = ВводСобственныхСредств.СчетФактура
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = НДСПредъявленный.Организация
		|		И ДанныеПервичныхДокументов.Документ = НДСПредъявленный.СчетФактура
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ // Списание НДС на расходы (Дт <91.02> - Кт <19.Х>) @НДСпредъявленный
		|
		|	НДСПредъявленный.Регистратор КАК Ссылка,
		|	НДСПредъявленный.Период      КАК Период,
		|	НДСПредъявленный.Организация КАК Организация,
		|	НЕОПРЕДЕЛЕНО                 КАК ИдентификаторСтроки,
		|
		|	НДСПредъявленный.НДС         КАК Сумма,
		|	НДСПредъявленный.НДСУпр      КАК СуммаУУ,
		|
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КАК ВидСчетаДт,
		|	НДСПредъявленный.СтатьяРасходов                    КАК АналитикаУчетаДт,
		|	НДСПредъявленный.Подразделение                     КАК МестоУчетаДт,
		|	
		|	НЕОПРЕДЕЛЕНО                                       КАК ВалютаДт,
		|	НДСПредъявленный.Подразделение                     КАК ПодразделениеДт,
		|	НДСПредъявленный.КорНаправлениеДеятельности        КАК НаправлениеДеятельностиДт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)     КАК СчетДт,
		|	
		|	НДСПредъявленный.СтатьяРасходов                    КАК СубконтоДт1,
		|	НДСПредъявленный.АналитикаРасходов                 КАК СубконтоДт2,
		|	НЕОПРЕДЕЛЕНО                                       КАК СубконтоДт3,
		|	
		|	0 КАК ВалютнаяСуммаДт,
		|	0 КАК КоличествоДт,
		|	0 КАК СуммаНУДт,
		|	0 КАК СуммаПРДт,
		|	0 КАК СуммаВРДт,
		|	
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаКт,
		|	ВЫБОР 
		|		КОГДА НДСПредъявленный.ВидДеятельностиНДС = ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ЭкспортНесырьевыхТоваров)
		|				И ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1,1,1)) < &ДатаНачалаДействия150ФЗ
		|			ТОГДА ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПродажаНаЭкспорт)
		|		ИНАЧЕ НДСПредъявленный.ВидДеятельностиНДС
		|	КОНЕЦ                                                                  КАК АналитикаУчетаКт,
		|	НДСПредъявленный.ВидЦенности                                           КАК МестоУчетаКт,
		|
		|	ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)                               КАК ВалютаКт,
		|	ЗНАЧЕНИЕ(Справочник.СтруктураПредприятия.ПустаяСсылка)                 КАК ПодразделениеКт,
		|	ЕСТЬNULL(ВводСобственныхСредств.НаправлениеДеятельности, НДСПредъявленный.НаправлениеДеятельности) КАК НаправлениеДеятельностиКт,
		|
		|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)                         КАК СчетКт,
		|	НДСПредъявленный.Поставщик   КАК СубконтоКт1,
		|	НДСПредъявленный.СчетФактура КАК СубконтоКт2,
		|	НДСПредъявленный.РеализацияЭкспорт КАК СубконтоКт3,
		|
		|	0 КАК ВалютнаяСуммаКт,
		|	0 КАК КоличествоКт,
		|	0 КАК СуммаНУКт,
		|	0 КАК СуммаПРКт,
		|	0 КАК СуммаВРКт,
		|	""Списание НДС на расходы"" КАК Содержание
		|ИЗ
		|	ДокументыКОтражению КАК ДокументыКОтражению
		|
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ 
		|		РегистрНакопления.НДСПредъявленный КАК НДСПредъявленный
		|	ПО 
		|		НДСПредъявленный.Регистратор = ДокументыКОтражению.Ссылка
		|		И НДСПредъявленный.Событие = ЗНАЧЕНИЕ(Перечисление.СобытияНДСПредъявленный.СписаниеНДСНаРасходы)
		|		И НДСПредъявленный.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ ВТВводСобственныхСредств КАК ВводСобственныхСредств
		|	ПО ДокументыКОтражению.Ссылка = ВводСобственныхСредств.Ссылка
		|		И НДСПредъявленный.СчетФактура = ВводСобственныхСредств.СчетФактура
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
		|	ПО
		|		ДанныеПервичныхДокументов.Организация = НДСПредъявленный.Организация
		|		И ДанныеПервичныхДокументов.Документ = НДСПредъявленный.СчетФактура
		|
		|";

КонецФункции

#КонецОбласти

#Область НастройкиОтражения

// Сопоставление порядка отражений и видов счетов учета
// (+) АвансыВыданные = ПорядокОтраженияРасчетовСПартнерами.СчетУчетаАвансовВыданных
// (+) АвансыПолученные = ПорядокОтраженияРасчетовСПартнерами.СчетУчетаАвансовПолученных
// (+) ВыручкаОтПродаж = ПорядокОтраженияНоменклатуры.СчетУчетаВыручкиОтПродаж
// (+) ВыручкаОтПродажКомиссионера = ПорядокОтраженияНоменклатурыПереданной.СчетУчетаВыручкиОтПродаж
// (+) Доходы = ПорядокОтраженияДоходов.СчетУчета
// (+) НаСкладе = ПорядокОтраженияНоменклатуры.СчетУчетаНаСкладе
// (+) НДСПриДоходах = ПорядокОтраженияДоходов.СчетУчета -> [ПрочиеРасходы | Продажи_НДС]
// (+) НДСПриПродаже = ПорядокОтраженияНоменклатуры.СчетУчетаНДСПриПродаже
// (+) НДСПриПродажеКомиссионера = ПорядокОтраженияНоменклатурыПереданной.СчетУчетаНДСПриПродаже
// (+) ПередачаНаКомиссию
// ПрочиеОперации - реализован в ЗапросПрочихСчетов
// (+) Расходы = ПорядокОтраженияРасходов.СчетУчета
// (+) РасчетыПоПретензиям = ПорядокОтраженияРасчетовСПартнерами.СчетУчетаРасчетовПоПретензиям
// (+) РасчетыСКлиентами = ПорядокОтраженияРасчетовСПартнерами.СчетУчетаРасчетовСКлиентами
// (+) РасчетыСПоставщиками = ПорядокОтраженияРасчетовСПартнерами.СчетУчетаРасчетовСПоставщиками
// (+) СебестоимостьПродаж = ПорядокОтраженияНоменклатуры.СчетУчетаСебестоимостиПродаж
// (+) СебестоимостьПродажКомиссионера = ПорядокОтраженияНоменклатурыПереданной.СчетУчетаСебестоимостиПродаж
//
Функция ЗапросСчетов() Экспорт
	
	ТекстИнициализации = "
	|ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	Настройка.Организация КАК Организация,
	|	Настройка.АналитикаУчета КАК АналитикаУчета,
	|	Настройка.МестоУчета КАК МестоУчета,
	|	Настройка.ВидСчетаРеглУчета КАК ВидСчетаРеглУчета,
	|	Настройка.СчетУчета КАК СчетУчета,
	|	План.ВидСубконто1 КАК ВидСубконто1,
	|	План.ВидСубконто2 КАК ВидСубконто2,
	|	План.ВидСубконто3 КАК ВидСубконто3,
	|	(ВЫБОР КОГДА Настройка.ИспользоватьСубконто И Настройка.ВидСубконто В (План.ВидСубконто1, План.ВидСубконто2, План.ВидСубконто3)
	|		ТОГДА Настройка.ИспользоватьСубконто ИНАЧЕ ЛОЖЬ КОНЕЦ) КАК ИспользоватьСубконто,
	|	(ВЫБОР КОГДА Настройка.ИспользоватьСубконто И Настройка.ВидСубконто В (План.ВидСубконто1, План.ВидСубконто2, План.ВидСубконто3)
	|		ТОГДА Настройка.ВидСубконто ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ) КАК ВидСубконто,
	|	(ВЫБОР КОГДА Настройка.ИспользоватьСубконто И Настройка.ВидСубконто В (План.ВидСубконто1, План.ВидСубконто2, План.ВидСубконто3)
	|		ТОГДА Настройка.Субконто ИНАЧЕ НЕОПРЕДЕЛЕНО КОНЕЦ) КАК Субконто
	|ПОМЕСТИТЬ Счета
	|ИЗ 
	|	НастройкаСчетов КАК Настройка
	|	ЛЕВОЕ СОЕДИНЕНИЕ ПланХозрасчетный КАК План
	|		ПО План.Ссылка = Настройка.СчетУчета
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	ВидСчетаРеглУчета,
	|	АналитикаУчета,
	|	МестоУчета
	|";
	
	
	ТекстНастройкаСчетов = "("
		+ ТекстПорядокОтраженияРасчетовСПартнерами()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияНоменклатуры()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияНоменклатурыПереданной()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияДоходов()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияРасходов()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияТМЦВЭксплуатации()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияПодарочныхСертификатов()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияПроизводства()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияРезервов()
		+ " ОБЪЕДИНИТЬ ВСЕ " + ТекстПорядокОтраженияНДСпоПриобретеннымЦенностям()
		+ ")";
	
	Возврат Новый Запрос(СтрЗаменить(ТекстИнициализации, "НастройкаСчетов", ТекстНастройкаСчетов));
	
КонецФункции

Функция ЗапросПрочихСчетов() Экспорт
	Возврат Новый Запрос("
		|ВЫБРАТЬ РАЗРЕШЕННЫЕ
		|	ПорядокУчета.Дата КАК Период,
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.Документ КАК Документ,
		|	ПорядокУчета.ИдентификаторСтроки КАК ИдентификаторСтроки,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПрочиеОперации) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчета КАК СчетУчета,
		|	ИСТИНА КАК ИспользоватьСубконто,
		|	ПорядокУчета.Субконто1 КАК Субконто1,
		|	ПорядокУчета.Субконто2 КАК Субконто2,
		|	ПорядокУчета.Субконто3 КАК Субконто3,
		|	План.ВидСубконто1 КАК ВидСубконто1,
		|	План.ВидСубконто2 КАК ВидСубконто2,
		|	План.ВидСубконто3 КАК ВидСубконто3
		|ПОМЕСТИТЬ
		|	ПрочиеСчета
		|ИЗ
		|	РегистрСведений.ПорядокОтраженияПрочихОпераций КАК ПорядокУчета
		|	ВНУТРЕННЕЕ СОЕДИНЕНИЕ
		|		ДокументыКОтражению КАК ДокументыКОтражению
		|	ПО
		|		ПорядокУчета.Документ = ДокументыКОтражению.Ссылка
		|	ЛЕВОЕ СОЕДИНЕНИЕ 
		|		ПланХозрасчетный КАК План
		|	ПО 
		|		План.Ссылка = ПорядокУчета.СчетУчета
		|ИНДЕКСИРОВАТЬ ПО
		|	Документ,
		|	Организация,
		|	ВидСчетаРеглУчета,
		|	ИдентификаторСтроки
		|");
КонецФункции

Функция ЗапросПланаСчетов() Экспорт
	ЗапросПлана = Новый Запрос;
	ЗапросПланаТекст = "
	    |ВЫБРАТЬ
		|	План.Ссылка КАК Ссылка,
		|	План.Валютный КАК Валютный,
		|	План.УчетПоПодразделениям КАК УчетПоПодразделениям,
		|	План.УчетПоНаправлениямДеятельности КАК УчетПоНаправлениямДеятельности,
		|	План.Забалансовый КАК Забалансовый,
		|	План.Количественный КАК Количественный,
		|	План.ЗапретитьИспользоватьВПроводках КАК ЗапретитьИспользоватьВПроводках,
		|	План.НалоговыйУчет КАК НалоговыйУчет,
		|	ЕСТЬNULL(Виды1.ВидСубконто, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КАК ВидСубконто1,
		|	ЕСТЬNULL(Виды2.ВидСубконто, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КАК ВидСубконто2,
		|	ЕСТЬNULL(Виды3.ВидСубконто, ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка)) КАК ВидСубконто3
		|ПОМЕСТИТЬ
		|	ПланХозрасчетный
		|ИЗ
		|	ПланСчетов.Хозрасчетный КАК План
		|	ЛЕВОЕ СОЕДИНЕНИЕ ПланСчетов.Хозрасчетный.ВидыСубконто КАК Виды1
		|		ПО План.Ссылка = Виды1.Ссылка И Виды1.НомерСтроки = 1
		|	ЛЕВОЕ СОЕДИНЕНИЕ ПланСчетов.Хозрасчетный.ВидыСубконто КАК Виды2
		|		ПО План.Ссылка = Виды2.Ссылка И Виды2.НомерСтроки = 2
		|	ЛЕВОЕ СОЕДИНЕНИЕ ПланСчетов.Хозрасчетный.ВидыСубконто КАК Виды3
		|		ПО План.Ссылка = Виды3.Ссылка И Виды3.НомерСтроки = 3
		|ИНДЕКСИРОВАТЬ ПО
		|	Ссылка
		|;
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка) КАК Ссылка,
		|	ТИП(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные) КАК ТипЗначения
		|ПОМЕСТИТЬ ВидыСубконто
		|ГДЕ ЛОЖЬ
		|";
	
	ЗапросПВХ = Новый Запрос("
		|ВЫБРАТЬ
		|	ПВХ.Ссылка КАК Ссылка,
		|	ПВХ.ТипЗначения КАК ТипЗначения
		|ИЗ
		|	ПланВидовХарактеристик.ВидыСубконтоХозрасчетные КАК ПВХ
		|");
	ВидСубконто = ЗапросПВХ.Выполнить().Выбрать();
	
	ИндексСтроки = 0;
	Пока ВидСубконто.Следующий() Цикл
		Для Каждого Тип Из ВидСубконто.ТипЗначения.Типы() Цикл
			ИмяТипа = Метаданные.НайтиПоТипу(Тип).ПолноеИмя();
			
			ТекстТипа = "
				|ВЫБРАТЬ
				|	ПВХ.Ссылка, 
				|	ТИП(&ПодстановкаТипа)
				|ИЗ ПланВидовХарактеристик.ВидыСубконтоХозрасчетные КАК ПВХ
				|ГДЕ ПВХ.Ссылка = &ПодстановкаСсылки
				|";
			ТекстТипа = СтрЗаменить(ТекстТипа, "&ПодстановкаТипа", ИмяТипа);
			ИмяПараметра = "Ссылка" + Формат(ИндексСтроки, "ЧГ=0");
			ТекстТипа = СтрЗаменить(ТекстТипа, "ПодстановкаСсылки", ИмяПараметра);
			
			ЗапросПланаТекст = ЗапросПланаТекст + " ОБЪЕДИНИТЬ ВСЕ " + ТекстТипа;
			ЗапросПлана.УстановитьПараметр(ИмяПараметра, ВидСубконто.Ссылка);
			
			ИндексСтроки = ИндексСтроки + 1;
		КонецЦикла;
	КонецЦикла;
	
	ЗапросПланаТекст = ЗапросПланаТекст + "
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка";
	
	ЗапросПлана.Текст = ЗапросПланаТекст;
	Возврат ЗапросПлана;
КонецФункции

#Область ЗапросСчетов

Функция ТекстПорядокОтраженияРасчетовСПартнерами()
	Возврат "
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСПоставщиками) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСПоставщиками КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыВыданные) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаАвансовВыданных КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКлиентами) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСКлиентами КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыПолученные) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаАвансовПолученных КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыПоПретензиям) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовПоПретензиям КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСПоставщикамиТара) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСПоставщикамиТара КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКлиентамиТара) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСКлиентамиТара КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиОсновнойДолг) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиОсновнойДолг КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиПроценты) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиПроценты КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиКомиссия) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиКомиссия КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиОсновнойДолг) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиОсновнойДолг КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиПроценты) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиПроценты КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиКомиссия) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиКомиссия КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НеотфактурованныеПоставки) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаНеотфактурованныеПоставки КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ЛизинговыеУслуги) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемЛизинговыеУслуги КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ОбеспечительныйПлатежПоЛизингу) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемОбеспечительныйПлатеж КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыкупПредметаЛизинга) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемВыкупПредметаЛизинга КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АрендныеОбязательстваПоЛизингу) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемАрендныеОбязательства КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
		|";
КонецФункции

Функция ТекстПорядокОтраженияНоменклатуры()
	Возврат "
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаНаСкладе КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродаж) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаВыручкиОтПродаж КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродаж) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаСебестоимостиПродаж КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродажЕНВД) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаВыручкиОтПродажЕНВД КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовЕНВД = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовЕНВД КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродажЕНВД) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаСебестоимостиПродажЕНВД КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовЕНВД = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовЕНВД КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриПродаже) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаНДСПриПродаже КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриЗакупке) КАК ВидСчетаРеглУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СчетУчетаНДСПриЗакупке = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка) ТОГДА
		|		ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСпоПриобретеннымМПЗ)
		|	ИНАЧЕ ПорядокУчета.СчетУчетаНДСПриЗакупке КОНЕЦ) КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РеализацияБезПереходаПраваСобственности) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаВПути КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	ПорядокУчета.Склад КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриОтгрузкеБезПереходаПраваСобственности) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаНДСВПути КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
		|";
КонецФункции

Функция ТекстПорядокОтраженияДоходов()
	Возврат "
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.СтатьяДоходов КАК АналитикаУчета,
		|	ПорядокУчета.Подразделение КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Доходы) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчета КАК СчетУчета,
		|	ИСТИНА КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходов КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияДоходов КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.СтатьяДоходов КАК АналитикаУчета,
		|	ПорядокУчета.Подразделение КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриДоходах) КАК ВидСчетаРеглУчета,
		|	(ВЫБОР
		|		КОГДА ПорядокУчета.СчетУчета = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеДоходы) ТОГДА
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеРасходы)
		|		КОГДА ПорядокУчета.СчетУчета = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ВыручкаНеЕНВД) ТОГДА
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.Продажи_НДС)
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)
		|	КОНЕЦ) КАК СчетУчета,
		|	ИСТИНА КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходов КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияДоходов КАК ПорядокУчета
		|";
КонецФункции

Функция ТекстПорядокОтраженияРасходов()
	Возврат "
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.СтатьяРасходов КАК АналитикаУчета,
		|	ПорядокУчета.Подразделение КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчета КАК СчетУчета,
		|	ИСТИНА КАК ИспользоватьСубконто,
		|	ПорядокУчета.ВидСубконто КАК ВидСубконто,
		|	ПорядокУчета.СтатьяРасходов КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасходов КАК ПорядокУчета
		|ГДЕ ПорядокУчета.СпособНастройкиСчетовУчета = ЗНАЧЕНИЕ(Перечисление.СпособыНастройкиСчетовУчета.ОдинаковоДляВсехДокументов)
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.СтатьяРасходов КАК АналитикаУчета,
		|	ПорядокУчета.Подразделение КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СписаниеРасходовОСНО) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетСписанияОСНО КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	ПорядокУчета.СтатьяРасходов КАК Субконто
		|ИЗ 
		|	РегистрСведений.ПорядокОтраженияРасходов КАК ПорядокУчета
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		ПланСчетов.Хозрасчетный.ВидыСубконто КАК ВидыСубконто
		|	ПО
		|		ПорядокУчета.СчетСписанияОСНО = ВидыСубконто.Ссылка
		|		И ВидыСубконто.ВидСубконто В (
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.СтатьиЗатрат),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.РасходыБудущихПериодов))
		|ГДЕ 
		|	ПорядокУчета.СпособНастройкиСчетовУчета = ЗНАЧЕНИЕ(Перечисление.СпособыНастройкиСчетовУчета.ОдинаковоДляВсехДокументов)
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.СтатьяРасходов КАК АналитикаУчета,
		|	ПорядокУчета.Подразделение КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СписаниеРасходовЕНВД) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетСписанияЕНВД КАК СчетУчета,
		|	ВЫБОР 
		|		КОГДА ВидыСубконто.Ссылка ЕСТЬ NULL
		|			ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА
		|	КОНЕЦ КАК ИспользоватьСубконто,
		|	ЕСТЬNULL(ВидыСубконто.ВидСубконто, НЕОПРЕДЕЛЕНО) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяРасходов КАК Субконто
		|ИЗ 
		|	РегистрСведений.ПорядокОтраженияРасходов КАК ПорядокУчета
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		ПланСчетов.Хозрасчетный.ВидыСубконто КАК ВидыСубконто
		|	ПО
		|		ПорядокУчета.СчетСписанияЕНВД = ВидыСубконто.Ссылка
		|		И ВидыСубконто.ВидСубконто В (
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.СтатьиЗатрат),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.РасходыБудущихПериодов))
		|ГДЕ 
		|	ПорядокУчета.СпособНастройкиСчетовУчета = ЗНАЧЕНИЕ(Перечисление.СпособыНастройкиСчетовУчета.ОдинаковоДляВсехДокументов)

		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.СтатьяРасходов КАК АналитикаУчета,
		|	ПорядокУчета.Подразделение КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасходыМЦ) КАК ВидСчетаРеглУчета,
		|	(ВЫБОР
		|		КОГДА ПорядокУчета.СчетУчета = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатации) ТОГДА
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатацииВспомогательный)
		|		КОГДА ПорядокУчета.СчетУчета = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецоснасткаВЭксплуатации) ТОГДА
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецоснасткаВЭксплуатацииВспомогательный)
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ИнвентарьИХозяйственныеПринадлежностиВЭксплуатации)
		|	КОНЕЦ) КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияРасходов КАК ПорядокУчета
		|ГДЕ ПорядокУчета.СпособНастройкиСчетовУчета = ЗНАЧЕНИЕ(Перечисление.СпособыНастройкиСчетовУчета.ОдинаковоДляВсехДокументов)
		|";
КонецФункции

Функция ТекстПорядокОтраженияТМЦВЭксплуатации()
	
	Возврат "
	|ВЫБРАТЬ
	|	ПорядокУчета.Организация КАК Организация,
	|	ПорядокУчета.КатегорияЭксплуатации КАК АналитикаУчета,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ТМЦВЭксплуатации) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияТМЦВЭксплуатации КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Организация КАК Организация,
	|	ПорядокУчета.КатегорияЭксплуатации КАК АналитикаУчета,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ТМЦВЭксплуатацииЗаБалансом) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетЗабалансовогоУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияТМЦВЭксплуатации КАК ПорядокУчета
	|";
	
КонецФункции

Функция ТекстПорядокОтраженияПодарочныхСертификатов()
	
	Возврат "
	|ВЫБРАТЬ
	|	ПорядокУчета.Организация КАК Организация,
	|	ПорядокУчета.ВидСертификата КАК АналитикаУчета,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыПоПодарочнымСертификатам) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияПодарочныхСертификатов КАК ПорядокУчета
	|";
	
КонецФункции

Функция ТекстПорядокОтраженияПроизводства()
	
	Возврат "
	|ВЫБРАТЬ
	|	ПорядокУчета.Организация КАК Организация,
	|	НЕОПРЕДЕЛЕНО КАК АналитикаУчета,
	|	ПорядокУчета.МестоПроизводства КАК МестоУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Производство) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияПроизводства КАК ПорядокУчета
	|";
	
КонецФункции

Функция ТекстПорядокОтраженияРезервов()
	
	Возврат "
	|ВЫБРАТЬ
	|	ПорядокУчета.Организация КАК Организация,
	|	ПорядокУчета.ВидРезервов КАК АналитикаУчета,
	|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Резервы) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРезервов КАК ПорядокУчета
	|";
	
КонецФункции

Функция ТекстПорядокОтраженияНДСпоПриобретеннымЦенностям()
	
	ТекстЗапросаНастройкаСчетовНДС = "
		|ВЫБРАТЬ
		|	Организации.Ссылка                                                     КАК Организация,
		|	НастройкаСчетовНДС.АналитикаУчета                                      КАК АналитикаУчета,
		|	НастройкаСчетовНДС.МестоУчета                                          КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСпоПриобретеннымЦенностям) КАК ВидСчетаРеглУчета,
		|	НастройкаСчетовНДС.СчетУчета                                           КАК СчетУчета,
		|	ЛОЖЬ                                                                   КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО                                                           КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО                                                           КАК Субконто
		|ИЗ
		|(
		|	ВЫБРАТЬ
		|		ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)         КАК АналитикаУчета,
		|		ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары)                        КАК МестоУчета,
		|		ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСпоПриобретеннымМПЗ)            КАК СчетУчета
		|)КАК НастройкаСчетовНДС
		|
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|	Справочник.Организации КАК Организации
		|ПО ИСТИНА
		|";
	
	НастройкиОтраженияНДС = Новый Массив;
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ПустаяСсылка","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ПродажаОблагаетсяНДС","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ЭкспортНесырьевыхТоваров","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ПоФактическомуИспользованию","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ОпределяетсяРаспределением","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ПродажаНеОблагаетсяНДС","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ОблагаетсяНДСУПокупателя","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","РеализацияРаботУслугНаЭкспорт","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"Товары","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ПустаяСсылка","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ПродажаОблагаетсяНДС","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ЭкспортНесырьевыхТоваров","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ПоФактическомуИспользованию","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ОпределяетсяРаспределением","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ОблагаетсяНДСУПокупателя","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","РеализацияРаботУслугНаЭкспорт","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ПрочиеРаботыИУслуги","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ПустаяСсылка","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ПродажаОблагаетсяНДС","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ЭкспортНесырьевыхТоваров","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ПоФактическомуИспользованию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ОпределяетсяРаспределением","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ОблагаетсяНДСУПокупателя","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","РеализацияРаботУслугНаЭкспорт","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОС","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ПустаяСсылка","НДСприСтроительствеОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ПродажаОблагаетсяНДС","НДСприСтроительствеОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ЭкспортНесырьевыхТоваров","НДСприСтроительствеОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ПоФактическомуИспользованию","НДСприСтроительствеОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ОпределяетсяРаспределением","НДСприСтроительствеОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ВводОСВЭксплуатацию","НДСприСтроительствеОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ОблагаетсяНДСУПокупателя","НДСприСтроительствеОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","РеализацияРаботУслугНаЭкспорт","НДСприСтроительствеОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ОбъектыНезавершенногоСтроительства","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ПустаяСсылка","НДСпоПриобретеннымНематериальнымАктивам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ПродажаОблагаетсяНДС","НДСпоПриобретеннымНематериальнымАктивам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ЭкспортНесырьевыхТоваров","НДСпоПриобретеннымНематериальнымАктивам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ПоФактическомуИспользованию","НДСпоПриобретеннымНематериальнымАктивам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ОпределяетсяРаспределением","НДСпоПриобретеннымНематериальнымАктивам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ВводОСВЭксплуатацию","НДСпоПриобретеннымНематериальнымАктивам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ОблагаетсяНДСУПокупателя","НДСпоПриобретеннымНематериальнымАктивам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","РеализацияРаботУслугНаЭкспорт","НДСпоПриобретеннымНематериальнымАктивам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НМА","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ПустаяСсылка","НДСУплачиваемыйТаможеннымОрганам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ПродажаОблагаетсяНДС","НДСУплачиваемыйТаможеннымОрганам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ЭкспортНесырьевыхТоваров","НДСУплачиваемыйТаможеннымОрганам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ПоФактическомуИспользованию","НДСУплачиваемыйТаможеннымОрганам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ОпределяетсяРаспределением","НДСУплачиваемыйТаможеннымОрганам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ОблагаетсяНДСУПокупателя","НДСУплачиваемыйТаможеннымОрганам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","РеализацияРаботУслугНаЭкспорт","НДСУплачиваемыйТаможеннымОрганам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныеПлатежи","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ПустаяСсылка","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ПродажаОблагаетсяНДС","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ЭкспортНесырьевыхТоваров","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ПоФактическомуИспользованию","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ОпределяетсяРаспределением","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ОблагаетсяНДСУПокупателя","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","РеализацияРаботУслугНаЭкспорт","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентАренда","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ПустаяСсылка","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ПродажаОблагаетсяНДС","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ЭкспортНесырьевыхТоваров","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ПоФактическомуИспользованию","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ОпределяетсяРаспределением","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ОблагаетсяНДСУПокупателя","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","РеализацияРаботУслугНаЭкспорт","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентРеализацияИмущества","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ПустаяСсылка","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ПродажаОблагаетсяНДС","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ЭкспортНесырьевыхТоваров","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ПоФактическомуИспользованию","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ОпределяетсяРаспределением","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ОблагаетсяНДСУПокупателя","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","РеализацияРаботУслугНаЭкспорт","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентИностранцы","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ПустаяСсылка","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ПродажаОблагаетсяНДС","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ЭкспортНесырьевыхТоваров","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ПоФактическомуИспользованию","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ОпределяетсяРаспределением","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ОблагаетсяНДСУПокупателя","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","РеализацияРаботУслугНаЭкспорт","НДСУплачиваемыйНалоговымАгентом");
	ДобавитьНастройку(НастройкиОтраженияНДС,"НалоговыйАгентЭлектронныеУслуги","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ПустаяСсылка","НДСУплачиваемыйПриИмпортеИзТаможенногоСоюза");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ПродажаОблагаетсяНДС","НДСУплачиваемыйПриИмпортеИзТаможенногоСоюза");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ЭкспортНесырьевыхТоваров","НДСУплачиваемыйПриИмпортеИзТаможенногоСоюза");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ПоФактическомуИспользованию","НДСУплачиваемыйПриИмпортеИзТаможенногоСоюза");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ОпределяетсяРаспределением","НДСУплачиваемыйПриИмпортеИзТаможенногоСоюза");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ОблагаетсяНДСУПокупателя","НДСУплачиваемыйПриИмпортеИзТаможенногоСоюза");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","РеализацияРаботУслугНаЭкспорт","НДСУплачиваемыйПриИмпортеИзТаможенногоСоюза");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТаможенныйСоюз","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ПустаяСсылка","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ПродажаОблагаетсяНДС","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ЭкспортНесырьевыхТоваров","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ПоФактическомуИспользованию","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ОпределяетсяРаспределением","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ПродажаНеОблагаетсяНДС","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ОблагаетсяНДСУПокупателя","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","РеализацияРаботУслугНаЭкспорт","НДСпоПриобретеннымМПЗ");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ТоварыНалоговыйАгент","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ПустаяСсылка","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ПродажаОблагаетсяНДС","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ПродажаНаЭкспорт","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ЭкспортНесырьевыхТоваров","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ЭкспортСырьевыхТоваровУслуг","НДСПоТоварамРеализованнымПоСтавке0");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ПоФактическомуИспользованию","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ОпределяетсяРаспределением","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ВводОСВЭксплуатацию","НДСприПриобретенииОсновныхСредств");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ОблагаетсяНДСУПокупателя","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","РеализацияРаботУслугНаЭкспорт","НДСпоПриобретеннымУслугам");
	ДобавитьНастройку(НастройкиОтраженияНДС,"ЭлектронныеУслуги","ПроизводствоСДЦ","НДСПоПродукцииСДлительнымПроизводственнымЦиклом");
	
	ТаблицаНастроек = СтрСоединить(НастройкиОтраженияНДС, " ОБЪЕДИНИТЬ ВСЕ ");
	
	ТекстЗапросаНастройкаСчетовНДС = СтрЗаменить(ТекстЗапросаНастройкаСчетовНДС,"
		|	ВЫБРАТЬ
		|		ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка)         КАК АналитикаУчета,
		|		ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары)                        КАК МестоУчета,
		|		ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСпоПриобретеннымМПЗ)            КАК СчетУчета
		|", ТаблицаНастроек);
	
	Возврат ТекстЗапросаНастройкаСчетовНДС;
	
КонецФункции

Процедура ДобавитьНастройку(НастройкиОтраженияНДС, ВидЦенности, Налогообложение, СчетУчета)
	
	ШаблонНастройки = "
	|	ВЫБРАТЬ
	|		ЗНАЧЕНИЕ(Перечисление.ТипыНалогообложенияНДС.ПустаяСсылка) КАК АналитикаУчета,
	|		ЗНАЧЕНИЕ(Перечисление.ВидыЦенностей.Товары)                КАК МестоУчета,
	|		ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСпоПриобретеннымМПЗ)    КАК СчетУчета
	|
	|";
	ШаблонНастройки = СтрЗаменить(ШаблонНастройки, "ПустаяСсылка",          Налогообложение);
	ШаблонНастройки = СтрЗаменить(ШаблонНастройки, "Товары",                ВидЦенности);
	ШаблонНастройки = СтрЗаменить(ШаблонНастройки, "НДСпоПриобретеннымМПЗ", СчетУчета);
	
	НастройкиОтраженияНДС.Добавить(ШаблонНастройки);
	
КонецПроцедуры

Функция ТекстПорядокОтраженияНоменклатурыПереданной()
	Возврат "
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродажКомиссионера) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаВыручкиОтПродаж КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродажКомиссионера) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаСебестоимостиПродаж КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриПродажеКомиссионера) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаНДСПриПродаже КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПередачаНаКомиссию) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаПередачиНаКомиссию КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПередачаВПереработку) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаПередачиВПереработку КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|ВЫБРАТЬ
		|	ПорядокУчета.Организация КАК Организация,
		|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
		|	НЕОПРЕДЕЛЕНО КАК МестоУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ЗатратыНаПриобретениеТМЦ) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчетаЗатратыНаПриобретение КАК СчетУчета,
		|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
		|ИЗ РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
		|";
КонецФункции

#КонецОбласти

#Область ЗапросСчетовПоУмолчанию

Функция ТекстСчетаОтраженияРасчетовСПартнерамиПоУмолчанию()
	
	ТекстЗапроса = Символы.ПС +
	"ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСПоставщиками) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСПоставщиками КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыВыданные) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаАвансовВыданных КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКлиентами) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКлиентами КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыПолученные) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаАвансовПолученных КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыПоПретензиям) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовПоПретензиям КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСПоставщикамиТара) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСПоставщикамиТара КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКлиентамиТара) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКлиентамиТара КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиОсновнойДолг) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиОсновнойДолг КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиПроценты) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиПроценты КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиКомиссия) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиКомиссия КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиОсновнойДолг) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиОсновнойДолг КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиПроценты) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиПроценты КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиКомиссия) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиКомиссия КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НеотфактурованныеПоставки) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНеотфактурованныеПоставки КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ЛизинговыеУслуги) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемЛизинговыеУслуги КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ОбеспечительныйПлатежПоЛизингу) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемОбеспечительныйПлатеж КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыкупПредметаЛизинга) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемВыкупПредметаЛизинга КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АрендныеОбязательстваПоЛизингу) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемАрендныеОбязательства КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаРасчетов КАК ПорядокУчета
	|";
	
	ТекстЗапроса = ТекстЗапроса + Символы.ПС + Символы.ПС + "ОБЪЕДИНИТЬ ВСЕ" + Символы.ПС + Символы.ПС +
	"ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСПоставщиками) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСПоставщиками КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыВыданные) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаАвансовВыданных КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКлиентами) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКлиентами КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АвансыПолученные) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаАвансовПолученных КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыПоПретензиям) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовПоПретензиям КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСПоставщикамиТара) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСПоставщикамиТара КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКлиентамиТара) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКлиентамиТара КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиОсновнойДолг) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиОсновнойДолг КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиПроценты) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиПроценты КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСКредиторамиКомиссия) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСКредиторамиКомиссия КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиОсновнойДолг) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиОсновнойДолг КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиПроценты) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиПроценты КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыСДебиторамиКомиссия) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСДебиторамиКомиссия КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НеотфактурованныеПоставки) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНеотфактурованныеПоставки КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ЛизинговыеУслуги) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемЛизинговыеУслуги КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ОбеспечительныйПлатежПоЛизингу) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемОбеспечительныйПлатеж КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыкупПредметаЛизинга) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемВыкупПредметаЛизинга КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АрендныеОбязательстваПоЛизингу) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРасчетовСЛизингодателемАрендныеОбязательства КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияРасчетовСПартнерами КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаРасчетов.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|";
	
	Возврат ТекстЗапроса + Символы.ПС;
	
КонецФункции

Функция ТекстСчетаОтраженияНоменклатурыПоУмолчанию()
	ТекстЗапроса = Символы.ПС +
	"ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНаСкладе КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродаж) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВыручкиОтПродаж КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродаж) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаСебестоимостиПродаж КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродажЕНВД) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВыручкиОтПродажЕНВД КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовЕНВД = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовЕНВД КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродажЕНВД) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаСебестоимостиПродажЕНВД КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовЕНВД = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовЕНВД КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриПродаже) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНДСПриПродаже КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриЗакупке) КАК ВидСчетаРеглУчета,
	|	(ВЫБОР 
	|		КОГДА ПорядокУчета.СчетУчетаНДСПриЗакупке <> ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)
	|			ТОГДА ПорядокУчета.СчетУчетаНДСПриЗакупке
	|		КОГДА ПорядокУчета.СчетУчетаНаСкладе = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ОборудованиеКУстановке)
	|				ИЛИ ПорядокУчета.СчетУчетаНаСкладе = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.КомпонентыОсновныхСредств) 
	|			ТОГДА ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСприПриобретенииОсновныхСредств)
	|		ИНАЧЕ ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСпоПриобретеннымМПЗ)
	|	КОНЕЦ) КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка) КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриЗакупке) КАК ВидСчетаРеглУчета,
	|	ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДСпоПриобретеннымМПЗ) КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РеализацияБезПереходаПраваСобственности) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВПути КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриОтгрузкеБезПереходаПраваСобственности) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНДСВПути КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|";
	
	ТекстЗапроса = ТекстЗапроса + Символы.ПС + Символы.ПС + "ОБЪЕДИНИТЬ ВСЕ" + Символы.ПС + Символы.ПС +
	"ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НаСкладе) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНаСкладе КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Склад = ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродаж) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВыручкиОтПродаж КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Склад = ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродаж) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаСебестоимостиПродаж КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Склад = ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродажЕНВД) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВыручкиОтПродажЕНВД КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовЕНВД = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовЕНВД КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Склад = ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродажЕНВД) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаСебестоимостиПродажЕНВД КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовЕНВД = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовЕНВД КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Склад = ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриПродаже) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНДСПриПродаже КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Склад = ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РеализацияБезПереходаПраваСобственности) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВПути КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Склад = ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриОтгрузкеБезПереходаПраваСобственности) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНДСВПути КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатуры КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Склад = ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)";
	
	Возврат ТекстЗапроса + Символы.ПС;
	
КонецФункции

Функция ТекстСчетаОтраженияДоходовПоУмолчанию()
	Возврат "
		|ВЫБРАТЬ
		|	ПорядокУчета.Ссылка КАК АналитикаУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Доходы) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчета КАК СчетУчета,
		|	ИСТИНА КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.Ссылка КАК Субконто
		|ИЗ 
		|	ПланВидовХарактеристик.СтатьиДоходов КАК ПорядокУчета
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ПорядокУчета.Ссылка КАК АналитикаУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриДоходах) КАК ВидСчетаРеглУчета,
		|	(ВЫБОР
		|		КОГДА ПорядокУчета.СчетУчета = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеДоходы) ТОГДА
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеРасходы)
		|		КОГДА ПорядокУчета.СчетУчета = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ВыручкаНеЕНВД) ТОГДА
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.Продажи_НДС)
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)
		|	КОНЕЦ) КАК СчетУчета,
		|	ИСТИНА КАК ИспользоватьСубконто,
		|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
		|	ПорядокУчета.Ссылка КАК Субконто
		|ИЗ 
		|	ПланВидовХарактеристик.СтатьиДоходов КАК ПорядокУчета
		|";
КонецФункции

Функция ТекстСчетаОтраженияРасходовПоУмолчанию()
	Возврат "
		|ВЫБРАТЬ
		|	ПорядокУчета.Ссылка КАК АналитикаУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Расходы) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетУчета КАК СчетУчета,
		|	ВЫБОР 
		|		КОГДА ВидыСубконто.Ссылка ЕСТЬ NULL
		|			ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА
		|	КОНЕЦ КАК ИспользоватьСубконто,
		|	ЕСТЬNULL(ВидыСубконто.ВидСубконто, НЕОПРЕДЕЛЕНО) КАК ВидСубконто,
		|	ПорядокУчета.Ссылка КАК Субконто
		|ИЗ 
		|	ПланВидовХарактеристик.СтатьиРасходов КАК ПорядокУчета
		|	
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		ПланСчетов.Хозрасчетный.ВидыСубконто КАК ВидыСубконто
		|	ПО
		|		ПорядокУчета.СчетУчета = ВидыСубконто.Ссылка
		|		И ВидыСубконто.ВидСубконто В (
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.СтатьиЗатрат),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.РасходыБудущихПериодов))
		|	
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ПорядокУчета.Ссылка КАК АналитикаУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СписаниеРасходовОСНО) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетСписанияОСНО КАК СчетУчета,
		|	ВЫБОР 
		|		КОГДА ВидыСубконто.Ссылка ЕСТЬ NULL
		|			ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА
		|	КОНЕЦ КАК ИспользоватьСубконто,
		|	ЕСТЬNULL(ВидыСубконто.ВидСубконто, НЕОПРЕДЕЛЕНО) КАК ВидСубконто,
		|	ПорядокУчета.Ссылка КАК Субконто
		|ИЗ 
		|	ПланВидовХарактеристик.СтатьиРасходов КАК ПорядокУчета
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		ПланСчетов.Хозрасчетный.ВидыСубконто КАК ВидыСубконто
		|	ПО
		|		ПорядокУчета.СчетУчета = ВидыСубконто.Ссылка
		|		И ВидыСубконто.ВидСубконто В (
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.СтатьиЗатрат),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.РасходыБудущихПериодов))

		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ПорядокУчета.Ссылка КАК АналитикаУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СписаниеРасходовЕНВД) КАК ВидСчетаРеглУчета,
		|	ПорядокУчета.СчетСписанияЕНВД КАК СчетУчета,
		|	ВЫБОР 
		|		КОГДА ВидыСубконто.Ссылка ЕСТЬ NULL
		|			ТОГДА ЛОЖЬ
		|		ИНАЧЕ ИСТИНА
		|	КОНЕЦ КАК ИспользоватьСубконто,
		|	ЕСТЬNULL(ВидыСубконто.ВидСубконто, НЕОПРЕДЕЛЕНО) КАК ВидСубконто,
		|	ПорядокУчета.Ссылка КАК Субконто
		|ИЗ 
		|	ПланВидовХарактеристик.СтатьиРасходов КАК ПорядокУчета
		|	ЛЕВОЕ СОЕДИНЕНИЕ
		|		ПланСчетов.Хозрасчетный.ВидыСубконто КАК ВидыСубконто
		|	ПО
		|		ПорядокУчета.СчетУчета = ВидыСубконто.Ссылка
		|		И ВидыСубконто.ВидСубконто В (
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.СтатьиЗатрат),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы),
		|			ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.РасходыБудущихПериодов))
		|	
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ПорядокУчета.Ссылка КАК АналитикаУчета,
		|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасходыМЦ) КАК ВидСчетаРеглУчета,
		|	(ВЫБОР
		|		КОГДА ПорядокУчета.СчетУчета = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатации) ТОГДА
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатацииВспомогательный)
		|		КОГДА ПорядокУчета.СчетУчета = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецоснасткаВЭксплуатации) ТОГДА
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецоснасткаВЭксплуатацииВспомогательный)
		|		ИНАЧЕ
		|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ИнвентарьИХозяйственныеПринадлежностиВЭксплуатации)
		|	КОНЕЦ) КАК СчетУчета,
		|	ЛОЖЬ КАК ИспользоватьСубконто,
		|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
		|	НЕОПРЕДЕЛЕНО КАК Субконто
		|ИЗ 
		|	ПланВидовХарактеристик.СтатьиРасходов КАК ПорядокУчета
		|";
КонецФункции

Функция ТекстСчетаОтраженияТМЦВЭксплуатацииПоУмолчанию()
	
	ТекстЗапроса = Символы.ПС +
	"ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ТМЦВЭксплуатации) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.КатегорииЭксплуатации КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ТМЦВЭксплуатацииЗаБалансом) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетЗабалансовогоУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.КатегорииЭксплуатации КАК ПорядокУчета";
	
	ТекстЗапроса = ТекстЗапроса + Символы.ПС + Символы.ПС + "ОБЪЕДИНИТЬ ВСЕ" + Символы.ПС + Символы.ПС +
	"ВЫБРАТЬ
	|	ПорядокУчета.КатегорияЭксплуатации КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ТМЦВЭксплуатации) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияТМЦВЭксплуатации КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.КатегорияЭксплуатации = ЗНАЧЕНИЕ(Справочник.КатегорииЭксплуатации.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.КатегорияЭксплуатации КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ТМЦВЭксплуатацииЗаБалансом) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетЗабалансовогоУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	РегистрСведений.ПорядокОтраженияТМЦВЭксплуатации КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.КатегорияЭксплуатации = ЗНАЧЕНИЕ(Справочник.КатегорииЭксплуатации.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)";
	
	Возврат ТекстЗапроса + Символы.ПС;
	
КонецФункции

Функция ТекстСчетаОтраженияПодарочныхСертификатовПоУмолчанию()
	
	Возврат "
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РасчетыПоПодарочнымСертификатам) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ВидыПодарочныхСертификатов КАК ПорядокУчета
	|";
	
КонецФункции

Функция ТекстСчетаОтраженияДенежныхСредствПоУмолчанию()
	
	Возврат "
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ДенежныеСредства) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ИСТИНА КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.БанковскиеСчета) КАК ВидСубконто,
	|	ПорядокУчета.Ссылка КАК Субконто
	|ИЗ
	|	Справочник.БанковскиеСчетаОрганизаций КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ДенежныеСредства) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.Кассы КАК ПорядокУчета
	|";
	
КонецФункции

Функция ТекстСчетаОтраженияВнеоборотныхАктивов()
	
	Возврат "
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АмортизацияВНА) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаАмортизации КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаВнеоборотныхАктивов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.АмортизацияВНА_ЦФ) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаАмортизацииЦФ КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаВнеоборотныхАктивов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыбытиеВНА) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВыбытия КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаВнеоборотныхАктивов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СтоимостьВНА) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаВнеоборотныхАктивов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СтоимостьВНА_ЦФ) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаЦФ КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаВнеоборотныхАктивов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.РезервДооценкиВНА) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаРезерваДооценки КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаВнеоборотныхАктивов КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ЗабалансовыйУчетВНА) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетЗабалансовогоУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.ГруппыФинансовогоУчетаВнеоборотныхАктивов КАК ПорядокУчета
	|";
	
КонецФункции

Функция ТекстСчетаОтраженияНоменклатурыПереданнойПоУмолчанию()
	ТекстЗапроса = Символы.ПС +
	"ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродажКомиссионера) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВыручкиОтПродаж КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродажКомиссионера) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаСебестоимостиПродаж КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриПродажеКомиссионера) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНДСПриПродаже КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПередачаНаКомиссию) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаПередачиНаКомиссию КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПередачаВПереработку) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаПередачиВПереработку КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ЗатратыНаПриобретениеТМЦ) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаЗатратыНаПриобретение КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	Справочник.ГруппыФинансовогоУчетаНоменклатуры КАК ПорядокУчета";
	
	ТекстЗапроса = ТекстЗапроса + Символы.ПС + Символы.ПС + "ОБЪЕДИНИТЬ ВСЕ" + Символы.ПС + Символы.ПС +
	"ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ВыручкаОтПродажКомиссионера) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаВыручкиОтПродаж КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.СебестоимостьПродажКомиссионера) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаСебестоимостиПродаж КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.НДСПриПродажеКомиссионера) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаНДСПриПродаже КАК СчетУчета,
	|	(ВЫБОР КОГДА ПорядокУчета.СтатьяДоходовОСНО = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СтатьиДоходов.ПустаяСсылка) ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА КОНЕЦ) КАК ИспользоватьСубконто,
	|	ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы) КАК ВидСубконто,
	|	ПорядокУчета.СтатьяДоходовОСНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПередачаНаКомиссию) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаПередачиНаКомиссию КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ПередачаВПереработку) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаПередачиВПереработку КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ПорядокУчета.ГруппаФинансовогоУчета КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.ЗатратыНаПриобретениеТМЦ) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчетаЗатратыНаПриобретение КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ 
	|	РегистрСведений.ПорядокОтраженияНоменклатурыПереданной КАК ПорядокУчета
	|ГДЕ
	|	ПорядокУчета.ГруппаФинансовогоУчета = ЗНАЧЕНИЕ(Справочник.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка)
	|	И ПорядокУчета.Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)";
	
	Возврат ТекстЗапроса + Символы.ПС;
		
КонецФункции

Функция ТекстСчетаОтраженияРезервовПоУмолчанию()
	
	Возврат "
	|ВЫБРАТЬ
	|	ПорядокУчета.Ссылка КАК АналитикаУчета,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСчетовРеглУчета.Резервы) КАК ВидСчетаРеглУчета,
	|	ПорядокУчета.СчетУчета КАК СчетУчета,
	|	ЛОЖЬ КАК ИспользоватьСубконто,
	|	НЕОПРЕДЕЛЕНО КАК ВидСубконто,
	|	НЕОПРЕДЕЛЕНО КАК Субконто
	|ИЗ
	|	Справочник.Резервы КАК ПорядокУчета
	|";
	
КонецФункции

#КонецОбласти

#КонецОбласти

#Область ПрочиеПроцедурыИФункции

Функция ТипыОбъектовРасчетовСКлиентами() Экспорт
	Возврат Метаданные.РегистрыНакопления["РасчетыСКлиентамиПоДокументам"].Измерения.ЗаказКлиента.Тип;
КонецФункции

Функция ТипыОбъектовРасчетовСПоставщиками() Экспорт
	Возврат Метаданные.РегистрыНакопления["РасчетыСПоставщикамиПоДокументам"].Измерения.ЗаказПоставщику.Тип;
КонецФункции

Функция ТекстВТОтраженияДокумента(ДокументИмя)
	
	ТекстВТОтраженияДокумента = "";
	ТекстОшибки = "";
	
	ИмяОбщегоМодуляДляОтражения = ДокументыИОбщиеМодулиОписывающиеОтражениеВРеглУчете().Получить(ДокументИмя);
	Если ИмяОбщегоМодуляДляОтражения = Неопределено Тогда
		Попытка
			ТекстВТОтраженияДокумента = Документы[ДокументИмя].ТекстЗапросаВТОтраженияВРеглУчете();
		Исключение
			ТекстОшибки = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(
				НСтр("ru = 'В модуле менеджера документа %1 отсутствует функция ТекстЗапросаВТОтраженияВРеглУчете()'"), ДокументИмя);
		КонецПопытки;
	ИначеЕсли ЗначениеЗаполнено(ИмяОбщегоМодуляДляОтражения) Тогда
		Попытка
			ТекстВТОтраженияДокумента = ОбщегоНазначения.ОбщийМодуль(ИмяОбщегоМодуляДляОтражения).ТекстЗапросаВТОтраженияВРеглУчете(ДокументИмя);
		Исключение
			ТекстОшибки = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(
				НСтр("ru = 'Для документа %1 в общем модуле %2 отсутствует функция ТекстЗапросаВТОтраженияВРеглУчете()'"),
				ДокументИмя, ИмяОбщегоМодуляДляОтражения);
		КонецПопытки;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ТекстОшибки) Тогда
		ЗаписьЖурналаРегистрации(
			НСтр("ru = 'Отражение в регламентированном учете'", ОбщегоНазначения.КодОсновногоЯзыка()), 
			УровеньЖурналаРегистрации.Ошибка, , , ТекстОшибки);
		ВызватьИсключение ТекстОшибки;
	КонецЕсли;

	Возврат ТекстВТОтраженияДокумента;
	
КонецФункции

Функция ТекстОтраженияДокумента(ДокументИмя)
	
	ТекстОтраженияВРеглУчете = "";
	ТекстОшибки = "";
	
	ИмяОбщегоМодуляДляОтражения = ДокументыИОбщиеМодулиОписывающиеОтражениеВРеглУчете().Получить(ДокументИмя);
	Если ИмяОбщегоМодуляДляОтражения = Неопределено Тогда
		Попытка
			ТекстОтраженияВРеглУчете = Документы[ДокументИмя].ТекстОтраженияВРеглУчете();
		Исключение
			ТекстОшибки = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(
				НСтр("ru = 'В модуле менеджера документа %1 отсутствует функция ТекстОтраженияВРеглУчете()'"), ДокументИмя);
		КонецПопытки;
	ИначеЕсли ЗначениеЗаполнено(ИмяОбщегоМодуляДляОтражения) Тогда
		Попытка
			ТекстОтраженияВРеглУчете = ОбщегоНазначения.ОбщийМодуль(ИмяОбщегоМодуляДляОтражения).ТекстОтраженияВРеглУчете(ДокументИмя);
		Исключение
			ТекстОшибки = ОписаниеОшибки();
		КонецПопытки;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ТекстОшибки) Тогда
		ЗаписьЖурналаРегистрации(
			НСтр("ru = 'Отражение в регламентированном учете'", ОбщегоНазначения.КодОсновногоЯзыка()), 
			УровеньЖурналаРегистрации.Ошибка, , , ТекстОшибки);
		ВызватьИсключение ТекстОшибки;
	КонецЕсли;
	
	Возврат СокрЛП(ТекстОтраженияВРеглУчете);
	
КонецФункции

Функция ВТЗапроса(ТекстЗапроса) Экспорт
	
	ВТЗапроса = Новый Массив;
	
	Если ТекстЗапроса = "" Тогда
		Возврат ВТЗапроса;
	КонецЕсли;
	
	СхемаЗапроса = Новый СхемаЗапроса;
	СхемаЗапроса.УстановитьТекстЗапроса(ТекстЗапроса);
	Для каждого Пакет Из СхемаЗапроса.ПакетЗапросов Цикл
		Если ЗначениеЗаполнено(Пакет.ТаблицаДляПомещения) Тогда
			ВТЗапроса.Добавить(Пакет.ТаблицаДляПомещения);
		КонецЕсли;
	КонецЦикла;
	
	Возврат ВТЗапроса;
	
КонецФункции

Функция ШаблонКомментарияОшибок(КодОшибки) Экспорт
	Если КодОшибки = "СЧЕТ_ЗАПРЕЩЕН" Тогда
		Возврат НСтр(
			"ru = 'Для учета ""%ВидСчета%"" %Измерение%%МестоАналитика% указан запрещенный счет ""%Счет%"".'", ОбщегоНазначения.КодОсновногоЯзыка());
	ИначеЕсли КодОшибки = "СЧЕТ_ЗАБАЛАНСОВЫЙ" Тогда
		Возврат НСтр(
			"ru = 'Для учета ""%ВидСчета%"" %Измерение%%МестоАналитика% указан забалансовый счет ""%Счет%"".'", ОбщегоНазначения.КодОсновногоЯзыка());
	ИначеЕсли КодОшибки = "СЧЕТ_ПУСТОЙ" Тогда
		Возврат НСтр(
			"ru = 'Для учета ""%ВидСчета%"" %Измерение%%МестоАналитика% не указан счет.'", ОбщегоНазначения.КодОсновногоЯзыка());
	Иначе
		Возврат НСтр("ru = 'Неизвестная ошибка формирования проводок!'", ОбщегоНазначения.КодОсновногоЯзыка());
	КонецЕсли
КонецФункции

Функция СтрокаМестоАналитика(МестоУчета, АналитикаУчета) Экспорт
	Место = "";
	Если ЗначениеЗаполнено(МестоУчета) Тогда
		ТипМеста = ТипЗнч(МестоУчета);
		Если ТипМеста = Тип("СправочникСсылка.Склады") Тогда
			Место = НСтр("ru='на складе ""%МестоУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ТипМеста = Тип("СправочникСсылка.СтруктураПредприятия") Тогда
			Место = НСтр("ru='в подразделении ""%МестоУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ТипМеста = Тип("СправочникСсылка.Партнеры") Тогда
			Место = НСтр("ru='по партнеру ""%МестоУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ТипМеста = Тип("ПеречислениеСсылка.ВидыЦенностей") Тогда
			Место = НСтр("ru='по виду ценности ""%МестоУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		Иначе
			Место = НСтр("ru='по месту учета ""%МестоУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		КонецЕсли;
		Место = " " + СтрЗаменить(Место, "%МестоУчета%", Строка(МестоУчета));
	КонецЕсли;
	
	Аналитика = "";
	Если ЗначениеЗаполнено(АналитикаУчета) Тогда
		ТипАналитики = ТипЗнч(АналитикаУчета);
		ЭтоГФУ = (ТипАналитики = Тип("СправочникСсылка.ГруппыФинансовогоУчетаРасчетов")
			Или ТипАналитики = Тип("СправочникСсылка.ГруппыФинансовогоУчетаНоменклатуры")
			Или ТипАналитики = Тип("СправочникСсылка.ГруппыФинансовогоУчетаВнеоборотныхАктивов"));
		ЭтоСтатья = (ТипАналитики = Тип("ПланВидовХарактеристикСсылка.СтатьиДоходов")
			Или ТипАналитики = Тип("ПланВидовХарактеристикСсылка.СтатьиРасходов"));
		ЭтоКатегорияЭксплуатации = (ТипАналитики = Тип("СправочникСсылка.КатегорииЭксплуатации"));
		ЭтоВидПодарочногоСертификата = ТипАналитики = Тип("СправочникСсылка.ВидыПодарочныхСертификатов");
		ЭтоБанковскийСчет = ТипАналитики = Тип("СправочникСсылка.БанковскиеСчетаОрганизаций");
		ЭтоКасса = ТипАналитики = Тип("СправочникСсылка.Кассы");
		
		Если ЭтоГФУ Тогда
			Аналитика = НСтр("ru='по группе фин. учета ""%АналитикаУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ЭтоСтатья Тогда
			Аналитика = НСтр("ru='по статье ""%АналитикаУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ЭтоКатегорияЭксплуатации Тогда
			Аналитика = НСтр("ru='для категории эксплуатации ""%АналитикаУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ЭтоВидПодарочногоСертификата Тогда
			Аналитика = НСтр("ru='для вида подарочного сертификата ""%АналитикаУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ЭтоБанковскийСчет Тогда
			Аналитика = НСтр("ru='для банковского счета ""%АналитикаУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ЭтоКасса Тогда
			Аналитика = НСтр("ru='для кассы ""%АналитикаУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ТипАналитики = Тип("ПеречислениеСсылка.ТипыНалогообложенияНДС") Тогда
			Аналитика = НСтр("ru='для налогообложения ""%АналитикаУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		Иначе
			Аналитика = НСтр("ru='для аналитики учета ""%АналитикаУчета%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		КонецЕсли;
		Аналитика = " " + СтрЗаменить(Аналитика, "%АналитикаУчета%", Строка(АналитикаУчета));
	КонецЕсли;
	
	Возврат Место + Аналитика;
КонецФункции

Функция СтрокаИзмерениеНастройки(ВидСчета, ИдентификаторСтроки, Организация) Экспорт
	
	Результат = "";
	Если ВидСчета = Перечисления.ВидыСчетовРеглУчета.ПрочиеАктивыПассивы Тогда
		Если ЗначениеЗаполнено(ИдентификаторСтроки) Тогда
			Результат = НСтр("ru='в строке ""%ИдентификаторСтроки%"" документа'", ОбщегоНазначения.КодОсновногоЯзыка());
			Результат = СтрЗаменить(Результат, "%ИдентификаторСтроки%", Строка(ИдентификаторСтроки));
		Иначе
			Результат = НСтр("ru='в документе'", ОбщегоНазначения.КодОсновногоЯзыка());
		КонецЕсли;
	Иначе
		Результат = НСтр("ru='в организации ""%Организация%""'", ОбщегоНазначения.КодОсновногоЯзыка());
		Результат = СтрЗаменить(Результат, "%Организация%", Строка(Организация));
	КонецЕсли;
	
	Возврат " " + Результат;
	
КонецФункции

Функция СтрокаВидСчета(ВидСчета, ДополнительнаяИнформацияРасчетовСПартнерами) Экспорт
	
	Результат = Строка(ВидСчета);
	
	Если ЗначениеЗаполнено(ДополнительнаяИнформацияРасчетовСПартнерами) Тогда
		Если ДополнительнаяИнформацияРасчетовСПартнерами = "РасчетыСКомиссионерами"
			И ВидСчета = Перечисления.ВидыСчетовРеглУчета.РасчетыСКлиентами Тогда
			Результат = НСтр("ru = 'Расчеты с комиссионерами по товарам'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ДополнительнаяИнформацияРасчетовСПартнерами = "РасчетыСКомиссионерами"
			И ВидСчета = Перечисления.ВидыСчетовРеглУчета.РасчетыСПоставщиками Тогда
			Результат = НСтр("ru = 'Расчеты с комиссионерами по вознаграждению'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ДополнительнаяИнформацияРасчетовСПартнерами = "РасчетыСКомиссионерами"
			И ВидСчета = Перечисления.ВидыСчетовРеглУчета.АвансыПолученные Тогда
			Результат = НСтр("ru = 'Авансы с комиссионерами по товарам'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ДополнительнаяИнформацияРасчетовСПартнерами = "РасчетыСКомиссионерами"
			И ВидСчета = Перечисления.ВидыСчетовРеглУчета.АвансыВыданные Тогда
			Результат = НСтр("ru = 'Авансы с комиссионерами по вознаграждению'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ДополнительнаяИнформацияРасчетовСПартнерами = "РасчетыСКомитентами"
			И ВидСчета = Перечисления.ВидыСчетовРеглУчета.РасчетыСПоставщиками Тогда
			Результат = НСтр("ru = 'Расчеты с комитентами по товарам'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ДополнительнаяИнформацияРасчетовСПартнерами = "РасчетыСКомитентами"
			И ВидСчета = Перечисления.ВидыСчетовРеглУчета.РасчетыСКлиентами Тогда
			Результат = НСтр("ru = 'Расчеты с комитентами по вознаграждению'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ДополнительнаяИнформацияРасчетовСПартнерами = "РасчетыСКомитентами"
			И ВидСчета = Перечисления.ВидыСчетовРеглУчета.АвансыВыданные Тогда
			Результат = НСтр("ru = 'Авансы с комитентами по товарам'", ОбщегоНазначения.КодОсновногоЯзыка());
		ИначеЕсли ДополнительнаяИнформацияРасчетовСПартнерами = "РасчетыСКомитентами"
			И ВидСчета = Перечисления.ВидыСчетовРеглУчета.АвансыПолученные Тогда
			Результат = НСтр("ru = 'Авансы с комитентами по вознаграждению'", ОбщегоНазначения.КодОсновногоЯзыка());
		КонецЕсли;
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

Функция ЭтоОбъектРасчетов(ДокументИмя) Экспорт
	ТипыСКлиентами = Метаданные.ОпределяемыеТипы.ОбъектРасчетовСКлиентами.Тип;
	ТипыСПоставщиками = Метаданные.ОпределяемыеТипы.ОбъектРасчетовСПоставщиками.Тип;
	ДокументТип = Тип("ДокументСсылка." + ДокументИмя);
	Возврат ТипыСКлиентами.СодержитТип(ДокументТип) ИЛИ ТипыСПоставщиками.СодержитТип(ДокументТип);
КонецФункции

Функция ЭтоРасчетныйДокумент(ДокументИмя) Экспорт
	ТипыСКлиентами = Метаданные.ОпределяемыеТипы.РасчетныйДокументСКлиентом.Тип;
	ТипыСПоставщиками = Метаданные.ОпределяемыеТипы.РасчетныйДокументСПоставщиком.Тип;
	ДокументТип = Тип("ДокументСсылка." + ДокументИмя);
	Возврат ТипыСКлиентами.СодержитТип(ДокументТип) ИЛИ ТипыСПоставщиками.СодержитТип(ДокументТип);
КонецФункции

Функция ТипыДокументовКПоследовательномуОтражению() Экспорт
	
	Результат = Новый Массив;
	
	// Документы учета ОС
	Результат.Добавить(Тип("ДокументСсылка.ВводОстатковВнеоборотныхАктивов"));
	Результат.Добавить(Тип("ДокументСсылка.ПринятиеКУчетуОС"));
	Результат.Добавить(Тип("ДокументСсылка.МодернизацияОС"));
	Результат.Добавить(Тип("ДокументСсылка.ПеремещениеОС"));
	Результат.Добавить(Тип("ДокументСсылка.ПодготовкаКПередачеОС"));
	Результат.Добавить(Тип("ДокументСсылка.СписаниеОС"));
	Результат.Добавить(Тип("ДокументСсылка.АмортизацияОС"));
	Результат.Добавить(Тип("ДокументСсылка.ИзменениеПараметровОС"));
	Результат.Добавить(Тип("ДокументСсылка.ПередачаОСАрендатору"));
	Результат.Добавить(Тип("ДокументСсылка.ВозвратОСОтАрендатора"));
	Результат.Добавить(Тип("ДокументСсылка.ПоступлениеАрендованныхОС"));
	Результат.Добавить(Тип("ДокументСсылка.ВыбытиеАрендованныхОС"));
	Результат.Добавить(Тип("ДокументСсылка.ПереоценкаОС"));
	
	// Документы учета НМА
	Результат.Добавить(Тип("ДокументСсылка.ПринятиеКУчетуНМА"));
	Результат.Добавить(Тип("ДокументСсылка.СписаниеНМА"));
	Результат.Добавить(Тип("ДокументСсылка.АмортизацияНМА"));
	Результат.Добавить(Тип("ДокументСсылка.ПодготовкаКПередачеНМА"));
	Результат.Добавить(Тип("ДокументСсылка.ПереоценкаНМА"));
	
	// Регламентные документы не требуется отражать пакетно
	Результат.Добавить(Тип("ДокументСсылка.РаспределениеНДС"));
	Результат.Добавить(Тип("ДокументСсылка.РасчетСебестоимостиТоваров"));
	Результат.Добавить(Тип("ДокументСсылка.РаспределениеДоходовПоНаправлениямДеятельности"));
	Результат.Добавить(Тип("ДокументСсылка.РегламентнаяОперация"));
	
	Возврат Результат;
	
КонецФункции

Функция ИспользуемыеТаблицыДляОтраженияТипа(ИмяТипаДокумента) Экспорт

	ТаблицыТиповДокументов = Новый Соответствие;

	// ++РУЧНОЙ СБОР
	// АмортизацияНМА
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеНМА");
	ТаблицыДокумента.Добавить("РегистрБухгалтерии.Хозрасчетный");
	ТаблицыДокумента.Добавить("РегистрСведений.СчетаБухгалтерскогоУчетаНМА");
	ТаблицыТиповДокументов.Вставить("АмортизацияНМА", ТаблицыДокумента);
	
	// АмортизацияОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеОС");
	ТаблицыДокумента.Добавить("РегистрСведений.МестонахождениеОСБухгалтерскийУчет");
	ТаблицыДокумента.Добавить("РегистрСведений.СчетаБухгалтерскогоУчетаОС");
	ТаблицыТиповДокументов.Вставить("АмортизацияОС", ТаблицыДокумента);
	
	// КорректировкаНалогообложенияНДСПартийТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.КорректировкаНалогообложенияНДСПартийТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПартииТоваровОрганизаций");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаПартий");
	ТаблицыТиповДокументов.Вставить("КорректировкаНалогообложенияНДСПартийТоваров", ТаблицыДокумента);
	
	// ПеремещениеОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПеремещениеОС");
	ТаблицыДокумента.Добавить("Документ.СписаниеОС");
	ТаблицыДокумента.Добавить("РегистрСведений.МестонахождениеОСБухгалтерскийУчет");
	ТаблицыДокумента.Добавить("РегистрСведений.СчетаБухгалтерскогоУчетаОС");
	ТаблицыТиповДокументов.Вставить("ПеремещениеОС", ТаблицыДокумента);
	
	// ПеремещениеОС2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПеремещениеОС2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("ПеремещениеОС2_4", ТаблицыДокумента);
	
	// ПеремещениеНМА2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПеремещениеНМА2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьНМА");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияНМА");
	ТаблицыТиповДокументов.Вставить("ПеремещениеНМА2_4", ТаблицыДокумента);
	
	// ПереоценкаНМА
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПереоценкаНМА");
	ТаблицыДокумента.Добавить("Документ.СписаниеНМА");
	ТаблицыДокумента.Добавить("РегистрБухгалтерии.Хозрасчетный");
	ТаблицыДокумента.Добавить("РегистрСведений.СчетаБухгалтерскогоУчетаНМА");
	ТаблицыТиповДокументов.Вставить("ПереоценкаНМА", ТаблицыДокумента);
	
	// ПереоценкаНМА2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПереоценкаНМА2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьНМА");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияНМА");
	ТаблицыТиповДокументов.Вставить("ПереоценкаНМА2_4", ТаблицыДокумента);
	
	// ПереоценкаОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПереоценкаОС");
	ТаблицыДокумента.Добавить("Документ.СписаниеОС");
	ТаблицыДокумента.Добавить("РегистрСведений.МестонахождениеОСБухгалтерскийУчет");
	ТаблицыДокумента.Добавить("РегистрСведений.СчетаБухгалтерскогоУчетаОС");
	ТаблицыТиповДокументов.Вставить("ПереоценкаОС", ТаблицыДокумента);
	
	// ПереоценкаОС2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПереоценкаОС2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("ПереоценкаОС2_4", ТаблицыДокумента);
	
	// ПодготовкаКПередачеНМА
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПодготовкаКПередачеНМА");
	ТаблицыДокумента.Добавить("Документ.СписаниеНМА");
	ТаблицыДокумента.Добавить("РегистрБухгалтерии.Хозрасчетный");
	ТаблицыДокумента.Добавить("РегистрСведений.СчетаБухгалтерскогоУчетаНМА");
	ТаблицыТиповДокументов.Вставить("ПодготовкаКПередачеНМА", ТаблицыДокумента);
	
	// ПодготовкаКПередачеНМА2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПодготовкаКПередачеНМА2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьНМА");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияНМА");
	ТаблицыТиповДокументов.Вставить("ПодготовкаКПередачеНМА2_4", ТаблицыДокумента);
	
	// ПодготовкаКПередачеОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПодготовкаКПередачеОС");
	ТаблицыДокумента.Добавить("Документ.СписаниеОС");
	ТаблицыДокумента.Добавить("РегистрБухгалтерии.Хозрасчетный");
	ТаблицыДокумента.Добавить("РегистрСведений.МестонахождениеОСБухгалтерскийУчет");
	ТаблицыДокумента.Добавить("РегистрСведений.СчетаБухгалтерскогоУчетаОС");
	ТаблицыТиповДокументов.Вставить("ПодготовкаКПередачеОС", ТаблицыДокумента);
	
	// ПодготовкаКПередачеОС2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПодготовкаКПередачеОС2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("ПодготовкаКПередачеОС2_4", ТаблицыДокумента);
	
	// ВозвратОСОтАрендатора2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратОСОтАрендатора2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыТиповДокументов.Вставить("ВозвратОСОтАрендатора2_4", ТаблицыДокумента);
	// --РУЧНОЙ СБОР
	
	// АвансовыйОтчет
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.АвансовыйОтчет");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("АвансовыйОтчет", ТаблицыДокумента);
	
	// АктВыполненныхВнутреннихРабот
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.АктВыполненныхВнутреннихРабот");
	ТаблицыТиповДокументов.Вставить("АктВыполненныхВнутреннихРабот", ТаблицыДокумента);
	
	// АмортизацияНМА2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.АмортизацияНМА2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияНМА");
	ТаблицыТиповДокументов.Вставить("АмортизацияНМА2_4", ТаблицыДокумента);
	
	// АмортизацияОС2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.АмортизацияОС2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("АмортизацияОС2_4", ТаблицыДокумента);
	
	// АктВыполненныхРабот
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.АктВыполненныхРабот");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("АктВыполненныхРабот", ТаблицыДокумента);

	// АннулированиеПодарочныхСертификатов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.АннулированиеПодарочныхСертификатов");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПодарочныеСертификаты");
	ТаблицыТиповДокументов.Вставить("АннулированиеПодарочныхСертификатов", ТаблицыДокумента);

	// ВводОстатков
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВводОстатков");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ВводОстатков", ТаблицыДокумента);

	// ВводОстатковВнеоборотныхАктивов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВводОстатковВнеоборотныхАктивов");
	ТаблицыТиповДокументов.Вставить("ВводОстатковВнеоборотныхАктивов", ТаблицыДокумента);

	// ВводОстатковВнеоборотныхАктивов2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВводОстатковВнеоборотныхАктивов2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьНМА");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияНМА");
	ТаблицыТиповДокументов.Вставить("ВводОстатковВнеоборотныхАктивов2_4", ТаблицыДокумента);
	
	// ВзаимозачетЗадолженности
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВзаимозачетЗадолженности");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДвиженияКонтрагентКонтрагент");
	ТаблицыДокумента.Добавить("РегистрСведений.УчетнаяПолитикаОрганизаций");
	ТаблицыТиповДокументов.Вставить("ВзаимозачетЗадолженности", ТаблицыДокумента);

	// ВнутреннееПотреблениеТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВнутреннееПотреблениеТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ВнутреннееПотреблениеТоваров", ТаблицыДокумента);

	// ВозвратМатериаловИзПроизводства
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратМатериаловИзПроизводства");
	ТаблицыДокумента.Добавить("РегистрСведений.ПорядокОтраженияНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ВозвратМатериаловИзПроизводства", ТаблицыДокумента);

	// ВозвратОСОтАрендатора
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратОСОтАрендатора");
	ТаблицыТиповДокументов.Вставить("ВозвратОСОтАрендатора", ТаблицыДокумента);

	// ВозвратОСОтАрендатора2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратОСОтАрендатора2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("ВозвратОСОтАрендатора2_4", ТаблицыДокумента);
	
	// ВозвратПодарочныхСертификатов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратПодарочныхСертификатов");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДвиженияДенежныеСредстваКонтрагент");
	ТаблицыТиповДокументов.Вставить("ВозвратПодарочныхСертификатов", ТаблицыДокумента);


	// ВозвратСырьяОтПереработчика
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратСырьяОтПереработчика");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВозвратСырьяОтПереработчика", ТаблицыДокумента);

	// ВозвратТоваровМеждуОрганизациями
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратТоваровМеждуОрганизациями");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВозвратТоваровМеждуОрганизациями", ТаблицыДокумента);

	// ВозвратТоваровОтКлиента
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратТоваровОтКлиента");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаПоПартнерам");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВозвратТоваровОтКлиента", ТаблицыДокумента);

	// ВозвратТоваровПоставщику
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВозвратТоваровПоставщику");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВозвратТоваровПоставщику", ТаблицыДокумента);

	// ВыбытиеАрендованныхОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВыбытиеАрендованныхОС");
	ТаблицыТиповДокументов.Вставить("ВыбытиеАрендованныхОС", ТаблицыДокумента);

	// ВыбытиеДенежныхДокументов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВыбытиеДенежныхДокументов");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВыбытиеДенежныхДокументов", ТаблицыДокумента);

	// ВыкупВозвратнойТарыКлиентом
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВыкупВозвратнойТарыКлиентом");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВыкупВозвратнойТарыКлиентом", ТаблицыДокумента);

	// ВыкупВозвратнойТарыУПоставщика
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВыкупВозвратнойТарыУПоставщика");
	ТаблицыТиповДокументов.Вставить("ВыкупВозвратнойТарыУПоставщика", ТаблицыДокумента);

	// ВыпускПродукции
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВыпускПродукции");
	ТаблицыТиповДокументов.Вставить("ВыпускПродукции", ТаблицыДокумента);

	// ДвижениеПродукцииИМатериалов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ДвижениеПродукцииИМатериалов");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.ПорядокОтраженияНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ДвижениеПродукцииИМатериалов", ТаблицыДокумента);

	// ДепонированиеЗарплаты
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ДепонированиеЗарплаты");
	ТаблицыТиповДокументов.Вставить("ДепонированиеЗарплаты", ТаблицыДокумента);

	// ЗаписьКнигиПокупок
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ЗаписьКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ЗаписьКнигиПокупок", ТаблицыДокумента);

	// ЗаписьКнигиПродаж
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ЗаписьКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ЗаписьКнигиПродаж", ТаблицыДокумента);

	// ЗаявлениеОВвозеТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ЗаявлениеОВвозеТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("ЗаявлениеОВвозеТоваров", ТаблицыДокумента);

	// ИзменениеПараметровОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ИзменениеПараметровОС");
	ТаблицыТиповДокументов.Вставить("ИзменениеПараметровОС", ТаблицыДокумента);

	// ИзменениеПараметровНМА2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ИзменениеПараметровНМА2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияНМА");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьНМА");
	ТаблицыТиповДокументов.Вставить("ИзменениеПараметровНМА2_4", ТаблицыДокумента);
	
	// ИзменениеПараметровОС2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ИзменениеПараметровОС2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыТиповДокументов.Вставить("ИзменениеПараметровОС2_4", ТаблицыДокумента);
	
	// ИнвентаризацияНаличныхДенежныхСредств
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ИнвентаризацияНаличныхДенежныхСредств");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ИнвентаризацияНаличныхДенежныхСредств", ТаблицыДокумента);

	// ИнойДокументПодтвержденияНДС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("ИнойДокументПодтвержденияНДС", ТаблицыДокумента);
	
	// ИсправлениеРазвернутогоСальдоТоваровОрганизаций
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ИсправлениеРазвернутогоСальдоТоваровОрганизаций");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыТиповДокументов.Вставить("ИсправлениеРазвернутогоСальдоТоваровОрганизаций", ТаблицыДокумента);
	
	// КорректировкаПриобретения
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ЗаказПоставщику");
	ТаблицыДокумента.Добавить("Документ.КорректировкаПриобретения");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаПоПартнерам");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("КорректировкаПриобретения", ТаблицыДокумента);

	// КорректировкаРеализации
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ЗаказКлиента");
	ТаблицыДокумента.Добавить("Документ.ЗаявкаНаВозвратТоваровОтКлиента");
	ТаблицыДокумента.Добавить("Документ.КорректировкаРеализации");
	ТаблицыДокумента.Добавить("Документ.РеализацияТоваровУслуг");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаПоПартнерам");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("КорректировкаРеализации", ТаблицыДокумента);

	// МодернизацияОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.МодернизацияОС");
	ТаблицыТиповДокументов.Вставить("МодернизацияОС", ТаблицыДокумента);

	// МодернизацияОС2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.МодернизацияОС2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыТиповДокументов.Вставить("МодернизацияОС2_4", ТаблицыДокумента);

	
	// НачислениеДивидендов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.НачислениеДивидендов");
	ТаблицыТиповДокументов.Вставить("НачислениеДивидендов", ТаблицыДокумента);

	// НачислениеОценочныхОбязательствПоОтпускам
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.НачислениеОценочныхОбязательствПоОтпускам");
	ТаблицыТиповДокументов.Вставить("НачислениеОценочныхОбязательствПоОтпускам", ТаблицыДокумента);

	// НачисленияКредитовИДепозитов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.НачисленияКредитовИДепозитов");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("НачисленияКредитовИДепозитов", ТаблицыДокумента);

	// ОперацияПоПлатежнойКарте
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОперацияПоПлатежнойКарте");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыТиповДокументов.Вставить("ОперацияПоПлатежнойКарте", ТаблицыДокумента);

	// ОприходованиеИзлишковТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОприходованиеИзлишковТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОприходованиеИзлишковТоваров", ТаблицыДокумента);

	// ОтражениеЗарплатыВФинансовомУчете
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтражениеЗарплатыВФинансовомУчете");
	ТаблицыДокумента.Добавить("РегистрНакопления.ОтражениеЗарплатыВФинансовомУчете");
	ТаблицыТиповДокументов.Вставить("ОтражениеЗарплатыВФинансовомУчете", ТаблицыДокумента);

	// ОтражениеРасхожденийПриИнкассацииДенежныхСредств
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтражениеРасхожденийПриИнкассацииДенежныхСредств");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтражениеРасхожденийПриИнкассацииДенежныхСредств", ТаблицыДокумента);

	// ОтчетБанкаПоОперациямЭквайринга
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетБанкаПоОперациямЭквайринга");
	ТаблицыТиповДокументов.Вставить("ОтчетБанкаПоОперациямЭквайринга", ТаблицыДокумента);


	// ОтчетКомиссионера
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетКомиссионера");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетКомиссионера", ТаблицыДокумента);

	// ОтчетКомиссионераОСписании
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетКомиссионераОСписании");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетКомиссионераОСписании", ТаблицыДокумента);

	// ОтчетКомитенту
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетКомитенту");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетКомитенту", ТаблицыДокумента);

	// ОтчетКомитентуОСписании
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетКомитентуОСписании");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетКомитентуОСписании", ТаблицыДокумента);

	// ОтчетОператораСистемыПлатон
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетОператораСистемыПлатон");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетОператораСистемыПлатон", ТаблицыДокумента);

	// ОтчетОРозничныхПродажах
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетОРозничныхПродажах");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетОРозничныхПродажах", ТаблицыДокумента);

	// ОтчетПереработчика
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетПереработчика");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетПереработчика", ТаблицыДокумента);

	// ОтчетПоКомиссииМеждуОрганизациями
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетПоКомиссииМеждуОрганизациями");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетПоКомиссииМеждуОрганизациями", ТаблицыДокумента);

	// ОтчетПоКомиссииМеждуОрганизациямиОСписании
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтчетПоКомиссииМеждуОрганизациямиОСписании");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОтчетПоКомиссииМеждуОрганизациямиОСписании", ТаблицыДокумента);


	// ПередачаМатериаловВПроизводство
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПередачаМатериаловВПроизводство");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.ПорядокОтраженияНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ПередачаМатериаловВПроизводство", ТаблицыДокумента);

	// ПередачаОСАрендатору
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПередачаОСАрендатору");
	ТаблицыТиповДокументов.Вставить("ПередачаОСАрендатору", ТаблицыДокумента);

	// ПередачаОСАрендатору2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПередачаОСАрендатору2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("ПередачаОСАрендатору2_4", ТаблицыДокумента);

	// ПередачаСырьяПереработчику
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПередачаСырьяПереработчику");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СтоимостьТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПередачаСырьяПереработчику", ТаблицыДокумента);

	// ПередачаТоваровМеждуОрганизациями
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПередачаТоваровМеждуОрганизациями");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПередачаТоваровМеждуОрганизациями", ТаблицыДокумента);

	// ПеремещениеМатериаловВПроизводстве
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПеремещениеМатериаловВПроизводстве");
	ТаблицыТиповДокументов.Вставить("ПеремещениеМатериаловВПроизводстве", ТаблицыДокумента);

	// ПеремещениеТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПеремещениеТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ПеремещениеТоваров", ТаблицыДокумента);

	// РасчетКурсовыхРазниц
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РасчетКурсовыхРазниц");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДенежныеДокументы");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДенежныеСредстваБезналичные");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДенежныеСредстваВПути");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДенежныеСредстваНаличные");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДенежныеСредстваУПодотчетныхЛиц");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыПоФинансовымИнструментам");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентамиПоДокументам");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщикамиПоДокументам");
	ТаблицыТиповДокументов.Вставить("РасчетКурсовыхРазниц", ТаблицыДокумента);

	// ПересортицаТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПересортицаТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ПересортицаТоваров", ТаблицыДокумента);

	// ПогашениеСтоимостиТМЦВЭксплуатации
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПогашениеСтоимостиТМЦВЭксплуатации");
	ТаблицыТиповДокументов.Вставить("ПогашениеСтоимостиТМЦВЭксплуатации", ТаблицыДокумента);

	// ПорчаТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПорчаТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ПорчаТоваров", ТаблицыДокумента);

	// ПоступлениеАрендованныхОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПоступлениеАрендованныхОС");
	ТаблицыТиповДокументов.Вставить("ПоступлениеАрендованныхОС", ТаблицыДокумента);

	// ПоступлениеБезналичныхДенежныхСредств
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПоступлениеБезналичныхДенежныхСредств");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеДоходы");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходы");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПоступлениеБезналичныхДенежныхСредств", ТаблицыДокумента);

	// ПоступлениеДенежныхДокументов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПоступлениеДенежныхДокументов");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПоступлениеДенежныхДокументов", ТаблицыДокумента);

	// ПоступлениеОтПереработчика
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПоступлениеОтПереработчика");
	ТаблицыТиповДокументов.Вставить("ПоступлениеОтПереработчика", ТаблицыДокумента);

	// ПоступлениеПредметовЛизинга
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПоступлениеПредметовЛизинга");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПоступлениеПредметовЛизинга", ТаблицыДокумента);


	// ПоступлениеТоваровНаСклад
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПоступлениеТоваровНаСклад");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыТиповДокументов.Вставить("ПоступлениеТоваровНаСклад", ТаблицыДокумента);

	// ПриобретениеТоваровУслуг
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПриобретениеТоваровУслуг");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПриобретениеТоваровУслуг", ТаблицыДокумента);

	// ПриобретениеУслугПоЛизингу
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПриобретениеУслугПоЛизингу");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПриобретениеУслугПоЛизингу", ТаблицыДокумента);

	// ПриобретениеУслугПрочихАктивов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПриобретениеУслугПрочихАктивов");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПриобретениеУслугПрочихАктивов", ТаблицыДокумента);

	// ПринятиеКУчетуНМА
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПринятиеКУчетуНМА");
	ТаблицыТиповДокументов.Вставить("ПринятиеКУчетуНМА", ТаблицыДокумента);

	// ПринятиеКУчетуНМА2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПринятиеКУчетуНМА2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьНМА");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияНМА");
	ТаблицыТиповДокументов.Вставить("ПринятиеКУчетуНМА2_4", ТаблицыДокумента);

	// ПринятиеКУчетуОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПринятиеКУчетуОС");
	ТаблицыТиповДокументов.Вставить("ПринятиеКУчетуОС", ТаблицыДокумента);

	// ПринятиеКУчетуОС2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПринятиеКУчетуОС2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("ПринятиеКУчетуОС2_4", ТаблицыДокумента);

	// РазукомплектацияОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РазукомплектацияОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("РазукомплектацияОС", ТаблицыДокумента);

	// ПриходныйКассовыйОрдер
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПриходныйКассовыйОрдер");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеДоходы");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходы");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПриходныйКассовыйОрдер", ТаблицыДокумента);

	// ПрочееОприходованиеТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПрочееОприходованиеТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.ПорядокОтраженияНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПрочееОприходованиеТоваров", ТаблицыДокумента);

	// ПрочиеДоходыРасходы
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПрочиеДоходыРасходы");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПрочиеДоходыРасходы", ТаблицыДокумента);
	
	// РаспределениеДоходовПоНаправлениямДеятельности
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РаспределениеДоходовПоНаправлениямДеятельности");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходы");
	ТаблицыДокумента.Добавить("РегистрСведений.ПорядокОтраженияРасходов");
	ТаблицыТиповДокументов.Вставить("РаспределениеДоходовПоНаправлениямДеятельности", ТаблицыДокумента);

	// РаспределениеНДС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПринятиеКУчетуНМА");
	ТаблицыДокумента.Добавить("Документ.ПринятиеКУчетуОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПартииНДСКРаспределению");
	ТаблицыТиповДокументов.Вставить("РаспределениеНДС", ТаблицыДокумента);

	// РаспределениеПроизводственныхЗатрат
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РаспределениеПроизводственныхЗатрат");
	ТаблицыТиповДокументов.Вставить("РаспределениеПроизводственныхЗатрат", ТаблицыДокумента);

	// РаспределениеПрочихЗатрат
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РаспределениеПрочихЗатрат");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходы");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходыНезавершенногоПроизводства");
	ТаблицыДокумента.Добавить("РегистрСведений.ПорядокОтраженияРасходов");
	ТаблицыТиповДокументов.Вставить("РаспределениеПрочихЗатрат", ТаблицыДокумента);

	// РаспределениеРасходовБудущихПериодов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РаспределениеРасходовБудущихПериодов");
	ТаблицыТиповДокументов.Вставить("РаспределениеРасходовБудущихПериодов", ТаблицыДокумента);

	// РасходныйКассовыйОрдер
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РасходныйКассовыйОрдер");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.ОплатаВедомостейНаВыплатуЗарплаты");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("РасходныйКассовыйОрдер", ТаблицыДокумента);

	// РасчетСебестоимостиТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РасчетСебестоимостиТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходы");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("РасчетСебестоимостиТоваров", ТаблицыДокумента);

	// РеализацияПодарочныхСертификатов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РеализацияПодарочныхСертификатов");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДвиженияДенежныеСредстваКонтрагент");
	ТаблицыТиповДокументов.Вставить("РеализацияПодарочныхСертификатов", ТаблицыДокумента);

	// РеализацияТоваровУслуг
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РеализацияТоваровУслуг");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("РеализацияТоваровУслуг", ТаблицыДокумента);

	// РеализацияУслугПрочихАктивов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РеализацияУслугПрочихАктивов");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("РеализацияУслугПрочихАктивов", ТаблицыДокумента);

	// РегламентнаяОперация
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РегламентнаяОперация");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходы");
	ТаблицыДокумента.Добавить("РегистрСведений.ПорядокОтраженияРасходов");
	ТаблицыТиповДокументов.Вставить("РегламентнаяОперация", ТаблицыДокумента);

	// СборкаТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СборкаТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("СборкаТоваров", ТаблицыДокумента);

	// СписаниеБезналичныхДенежныхСредств
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеБезналичныхДенежныхСредств");
	ТаблицыДокумента.Добавить("РегистрНакопления.ДенежныеСредстваБезналичные");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("СписаниеБезналичныхДенежныхСредств", ТаблицыДокумента);

	// СписаниеЗадолженности
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеЗадолженности");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("СписаниеЗадолженности", ТаблицыДокумента);

	// СписаниеНедостачТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеНедостачТоваров");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("СписаниеНедостачТоваров", ТаблицыДокумента);

	// СписаниеНМА
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеНМА");
	ТаблицыТиповДокументов.Вставить("СписаниеНМА", ТаблицыДокумента);

	// СписаниеНМА2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеНМА2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьНМА");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияНМА");
	ТаблицыТиповДокументов.Вставить("СписаниеНМА2_4", ТаблицыДокумента);

	// СписаниеОС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеОС");
	ТаблицыТиповДокументов.Вставить("СписаниеОС", ТаблицыДокумента);

	// СписаниеОС2_4
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеОС2_4");
	ТаблицыДокумента.Добавить("РегистрНакопления.СтоимостьОС");
	ТаблицыДокумента.Добавить("РегистрНакопления.АмортизацияОС");
	ТаблицыТиповДокументов.Вставить("СписаниеОС2_4", ТаблицыДокумента);

	// СчетФактураВыданный
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СчетФактураВыданный");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("СчетФактураВыданный", ТаблицыДокумента);

	// СчетФактураВыданныйАванс
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СчетФактураВыданныйАванс");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("СчетФактураВыданныйАванс", ТаблицыДокумента);

	// СчетФактураНалоговыйАгент
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СчетФактураНалоговыйАгент");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("СчетФактураНалоговыйАгент", ТаблицыДокумента);

	// СчетФактураНаНеподтвержденнуюРеализацию0
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("СчетФактураНаНеподтвержденнуюРеализацию0", ТаблицыДокумента);

	// СчетФактураПолученный
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("СчетФактураПолученный", ТаблицыДокумента);
	
	// СчетФактураПолученныйНалоговыйАгент
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("СчетФактураПолученныйНалоговыйАгент", ТаблицыДокумента);
	
	// СписаниеНДСНаРасходы
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеНДСНаРасходы");
	ТаблицыТиповДокументов.Вставить("СписаниеНДСНаРасходы", ТаблицыДокумента);
	
	// СчетФактураПолученныйАванс
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СчетФактураПолученныйАванс");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПокупок");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("СчетФактураПолученныйАванс", ТаблицыДокумента);

	// ТаможеннаяДекларацияИмпорт
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ТаможеннаяДекларацияИмпорт");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("ТаможеннаяДекларацияИмпорт", ТаблицыДокумента);
	
	// КорректировкаНазначенияТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.КорректировкаНазначенияТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыТиповДокументов.Вставить("КорректировкаНазначенияТоваров", ТаблицыДокумента);
	
	// КорректировкаВидаДеятельностиНДС
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.КорректировкаВидаДеятельностиНДС");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыТиповДокументов.Вставить("КорректировкаВидаДеятельностиНДС", ТаблицыДокумента);
	
	// КорректировкаНазначенияТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.КорректировкаНазначенияТоваров");
	ТаблицыТиповДокументов.Вставить("КорректировкаНазначенияТоваров", ТаблицыДокумента);
	
	
	// ПроизводствоБезЗаказа
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПроизводствоБезЗаказа");
	ТаблицыТиповДокументов.Вставить("ПроизводствоБезЗаказа", ТаблицыДокумента);
	
	// ОперацииПоЯндексКассе
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОперацияПоЯндексКассе");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыТиповДокументов.Вставить("ОперацияПоЯндексКассе", ТаблицыДокумента);

	// МаркировкаТоваровГИСМ
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.МаркировкаТоваровГИСМ");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("МаркировкаТоваровГИСМ", ТаблицыДокумента);

	// ПеремаркировкаТоваровГИСМ
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПеремаркировкаТоваровГИСМ");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("ПеремаркировкаТоваровГИСМ", ТаблицыДокумента);
	
	// ВнесениеДенежныхСредствВКассуККМ
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВнесениеДенежныхСредствВКассуККМ");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВнесениеДенежныхСредствВКассуККМ", ТаблицыДокумента);
	
	// ВыемкаДенежныхСредствИзКассыККМ
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВыемкаДенежныхСредствИзКассыККМ");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВыемкаДенежныхСредствИзКассыККМ", ТаблицыДокумента);
	
	// ОперацияПоЯндексКассе
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОперацияПоЯндексКассе");
	ТаблицыДокумента.Добавить("РегистрСведений.КурсыВалют");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентамиПоДокументам");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ОперацияПоЯндексКассе", ТаблицыДокумента);
	
	// РегистраторРасчетов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РегистраторРасчетов");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентамиПоСрокам");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщикамиПоСрокам");
	ТаблицыТиповДокументов.Вставить("РегистраторРасчетов", ТаблицыДокумента);
	
	//++ НЕ УТ
	// ПриемкаТоваровНаХранение
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПриемкаТоваровНаХранение");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ПриемкаТоваровНаХранение", ТаблицыДокумента);
	
	// ВыкупПринятыхНаХранениеТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВыкупПринятыхНаХранениеТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСПредъявленный");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСПоставщиками");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВыкупПринятыхНаХранениеТоваров", ТаблицыДокумента);

	// СписаниеПринятыхНаХранениеТоваров
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеПринятыхНаХранениеТоваров");
	ТаблицыТиповДокументов.Вставить("СписаниеПринятыхНаХранениеТоваров", ТаблицыДокумента);
	
	// ОтгрузкаТоваровСХранения
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ОтгрузкаТоваровСХранения");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыТиповДокументов.Вставить("ОтгрузкаТоваровСХранения", ТаблицыДокумента);
	
	// НачислениеСписаниеРезервовПредстоящихРасходов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.НачислениеСписаниеРезервовПредстоящихРасходов");
	ТаблицыДокумента.Добавить("РегистрНакопления.РезервыПредстоящихРасходов");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходы");
	ТаблицыТиповДокументов.Вставить("НачислениеСписаниеРезервовПредстоящихРасходов", ТаблицыДокумента);
	
	// НачислениеСписаниеРезервовПоСомнительнымДолгам
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.НачислениеСписаниеРезервовПоСомнительнымДолгам");
	ТаблицыДокумента.Добавить("РегистрНакопления.РезервыПоСомнительнымДолгам");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеРасходы");
	ТаблицыДокумента.Добавить("РегистрНакопления.ПрочиеДоходы");
	ТаблицыТиповДокументов.Вставить("НачислениеСписаниеРезервовПоСомнительнымДолгам", ТаблицыДокумента);
	
	// ПередачаТоваровХранителю
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПередачаТоваровХранителю");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыТиповДокументов.Вставить("ПередачаТоваровХранителю", ТаблицыДокумента);
	
	// ПоступлениеТоваровОтХранителя
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ПоступлениеТоваровОтХранителя");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыТиповДокументов.Вставить("ПоступлениеТоваровОтХранителя", ТаблицыДокумента);
	
	// ВыкупТоваровХранителем
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.ВыкупТоваровХранителем");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыДокумента.Добавить("РегистрНакопления.НДСЗаписиКнигиПродаж");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыСКлиентами");
	ТаблицыДокумента.Добавить("РегистрСведений.СуммыДокументовВВалютеРегл");
	ТаблицыТиповДокументов.Вставить("ВыкупТоваровХранителем", ТаблицыДокумента);
	
	// СписаниеТоваровУХранителя
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.СписаниеТоваровУХранителя");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаНоменклатуры");
	ТаблицыТиповДокументов.Вставить("СписаниеТоваровУХранителя", ТаблицыДокумента);
	
	// РаспределениеВозвратныхОтходов
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.РаспределениеВозвратныхОтходов");
	ТаблицыДокумента.Добавить("РегистрНакопления.СебестоимостьТоваров");
	ТаблицыТиповДокументов.Вставить("РаспределениеВозвратныхОтходов", ТаблицыДокумента);
	//-- НЕ УТ
	
	// КорректировкаЗадолженностиПоФинансовымИнструментам
	ТаблицыДокумента = Новый Массив;
	ТаблицыДокумента.Добавить("Документ.КорректировкаЗадолженностиПоФинансовымИнструментам");
	ТаблицыДокумента.Добавить("РегистрНакопления.РасчетыПоФинансовымИнструментам");
	ТаблицыДокумента.Добавить("РегистрСведений.АналитикаУчетаПоПартнерам");
	ТаблицыДокумента.Добавить("ПланВидовХарактеристик.СтатьиРасходов");
	ТаблицыДокумента.Добавить("Справочник.ОбъектыСтроительства");
	ТаблицыТиповДокументов.Вставить("КорректировкаЗадолженностиПоФинансовымИнструментам", ТаблицыДокумента);

	МассивТипов = ТаблицыТиповДокументов[ИмяТипаДокумента];
	
	Если РеглУчетВыборкиСерверПовтИсп.ЭтоРасчетныйДокумент(ИмяТипаДокумента) Тогда
		Если ПолучитьФункциональнуюОпцию("НоваяАрхитектураВзаиморасчетов") Тогда
			МассивТипов.Добавить("РегистрНакопления.РасчетыСКлиентамиПоСрокам");
			МассивТипов.Добавить("РегистрНакопления.РасчетыСПоставщикамиПоСрокам");
		Иначе
			МассивТипов.Добавить("РегистрНакопления.РасчетыСКлиентамиПоДокументам");
			МассивТипов.Добавить("РегистрНакопления.РасчетыСПоставщикамиПоДокументам");
		КонецЕсли;
	КонецЕсли;
	
	Возврат МассивТипов;

КонецФункции

// Возвращает параметры расчета в суммы валюте управленческой финансовой отчетности
//
// Параметры:
// 	Период - Дата - Период операции.
//
// Возвращаемое значение:
// 	Результат - Неопределено - Если учет в валюте фин. отчетности не ведется
// 	          - Структура - Параметры пересчета содержат
// 						* РесурсИсточник - Строка - Имя ресурса бухгалтерии, который является источником
// 						* Коэффициент - Число - Коэффициент пересчета.
//
Функция ПараметрыРасчетаСуммыФО(Период) Экспорт
	
	УчетВВалютеФО = ПолучитьФункциональнуюОпцию("ВестиУчетНаПланеСчетовХозрасчетныйВВалютеФинОтчетности");
	Если Не УчетВВалютеФО Тогда
		Возврат Неопределено;
	КонецЕсли;
	
	ИсточникСуммыДляПересчета = Константы.ИсточникСуммыДляПересчетаВВалютуФинОтчетности.Получить();
	Если Не ЗначениеЗаполнено(ИсточникСуммыДляПересчета) Тогда
		ИсточникСуммыДляПересчета = Перечисления.ИсточникиСуммыДляПересчетаВВалютуФинОтчетности.БУ;
	КонецЕсли;
	ВалютаФинОтчетности = Константы.ВалютаФинОтчетности.Получить();
	КурсВалютыФинОтчетности = РаботаСКурсамиВалют.ПолучитьКурсВалюты(ВалютаФинОтчетности, Период);
	Если ИсточникСуммыДляПересчета = Перечисления.ИсточникиСуммыДляПересчетаВВалютуФинОтчетности.БУ Тогда
		ВалютаИсточника = Константы.ВалютаРегламентированногоУчета.Получить();
		РесурсИсточник = "Сумма";
	Иначе
		ВалютаИсточника = Константы.ВалютаУправленческогоУчета.Получить();
		РесурсИсточник = "СуммаУУ";
	КонецЕсли;
	
	КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ВалютаИсточника, ВалютаФинОтчетности, Период);
	
	Результат = Новый Структура;
	Результат.Вставить("РесурсИсточник", РесурсИсточник);
	Результат.Вставить("Коэффициент",    КоэффициентПересчета);
	
	Возврат Результат;
	
КонецФункции

// Возвращает параметры расчета в суммы УУ
//
// Параметры:
// 	Период - Дата - Период операции.
//
// Возвращаемое значение:
// 	Результат - Неопределено - Если учет в валюте фин. отчетности не ведется
// 	          - Структура - Параметры пересчета содержат
// 						* РесурсИсточник - Строка - Имя ресурса бухгалтерии, который является источником
// 						* Коэффициент - Число - Коэффициент пересчета.
//
Функция ПараметрыРасчетаСуммыУУ(Период) Экспорт
	
	ВестиУУ = ПолучитьФункциональнуюОпцию("ВестиУУНаПланеСчетовХозрасчетный");
	Если Не ВестиУУ Тогда
		Возврат Неопределено;
	КонецЕсли;
	
	ВалютаУправленческогоУчета = Константы.ВалютаУправленческогоУчета.Получить();
	ВалютаРегламентированногоУчета = Константы.ВалютаРегламентированногоУчета.Получить();
	
	КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(
		ВалютаРегламентированногоУчета, 
		ВалютаУправленческогоУчета, 
		Период);
	Результат = Новый Структура;
	Результат.Вставить("РесурсИсточник", "Сумма");
	Результат.Вставить("Коэффициент",   КоэффициентПересчета);
	
	Возврат Результат;
	
КонецФункции

// Возвращает параметры, используемые при выполнении запроса отражения документов в регл. учете,
//	как правило, это установка констант. Заполняются так же параметры, используемые в запросах
//	"ЗапросХозрасчетный" и "ЗапросСопоставлений" - для совместимости с внешними обработками.
//	
//	Возвращаемое значение:
//		Структура - содержит параметры, необходимые при выполнении запроса отражения документов в регл. учете.
//
Функция ПараметрыОтраженияРеглУчетаПоУмолчанию() Экспорт
	
	НастройкиУчетаНДС = УчетНДСУП.НастройкиУчета();
	
	СтруктураПараметров = Новый Структура;
	СтруктураПараметров.Вставить("ДатаНачалаДействия150ФЗ", НастройкиУчетаНДС.ДатаРазделенияЭкспорта);
	СтруктураПараметров.Вставить("ВалютаУпрУчета",          Константы.ВалютаУправленческогоУчета.Получить());
	СтруктураПараметров.Вставить("ВалютаФинОтчетности",     Константы.ВалютаФинОтчетности.Получить());
	СтруктураПараметров.Вставить("ВалютаРеглУчета",         Константы.ВалютаРегламентированногоУчета.Получить());
	СтруктураПараметров.Вставить("ДатаПереходаНаПартионныйУчетВерсии22", Константы.ДатаПереходаНаПартионныйУчетВерсии22.Получить());
	СтруктураПараметров.Вставить("ДатаНачалаУчетаВнеоборотныхАктивов2_4", Константы.ДатаНачалаУчетаВнеоборотныхАктивов2_4.Получить());
	СтруктураПараметров.Вставить("ИсточникСуммыДляПересчетаВВалютуФО", Константы.ИсточникСуммыДляПересчетаВВалютуФинОтчетности.Получить());
	СтруктураПараметров.Вставить("ВалютаФинОтчетности", Константы.ВалютаФинОтчетности.Получить());
	СтруктураПараметров.Вставить("ПустаяСсылка",        ПланыСчетов.Хозрасчетный.ПустаяСсылка());
	СтруктураПараметров.Вставить("ВестиУУ",             Константы.ВестиУУНаПланеСчетовХозрасчетный.Получить());
	СтруктураПараметров.Вставить("ДатаНачалаВеденияУУ", Константы.ДатаНачалаУУНаПланеСчетовХозрасчетный.Получить());
	СтруктураПараметров.Вставить("ДатаНачалаУчетаНДСПоНаправлениямДеятельности", НастройкиУчетаНДС.ДатаНачалаУчетаНДСПоНаправлениямДеятельности);
	СтруктураПараметров.Вставить("ДатаОтраженияВозвратовКорректировочнымиСФ", НастройкиУчетаНДС.ДатаОтраженияВозвратовКорректировочнымиСФ);
	СтруктураПараметров.Вставить("ДатаВозможностиВычетаПриОказанииУслугНеВРФ", НастройкиУчетаНДС.ДатаВозможностиВычетаПриОказанииУслугНеВРФ);
	
	СтруктураПараметров.Вставить("ТипыНеОблагаемыеНДС",      УчетНДСУП.ВидыДеятельностиНДСУчитываетсяВСтоимости());
	СтруктураПараметров.Вставить("ТипыОблагаемыеНДС",        УчетНДСУП.ВидыДеятельностиНДСПринимаетсяКВозмещению());
	СтруктураПараметров.Вставить("ПустойТипНалогообложения", Перечисления.ТипыНалогообложенияНДС.ПустаяСсылка());
	СтруктураПараметров.Вставить("НоваяАрхитектураВзаиморасчетов", Константы.НоваяАрхитектураВзаиморасчетов.Получить());

	СтруктураПараметров.Вставить("ДатаПрекращенияДействияЛьготПлатон", ВнеоборотныеАктивыЛокализация.ДатаПрекращенияДействияЛьготПлатон());
	
	Возврат СтруктураПараметров;
	
КонецФункции

// Возвращает массив типов документов, для которых не используется ручная корректировка проводок.
//	ВозвращаемоеЗначение:
//		Массив - массив типов документов.
//
Функция ИсключенияИзРучнойКорректировкиПроводок() Экспорт
	
	МассивВозврата = Новый Массив;
	
	МассивВозврата.Добавить(Тип("ДокументСсылка.АмортизацияОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.АмортизацияНМА"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ВозвратОСОтАрендатора"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ВыбытиеАрендованныхОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПоступлениеАрендованныхОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ИзменениеПараметровОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.МодернизацияОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПередачаОСАрендатору"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПеремещениеОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПереоценкаНМА"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПереоценкаОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПодготовкаКПередачеНМА"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПодготовкаКПередачеОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПоступлениеПредметовЛизинга"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПринятиеКУчетуНМА"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.ПринятиеКУчетуОС"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.СписаниеНМА"));
	МассивВозврата.Добавить(Тип("ДокументСсылка.СписаниеОС"));
	
	Возврат МассивВозврата;
	
КонецФункции

// Функция задает правила исключений при отражении документа в регл. учете:
//	Типичное поведение: обращение к модулю менеджера документа для получения текста запроса временных таблиц и отражения;
//	Альтернатива: можно назначить для каких-либо документов обращение к какому-то общему модулю вместо типичного поведения;
//	Нет текстов отражения: если документ отражается оперативно (операцияБух или корректировка регистров) можно назначить для него пустую строку.
//
//	Возвращаемое значение:
//		Соответствие - ключом выступают имена документов, которые могут отражаться в регл. учете, значением - имя общего модуля, для вызова,
//			если значение не задано - для документа не будет назначаться никакого текста отражения.
//
Функция ДокументыИОбщиеМодулиОписывающиеОтражениеВРеглУчете()
	
	СоответствиеИменДокументовИменамОбщихМодулей = Новый Соответствие;
	СоответствиеИменДокументовИменамОбщихМодулей.Вставить("ОперацияБух", "");
	СоответствиеИменДокументовИменамОбщихМодулей.Вставить("МаркировкаТоваровГИСМ", "МаркировкаТоваровГИСМУТ");
	СоответствиеИменДокументовИменамОбщихМодулей.Вставить("ПеремаркировкаТоваровГИСМ", "МаркировкаТоваровГИСМУТ");
	
	Возврат СоответствиеИменДокументовИменамОбщихМодулей;
	
КонецФункции

#КонецОбласти

#КонецОбласти
